{"version":3,"sources":["WatchList.js","GlobalindexList.js","HoldingList.js","OrderUtil.js","OrderWindow.js","StockInfo.js","BasketOrderDialog.js","Fundamentals.js","CurrentTime.js","Search.js","HoldingOrderDialog.js","App.js","index.js"],"names":["WatchList","props","bringRusultsComingTodayInView","selector","Date","toISOString","split","document","querySelectorAll","scrollIntoView","this","kitedata","symbolList","kitePerfData","onTableRowclick","tableId","showToast","resultCalenderData","recentResultCalender","kiteBasketOrderData","tempSymbols","filter","symbol","undefined","ticks","map","index","key","Fragment","onClick","rowId","colSpan","style","textAlign","fontWeight","Object","keys","keyindex","className","toDateString","data","inHolding","React","Component","WatchListRow","openStockInfo","prevProps","change","lastTradedPrice","toFixed","isSeperator","changeClass","prefStyle","backgroundColor","color","name","GlobalindexList","rowOrder","investingdata","order","startsWith","HoldingList","positionsdata","holdingsdata","margin","totalHoldQty","totalPositionAddQty","totalPositionSellQty","dayPNLMIS","dayPNLCNC","dayPNL","tvalue","misTvalue","cncTvalue","i","length","hobj","quantity","t1_quantity","net","pobj","product","pnl","value","sort","a","b","day_change_percentage","PL","currentValue","totalInvestment","last_price","average_price","plClass","Math","round","title","equity","tradingsymbol","PositionWatchListRow","dayChangeClass","position","profit","isShowNotification","placeBuyLimitOrder","onSuccess","onErrror","transaction_type","fillCNCLimitOrderDetails","placeOrder","placeSellLimitOrder","placeSellMarketOrder","fillCNCMarketOrderDetails","placeMISBuyMarketOrder","fillMISMarketOrderDetails","order_type","validity","disclosed_quantity","trigger_price","squareoff","stoploss","trailing_stoploss","variety","user_id","fillCNCSLMarketOrderDetails","fillMISLimitOrderDetails","fillMISSLMarketOrderDetails","showToastMsg","content","toaster","notify","duration","formattedVals","prop","push","body","join","fetch","method","headers","window","authKey","then","response","json","jsonData","status","order_id","message","catch","error","console","getPosition","getFullQuote","queryString","OrderWindow","fillInputWithLatestPrice","depth","setState","orderStatus","exchange","orderStatusStyle","buyQuantity","buyPrice","buy","price","sellQuantity","sellPrice","sell","setFocusonOrderWindow","setTimeout","textInputBuyQty","select","textInputSellQty","updaetOrderStatus","onInputValueChange","evt","state","target","toogleBuyView","orderWindowView","buyView","localStorage","setItem","JSON","stringify","toogleSellView","sellView","onOrderSuccess","updateMarginData","onOrderError","sendBuyOrderRequest","sendSellOrderRequest","getItem","parse","type","onKeyUp","event","keyCode","for","ref","elem","onInput","step","min","max","StockInfo","onColorInput","stockInfo","updateKitePerfData","fetchHistoricalData","ticker","fromdate","setDate","getDate","token","hCandles","candles","bind","isShowGraph","d1","d2","d3","w1","w2","m1","m6","y1","y2","y3","y4","y5","hideStokInfo","addToFavList","removeFromFavList","showFundamentalsDialog","quoteData","totalTick","close","Number","parseInt","LC","UC","hrefGraph","graphStyle","top","right","width","height","quote","lower_circuit_limit","upper_circuit_limit","src","onDoubleClick","cursor","textDecoration","rel","lowPrice","highPrice","openPrice","closePrice","volumeTradedToday","totalBuyQuantity","totalSellQuantity","BasketOrderDialog","onPositionSuccess","onPositionError","updateOrderStatus","fetchPositionData","showDialog","isHideDialog","updateFillOrderRequest","totalOrderRequest","totalFillOrderRequest","checkFoPendingRequest","noOffendingOrderRequest","rowfRefs","getPendingOrderRequest","alert","totalSelectedRows","isCheckBoxChecked","placeBuyOrderForselectedRow","confirm","rowRef","placeSellOrderForselectedRow","onSQOFFClick","isSoffOnlySelectedRows","perc","prompt","totalValue","isNaN","fillQtyValueOnSqOffClick","onTpriceClick","fillPriceValueOnTpriceClick","fillQtyForValue","onSymbolSelect","element","classList","remove","add","onOnderTypeChange","orderType","setSortOrder","isSortPosition","isSortOnValue","isSortOnPriceChange","isSortOnMISQty","isSortOnDayQty","s1","totaOrderRequest","interval","setInterval","clearInterval","hideBasketOrderDialog","positionMap","openMIS","totalMIS","dayCNC","kiteBasketOrderDataCopy","v1","previosChangeSortedOrder","v2","buyButtonText","sellButtonText","id","display","ele","marginLeft","fontSize","bottom","checked","onChange","BasketListRow","isRowEnable","orderValue","abs","markCheckBox","priceChange","pendingOrderRequest","enable","getOrderValue","placeMISBuySLMarketOrder","placeMISSellLimitOrder","placeMISSellSLMarketOrder","checkboxstyle","borderLeft","rowstyle","dayQtyCNC","dayQtyMIS","dqCNCClass","dqMISClass","tabIndex","autoComplete","Fundamentals","hideFundamentalsDialog","hrefFunda","endsWith","replace","CurrentTime","checkTime","startTime","today","h","getHours","m","getMinutes","s","getSeconds","timeInterval","currentTime","Search","searchValue","rowMap","toUpperCase","matchs","attributes","rowid","list","searchInput","HoldingOrderDialog","toogleSellBuyCNCMISView","sellBuyCNCMISView","saveHoldingRowOrder","holdingOrder","indertPos","indexOf","splice","unshift","onHoldingSuccess","onHoldingError","fetchHoldingData","exitSoldPosition","holdinginterval","clearTimeout","misTimeout","hideHoldingOrderDialog","closeCNC","totalCNC","holding","dayMIS","saveRowOrder","combinedPosition","HoldingListRow","sendCNCMISSellBuyOrderRequest","placeBuySLMarketOrder","profitPec","holdingValue","holdingQty","App","removeOldAlerts","filtered","alertMap","now","time","reduce","obj","onMarginSuccess","onMarginError","showBasketOrderDialog","isShowBasketOrderDialog","basketOrderDialogRef","showHoldingOrderDialog","isShowHoldingOrderDialog","holdingOrderDialogRef","showFundamental","escFunction","refreshData","domain","getTime","isLoadOldPrice","kiteOldPriceData","kiteAllSymbols","onFetchMarketQuoteSuccess","onFetchMarketQuoteError","fetchMarketQuote","fetchAllKiteSymbolsList","fetchRecentCalenderCSVFile","text","textData","holdingMap","rows","trim","date","saveCurrentPrice","symbolSelector","isShow","includes","getElementById","onSelectorInput","val","allSymbols","item","portfolioId","isAdd","getFavSymbols","listId","favSymbols","favSymbols1","favSymbols2","favSymbols3","setFavSymbols","cursorRowId","deletePos","tradingSymbol","porpKey","propValue","handleChange","delta","source","editor","getHTML","isShowEditor","isShowResults","isShowMIS","isShowGL","indexSymbols","resCalenderTimout","marketQuoteTimeout","alertInterval","addEventListener","removeEventListener","gainers","loosers","tempSortedTicks","sortedTicks","t1","t2","feedStatusStyle","servTime","kiteTime","clientTime","theme","defaultValue","bringElementInView","segment","textName","expiry","strike","instrument_type","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1a23c367.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass WatchList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n\r\nbringRusultsComingTodayInView=()=>{\r\n      let today = new Date().toISOString().split('T')[0];\r\n      let selector = \"tr[rowid='RESULT-DATE-\"+today+\"']\";\r\n      if(document.querySelectorAll(selector) && document.querySelectorAll(selector)[0]){\r\n        document.querySelectorAll(selector)[0].scrollIntoView();  \r\n      }     \r\n}\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbolList,\r\n      kitePerfData,\r\n      onTableRowclick,\r\n      tableId,\r\n      showToast,\r\n      resultCalenderData,\r\n      recentResultCalender,\r\n      kiteBasketOrderData\r\n    }=this.props;\r\n\r\n    let tempSymbols=[];\r\n    if(kitedata){\r\n       tempSymbols = symbolList.filter(function(symbol){ return (symbol == 'SEPERATOR' || kitedata.ticks[symbol]!=undefined) });\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n                <th>LTP</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { tempSymbols.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={tableId} onTableRowclick={onTableRowclick} key={symbol+index} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n            \r\n            { resultCalenderData && <React.Fragment >\r\n               <tr></tr>\r\n               <tr></tr>\r\n               <tr onClick={this.bringRusultsComingTodayInView} rowId={\"RES-RESCALENDER\"}><td colSpan=\"3\" style={{textAlign:'center',fontWeight:'bold'}}>RES CALENDER</td></tr> \r\n               { resultCalenderData.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={'RES'} onTableRowclick={onTableRowclick} key={'RES-'+index+symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n               \r\n               <tr><td colSpan=\"3\" style={{textAlign:'center'}}>UPCOMMING RESULTS</td></tr>\r\n               {\r\n                Object.keys(recentResultCalender).map((key,keyindex)=>{\r\n                  return <React.Fragment key={key} ><tr rowId={'RESULT-DATE-'+key} key={key+keyindex}><td colSpan=\"3\" className=\"resultDate\">{new Date(key).toDateString()}</td></tr>\r\n                  {recentResultCalender[key].map((data,index)=> <WatchListRow showToast={showToast}  onTableRowclick={onTableRowclick} key={'UPCOMMING-RES-'+index+data.symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={data.symbol} inHolding={data.inHolding}/>)}\r\n                </React.Fragment>\r\n                })\r\n               }\r\n\r\n                \r\n             </React.Fragment>}\r\n\r\n\r\n            { kiteBasketOrderData && <React.Fragment >\r\n               <tr></tr>\r\n               <tr></tr>\r\n               <tr rowId={\"MIS-MISSCRIPTS\"} ><td colSpan=\"3\" style={{textAlign:'center',fontWeight:'bold'}}>MIS SCRIPTS</td></tr> \r\n               { kiteBasketOrderData.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={'MIS'} onTableRowclick={onTableRowclick} key={'MIS-'+index+symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n             </React.Fragment>}\r\n\r\n\r\n            </tbody>\r\n\r\n\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default WatchList;\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let symbol = this.props.symbol;\r\n     if (symbol!= 'SEPERATOR' && prevProps.symbol == symbol ) {\r\n       if(prevProps.kitedata.ticks[symbol].change < 3 && this.props.kitedata.ticks[symbol].change > 3\r\n        || prevProps.kitedata.ticks[symbol].change < 5 && this.props.kitedata.ticks[symbol].change > 5\r\n        || prevProps.kitedata.ticks[symbol].change < 8 && this.props.kitedata.ticks[symbol].change > 8\r\n        || prevProps.kitedata.ticks[symbol].change < 9.5 && this.props.kitedata.ticks[symbol].change > 9.5\r\n        || prevProps.kitedata.ticks[symbol].change < 13 && this.props.kitedata.ticks[symbol].change > 13\r\n        || prevProps.kitedata.ticks[symbol].change < 15 && this.props.kitedata.ticks[symbol].change > 15\r\n        ){\r\n\r\n        this.props.showToast(<div onClick={this.openStockInfo} className='green'>{this.props.symbol +\"  ->  \" + (this.props.kitedata.ticks[symbol].lastTradedPrice)}&nbsp;(<span>{(this.props.kitedata.ticks[symbol].change).toFixed(2)}</span>%)</div>,this.props.symbol);\r\n\r\n       }\r\n\r\n\r\n       if(prevProps.kitedata.ticks[symbol].change > -3 && this.props.kitedata.ticks[symbol].change < -3\r\n        || prevProps.kitedata.ticks[symbol].change > -5 && this.props.kitedata.ticks[symbol].change < -5\r\n        || prevProps.kitedata.ticks[symbol].change > -8 && this.props.kitedata.ticks[symbol].change < -8\r\n        || prevProps.kitedata.ticks[symbol].change > -9.5 && this.props.kitedata.ticks[symbol].change < -9.5\r\n        || prevProps.kitedata.ticks[symbol].change > -13 && this.props.kitedata.ticks[symbol].change < -13\r\n        || prevProps.kitedata.ticks[symbol].change > -15 && this.props.kitedata.ticks[symbol].change < -15\r\n        ){\r\n\r\n        this.props.showToast(<div onClick={this.openStockInfo} className='red'>{this.props.symbol +\"  ->  \" + (this.props.kitedata.ticks[symbol].lastTradedPrice)}&nbsp;(<span>{(this.props.kitedata.ticks[symbol].change).toFixed(2)}</span>%)</div>,this.props.symbol);\r\n\r\n       }\r\n\r\n\r\n     }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol,this.props.tableId);\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      kitePerfData,\r\n      onTableRowclick,\r\n      tableId,\r\n      inHolding //use for result calender\r\n    }=this.props;\r\n\r\n    let isSeperator = (symbol =='SEPERATOR')?true:false;\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n    \r\n    let prefStyle = {};\r\n    if(kitePerfData && kitePerfData[symbol]){\r\n      prefStyle.backgroundColor=kitePerfData[symbol].color;\r\n    }\r\n    if(inHolding==true){\r\n      prefStyle.backgroundColor = 'lightgray';\r\n    }\r\n\r\n    return (\r\n      <tr onClick={this.openStockInfo} rowId={tableId?(tableId+\"-\"+symbol):symbol}>\r\n        {!isSeperator &&   <td style={prefStyle}>{kitedata.ticks[symbol].name}</td> }\r\n        {!isSeperator &&   <td className={changeClass} >{(kitedata.ticks[symbol].change).toFixed(2)}</td> }\r\n        {!isSeperator &&   <td>{kitedata.ticks[symbol].lastTradedPrice}</td> }              \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass GlobalindexList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.rowOrder=[4,1,2,3,6,7,8,11,12,13];\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      investingdata\r\n    }=this.props;\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { this.rowOrder.map((order,index)=> <WatchListRow key={investingdata.index[order][0]+index} investingdata={investingdata} data={investingdata.index[order]} />)}\r\n             \r\n            </tbody>\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default GlobalindexList;\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      data\r\n    }=this.props;\r\n\r\n\r\n    let changeClass =data[13].startsWith(\"-\") ?'red':'green';\r\n    \r\n      return (\r\n        <tr>\r\n          <td>{data[0]}</td> \r\n          <td className={changeClass} >{data[13]}</td>            \r\n         </tr>\r\n      );\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass HoldingList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      positionsdata,\r\n      holdingsdata,\r\n       onTableRowclick,\r\n       margin\r\n    }=this.props;\r\n\r\n\r\n\t//update total position\r\n\tlet totalHoldQty=0;let totalPositionAddQty=0;let totalPositionSellQty=0; let dayPNLMIS=0;let dayPNLCNC=0;\tlet dayPNL=0;\r\n  let tvalue=0;let misTvalue=0;let cncTvalue=0;\r\n\r\n\tif(holdingsdata && holdingsdata.data && positionsdata && positionsdata.data){\r\n\t\t\t\r\n\t\t\tfor( let i=0;i< holdingsdata.data.length; i++){\r\n\t\t\t\tlet hobj = holdingsdata.data[i];\r\n\t\t\t\ttotalHoldQty = totalHoldQty + (hobj.quantity + hobj.t1_quantity);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(positionsdata.data.net){\r\n\t\t\t\tfor( let i=0;i< positionsdata.data.net.length; i++){\r\n\t\t\t\t\tlet pobj = positionsdata.data.net[i];\r\n\t\t\t\t\tif(pobj.product == 'CNC'){\r\n\t\t\t\t\t\tif(pobj.quantity > 0){\r\n\t\t\t\t\t\t\ttotalPositionAddQty = totalPositionAddQty + pobj.quantity;\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttotalPositionSellQty = totalPositionSellQty + pobj.quantity;\t\r\n\t\t\t\t\t\t}\t\t\r\n\r\n            dayPNLCNC += pobj.pnl;\r\n            cncTvalue += pobj.value;\r\n\t\t\t\t\t}else if(pobj.product == 'MIS'){\r\n            dayPNLMIS+= pobj.pnl;\r\n            misTvalue += pobj.value;\r\n          }\t\t\t\t\t\r\n          dayPNL += pobj.pnl;\r\n          tvalue += pobj.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\tholdingsdata.data.sort(function(a, b){return a.day_change_percentage-b.day_change_percentage});\r\n\r\n\r\n  positionsdata.data.net.sort(function(a, b){\r\n    if(a.product == 'MIS' && b.product=='MIS'){\r\n      if(a.quantity != 0 && b.quantity != 0) return a.pnl - b.pnl;\r\n      else return b.quantity - a.quantity;    \r\n    }else if(a.product == 'MIS' && b.product=='CNC'){\r\n       return -1; \r\n    }else if(a.product == 'CNC' && b.product=='MIS'){\r\n       return 1; \r\n    }else{\r\n      return 0;\r\n    }\r\n  });\r\n\r\n\r\n    let PL=0;\r\n    let currentValue=0;\r\n    let totalInvestment=0;\r\n    for( let i=0;i< holdingsdata.data.length; i++){\r\n    \tlet data = holdingsdata.data[i];\r\n\t\tcurrentValue = currentValue + (data.quantity + data.t1_quantity)*data.last_price;\r\n\t\ttotalInvestment = totalInvestment + (data.quantity + data.t1_quantity)*data.average_price;\r\n    }\r\n    PL = Math.round(currentValue - totalInvestment);\r\n\r\n    let plClass = PL<0 ?'red':'green';\r\n    document.title=Math.round(PL/1000) +\"K ( \"+(PL*100/totalInvestment).toFixed(2)+\"%) \"\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <tr key='summary' >\r\n              \t<td colSpan='2' className='summaryRow'>\r\n              \t <span className='totalValue'>{(currentValue/100000).toFixed(2)}</span>L&nbsp;&nbsp;&nbsp;<span className={plClass}>{`${Math.round(PL)}(${(PL*100/totalInvestment).toFixed(2)}%)` }</span>{margin && <span>&nbsp;{(margin.data.equity.net/1000).toFixed(1)}K</span>}\r\n              \t</td> \r\n              </tr>\r\n\r\n              <tr key='position' >\r\n              \t<td colSpan='2' className='positionRow'>\r\n              \t <span>{totalHoldQty}&nbsp;|{totalPositionAddQty}&nbsp;|{totalPositionSellQty}&nbsp;&nbsp;=&nbsp;{(totalHoldQty+totalPositionAddQty)}</span>\r\n              \t</td> \r\n              </tr>\r\n\r\n\r\n              <tr key='daypositionsummary' >\r\n                <td colSpan='2' className='summaryRow'>\r\n                 <span className={ dayPNL<0 ?'red':'green'}>{(dayPNL/1000).toFixed(2)}K</span>&nbsp;&nbsp;&nbsp;\r\n                 <span className='bracketValue'>&nbsp;<span className={ dayPNLCNC<0 ?'red':'green'}>{`${(dayPNLCNC).toFixed(2)}` }</span>C</span>&nbsp;&nbsp;                 \r\n                 <span className='bracketValue'>&nbsp;<span className={ dayPNLMIS<0 ?'red':'green'}>{`${Math.round(dayPNLMIS)}` }</span>M</span>\r\n                </td> \r\n              </tr>\r\n\r\n              <tr key='dayposition' >\r\n                <td colSpan='2' className='positionRow'>\r\n                 <span>{cncTvalue.toFixed(0)}&nbsp;|&nbsp;{misTvalue.toFixed(0)}&nbsp;&nbsp;&nbsp;=&nbsp;{(tvalue.toFixed(0))}</span>\r\n                </td> \r\n              </tr>\r\n\r\n              { positionsdata.data.net.map((data,index)=> <PositionWatchListRow  onTableRowclick={onTableRowclick}  key={'POS-'+index+ data.tradingsymbol} data={data} />) }\r\n\r\n              <tr></tr>\r\n\r\n              <tr key='summary-row-2' >\r\n                <td colSpan='2' className='summaryRow'>\r\n                 <span className='totalValue'>{(currentValue/100000).toFixed(2)}</span>L&nbsp;&nbsp;&nbsp;<span className={plClass}>{`${Math.round(PL)}(${(PL*100/totalInvestment).toFixed(2)}%)` }</span>\r\n                </td> \r\n              </tr>              \r\n\r\n             { holdingsdata.data.map((data,index)=> <WatchListRow  onTableRowclick={onTableRowclick} key={'HOLD-'+index+ data.tradingsymbol} data={data} />) }\r\n             \r\n            </tbody>\r\n\r\n\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default HoldingList;\r\n\r\n\r\n\r\n\r\n\r\nclass PositionWatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.data.tradingsymbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n  data\r\n    }=this.props;\r\n\r\n\r\n\r\n    let dayChangeClass  = data.pnl <0 ?'red':'green';\r\n\r\n      return (\r\n        <tr rowId={'POS-'+data.tradingsymbol} onClick={this.openStockInfo} className={data.quantity==0?'lightgrey':''}>\r\n        <td style={{position:'relative'}} >{data.tradingsymbol}&nbsp;<span className={'holdQty ' + (data.quantity<0?'red':'green')}>({data.quantity})</span><span className='productType'>{data.product}</span></td>\r\n        <td>\r\n        <span className='last_price'>{data.last_price.toFixed(2)}</span>&nbsp;&nbsp;<span style={{fontWeight:'bold'}} className={'holdDayChg ' + dayChangeClass}>{ data.pnl.toFixed(2)}</span>\r\n        <br></br>\r\n        <span className='positionValue'>{Math.round((data.value)/1000) }k</span>\r\n\r\n        </td>\r\n        </tr>\r\n      );\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.data.tradingsymbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n\tdata\r\n    }=this.props;\r\n\r\n    let profit = \t(data.quantity + data.t1_quantity)*data.last_price - (data.quantity + data.t1_quantity)*data.average_price;\r\n\r\n\r\n    let dayChangeClass  = data.day_change_percentage <0 ?'red':'green';\r\n    let plClass = profit<0 ?'red':'green';\r\n\r\n      return (\r\n        <tr rowId={'HOLD-'+data.tradingsymbol} onClick={this.openStockInfo}>\r\n        <td>{data.tradingsymbol}<span className='holdQty'>({data.quantity + data.t1_quantity})</span>&nbsp;&nbsp;<span className='holdValue'>({Math.round((data.quantity + data.t1_quantity)*data.last_price/1000) })</span></td>\r\n        <td>\r\n        <span className='last_price'>{data.last_price.toFixed(2)}</span>&nbsp;&nbsp;<span className={'holdDayChg ' + dayChangeClass}>{ data.day_change_percentage.toFixed(2)}</span>\r\n        <br></br>\r\n        <span className={'holdPL '+plClass}>{Math.round(profit)}</span>&nbsp;&nbsp;<span className={'holdPLPec '+plClass}>{ (profit*100/((data.quantity + data.t1_quantity)*data.average_price)).toFixed(2)}%</span>\r\n\r\n        </td>\r\n        </tr>\r\n      );\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport toaster from \"toasted-notes\";\r\nimport \"toasted-notes/src/styles.css\"; \r\n\r\n\r\nlet isShowNotification = true;\r\n\r\nexport const  placeBuyLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport const  placeBuyMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport const  placeBuySLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellSLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const  placeMISBuyLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\nexport const  placeMISBuyMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\nexport const  placeMISBuySLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellSLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\nconst fillCNCLimitOrderDetails=(data)=>{\r\n\tdata.order_type = 'LIMIT';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillCNCMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'MARKET';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillCNCSLMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'SL-M';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst fillMISLimitOrderDetails=(data)=>{\r\n\tdata.order_type = 'LIMIT';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\n\r\nconst fillMISMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'MARKET';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillMISSLMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'SL-M';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst showToastMsg=(content)=>{\r\n\tif(isShowNotification){\r\n\t    toaster.notify(content, {\r\n\t      position: \"top-right\", // top-left, top, top-right, bottom-left, bottom, bottom-right\r\n\t      duration: 3000 // This notification will not automatically close\r\n\t    });\t\t\r\n\t}\r\n}\r\n\r\nexport const showNotification=(isShow)=>{\r\n\tisShowNotification = isShow;\r\n}\r\n\r\nconst placeOrder=(data,onSuccess,onErrror)=>{\r\n\r\n\tconst  formattedVals = [];\r\n    for(let prop in data){\r\n        formattedVals.push(prop + \"=\" + data[prop]);\r\n    }\r\n    const body = formattedVals.join(\"&\");\r\n    \r\n      fetch('https://kite.zerodha.com/oms/orders/regular',\r\n      \t{\r\n\t      \tmethod: 'POST',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t},\r\n\t      \tbody:body\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n\t\t\t\tshowToastMsg((<span className={'green'}>{data.tradingsymbol} &nbsp;&nbsp;O_ID->{jsonData.data.order_id}</span>));        \t\t\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t\tshowToastMsg((<span className={'red'}>{data.tradingsymbol} &nbsp;&nbsp; ->{jsonData.message}</span>));   \r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n\r\n   \t\tshowToastMsg((<span className={data.transaction_type=='BUY'?'green':'red'}>{data.tradingsymbol} &nbsp;&nbsp;{data.product} &nbsp;Q->{data.quantity}</span>));\t\r\n}\r\n\r\n\r\n\r\nexport const getMargin=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/user/margins',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\n\r\nexport const getPosition=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/portfolio/positions',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\nexport const getHolding=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/portfolio/holdings',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\n\r\n\r\nexport const getFullQuote=(queryString,onSuccess,onErrror)=>{\r\n\r\n      fetch('https://api.kite.trade/quote?'+queryString,\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport {placeBuyLimitOrder,placeSellLimitOrder} from './OrderUtil';\r\n\r\n\r\n\r\nclass OrderWindow extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);\r\n\t    let orderWindowView = {buyView:true,sellView:true};\r\n\t    orderWindowView = localStorage.getItem(\"orderWindowView.json\")!=undefined ?JSON.parse(localStorage.getItem(\"orderWindowView.json\")):orderWindowView;\t    \r\n\t    this.state={orderWindowView:orderWindowView};    \r\n\r\n\t\tthis.textInputBuyQty  = null;\r\n\t\tthis.textInputSellQty = null;\t    \r\n\t  }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif(prevProps.symbol != this.props.symbol){\r\n\t\t\tthis.fillInputWithLatestPrice();\r\n\t\t}\r\n\t}\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\r\n\t  \tthis.setState({orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol,orderStatusStyle:{},buyQuantity:1,buyPrice:depth.buy[0].price,sellQuantity:1,sellPrice:depth.sell[0].price});\r\n\r\n\t  \tthis.setFocusonOrderWindow();\r\n\r\n  \t}\r\n\r\n\r\n  }\r\n\r\n setFocusonOrderWindow=()=>{\r\n\t\tsetTimeout(() => {\r\n\t\t      \tif(this.textInputBuyQty ){\r\n\t\t  \t\t\tthis.textInputBuyQty.select();\r\n\t\t\t  \t}else if(this.textInputSellQty ){\r\n\t\t\t  \t\tthis.textInputSellQty.select();\r\n\t\t\t  \t}\r\n\t\t  }, 5);\r\n }\r\n\r\n\r\n updaetOrderStatus=(orderStatus)=>{\r\n \tthis.setState({orderStatus:orderStatus});\r\n }\r\n\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      buyQuantity,\r\n      buyPrice,\r\n      sellQuantity,\r\n      sellPrice,\r\n      orderStatus,\r\n      orderStatusStyle\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\r\n  \tif(evt.target.name == 'buyQuantity'){\r\n  \t\tbuyQuantity=evt.target.value;\r\n  \t\tthis.setState({buyQuantity:buyQuantity,orderStatusStyle:{color:'green'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+buyQuantity+\" )  ( P-> \"+buyPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'buyPrice'){\r\n  \t\t buyPrice=evt.target.value;\r\n  \t\tthis.setState({buyPrice:buyPrice,orderStatusStyle:{color:'green'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+buyQuantity+\" )  ( P-> \"+buyPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'sellQuantity'){\r\n  \t\tsellQuantity=evt.target.value;\r\n  \t\tthis.setState({sellQuantity:sellQuantity,orderStatusStyle:{color:'red'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+sellQuantity+\" )  ( P-> \"+sellPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'sellPrice'){\r\n  \t\tsellPrice=evt.target.value;\r\n  \t\tthis.setState({sellPrice:sellPrice,orderStatusStyle:{color:'red'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+sellQuantity+\" )  ( P-> \"+sellPrice+\" )\"});\r\n  \t}\r\n\r\n\r\n  }\r\n\r\n\r\ntoogleBuyView=()=>{\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.buyView=!orderWindowView.buyView;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\t\r\n}\r\n\r\ntoogleSellView=()=>{\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.sellView=!orderWindowView.sellView;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\r\n}\r\n\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n\tthis.setState({orderStatus:data.data.order_id,buyQuantity:0,sellQuantity:0});\r\n\tthis.setFocusonOrderWindow();\r\n\tthis.props.updateMarginData();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n\tthis.setState({orderStatus:data.message,buyQuantity:0,sellQuantity:0});\r\n\tthis.setFocusonOrderWindow();\r\n\tthis.props.updateMarginData();\r\n}\r\n\r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      buyQuantity,\r\n      buyPrice,\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\tplaceBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      sellQuantity,\r\n      sellPrice,\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\tplaceSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\t \t\r\n\t    const{\r\n\t      kitedata,\r\n\t      symbol\r\n\t    }=this.props;\r\n\r\n\r\n\t    const{\r\n\t      buyQuantity,\r\n\t      buyPrice,\r\n\t      sellQuantity,\r\n\t      sellPrice,\r\n\t      orderStatus,\r\n\t      orderStatusStyle,\r\n\t      orderWindowView\r\n\t    }=this.state;\r\n\r\n\r\n\t    let depth = kitedata.ticks[symbol].depth;\t\r\n\r\n\r\n\t    return (\r\n\t\t\t\t<div className=\"orderView\">\r\n\t\t\t\t<button className=\"favButton orderToggleBtn\"  onClick={this.toogleSellView} type=\"button\">SW</button>\r\n\t\t\t\t<button className=\"favButton orderToggleBtn\"  onClick={this.toogleBuyView} type=\"button\">BW</button>\r\n\r\n\t\t\t\t<div className=\"line\"></div>\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t<div style={orderStatusStyle} className=\"orderStatusView\">{orderStatus}</div>\r\n\t\t\t\t<br/>\r\n\t\t\t\r\n\t\t\t{orderWindowView.buyView && depth &&\r\n\t\t\t\t<div className=\"buyOrderView\" onKeyUp={event=>{ if(event.keyCode === 13) { this.sendBuyOrderRequest();}}}>\r\n\t\t\t\t\t \r\n\t\t\t\t\t  <label for=\"buyQuantity\">Q:</label>\r\n\t\t\t\t\t  <input type=\"number\"   ref={elem => (this.textInputBuyQty = elem)} onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"buyQuantity\" step={1} name=\"buyQuantity\" min=\"1\" max=\"1000\" value={buyQuantity}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <label for=\"buyPrice\">P:</label>\r\n\t\t\t\t\t  <input type=\"number\" onClick={event => event.target.select()}  onInput={this.onInputValueChange} className=\"buyPrice\" step={0.2} name=\"buyPrice\" min=\"1\" max=\"10000\" value={buyPrice}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <button className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{orderWindowView.sellView && depth &&\r\n\r\n\t\t\t\t<div className=\"sellOrderView\" onKeyUp={event=>{ if(event.keyCode === 13) { this.sendSellOrderRequest();}}} >\r\n\t\t\t\t\r\n\t\t\t\t\t  <label for=\"sellQuantity\">Q:</label>\r\n\t\t\t\t\t  <input type=\"number\"   ref={elem => (this.textInputSellQty = elem)} onClick={event => event.target.select()}  onInput={this.onInputValueChange}  className=\"sellQuantity\" step={1} name=\"sellQuantity\" min=\"1\" max=\"1000\" value={sellQuantity}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <label for=\"sellPrice\">P:</label>\r\n\t\t\t\t\t  <input type=\"number\"  onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"sellPrice\" step={0.2} name=\"sellPrice\" min=\"1\" max=\"10000\" value={sellPrice}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <button className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default OrderWindow;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport OrderWindow from './OrderWindow';\r\n\r\nclass StockInfo extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state={};\r\n  }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchHistoricalData();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n     if (prevProps.stockInfo.symbol !== this.props.stockInfo.symbol) {\r\n       this.fetchHistoricalData();\r\n       this.setState({isShowGraph:false});\r\n     }\r\n   }\r\n\r\n    onColorInput=(evt)=>{    \t\r\n\r\n\t    const{\r\n\t      stockInfo,\r\n\t      updateKitePerfData\r\n\t    }=this.props;\r\n\r\n\t\tupdateKitePerfData(stockInfo.symbol,'color',evt.target.value);\r\n    }\r\n\r\n\r\n\r\n fetchHistoricalData =()=>{\r\n \tlet ticker = this.props.kitedata.ticks[this.props.stockInfo.symbol];\r\n\r\n\t\t let fromdate = new Date();\r\n\t\t fromdate.setDate(fromdate.getDate()-2000);\r\n\r\n      fetch('https://api.kite.trade/instruments/historical/'+ticker.token+'/day?from='+fromdate.toISOString().split('T')[0]+'&to='+new Date().toISOString().split('T')[0],\r\n      {\r\n      \tmethod: 'GET',\r\n      \theaders: {\r\n\t\t\t\t\"X-Kite-Version\":\"3\",\r\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t}\r\n      \t)\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tthis.setState({hCandles:jsonData.data.candles});\r\n        }.bind(this))\r\n        .catch((error) => {\r\n          console.error(error)\r\n        });\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n  render() {\r\n \t\r\n    const{\r\n      hCandles,\r\n      isShowGraph\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      updateKitePerfData,\r\n      stockInfo,\r\n      hideStokInfo,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      showFundamentalsDialog,\r\n      updateMarginData,\r\n      quoteData\r\n    }=this.props;\r\n\r\n    const{\r\n      symbol,\r\n      tableId\r\n    }=stockInfo;\r\n\r\n\r\nlet d1,d2,d3,w1,w2,m1,m6,y1,y2,y3,y4,y5;\r\n\r\nif(hCandles){\r\n\tlet data=hCandles;\r\n\tlet totalTick = data.length-1;\r\n\tlet close = data[totalTick][4];\r\n\r\n\td1 = Number.parseInt(-(data[totalTick-1][4]-close)*100/data[totalTick-1][4]);\r\n    d2=Number.parseInt(-(data[totalTick-2][4]-close)*100/data[totalTick-2][4]);\r\n    d3=Number.parseInt(-(data[totalTick-3][4]-close)*100/data[totalTick-3][4]);\r\n    w1=Number.parseInt(-(data[totalTick-5][4]-close)*100/data[totalTick-5][4]);\r\n    w2=Number.parseInt(-(data[totalTick-10][4]-close)*100/data[totalTick-10][4]);\r\n\r\n\tif(totalTick-23 >0 ){\r\n\t\tm1= Number.parseInt(-(data[totalTick-23][4]-close)*100/data[totalTick-23][4]);\r\n\t}\r\n\t    \r\n\tif(totalTick-140 >0 ){\r\n\t    m6=Number.parseInt(-(data[totalTick-140][4]-close)*100/data[totalTick-140][4]);\r\n\t}\r\n\r\n\r\n\tif(totalTick-269 >0 ){\r\n\t    y1=Number.parseInt(-(data[totalTick-269][4]-close)*100/data[totalTick-269][4]);\r\n\t}\r\n\r\n\tif(totalTick-540 >0 ){\r\n\t    y2=Number.parseInt(-(data[totalTick-540][4]-close)*100/data[totalTick-540][4]);\r\n\t}\r\n\r\n\tif(totalTick-807 >0 ){\r\n\t    y3=Number.parseInt(-(data[totalTick-807][4]-close)*100/data[totalTick-807][4]);\r\n\t}\r\n\r\n\tif(totalTick-1076 >0 ){\r\n\t    y4=Number.parseInt(-(data[totalTick-1076][4]-close)*100/data[totalTick-1076][4]);\r\n\t}\r\n\r\n\tif(totalTick-1150 >0 ){\r\n\t    y5=Number.parseInt(-(data[0][4]-close)*100/data[0][4]);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n    let hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/NSE/'+kitedata.ticks[symbol].tradingsymbol+'/'+kitedata.ticks[symbol].token\r\n////<td colSpan=\"2\"><a rel='noreferrer' onClick={this.showFundamentalsDialog} target='_blank' href={hrefGraph}>{kitedata.ticks[symbol].tradingsymbol}</a></td> \r\n\tlet depth = kitedata.ticks[symbol].depth;\r\n\r\n\tlet graphStyle = {};\r\n\tif(isShowGraph){\r\n\t\tgraphStyle.top='710px';\r\n\t\tgraphStyle.right='279px';\r\n\t\tgraphStyle.width='1500px';\r\n\t\tgraphStyle.height='500px';\r\n\t}\r\n\r\n\r\n\tlet LC;let UC;\r\n\tif(quoteData){\r\n\t\tlet quote = quoteData[kitedata.ticks[symbol].exchange+\":\"+symbol];\r\n\t\tif(quote){\r\n\t\t\tLC = quote.lower_circuit_limit;\r\n\t\t\tUC = quote.upper_circuit_limit;\r\n\t\t}\r\n\t}\r\n\r\n\r\n    return (\r\n    \t<div className='stockInfo' >\r\n    \t<iframe style={graphStyle} className='stockInfoFraph' src={hrefGraph}></iframe>\r\n    \t<p onDoubleClick={hideStokInfo} className='name'>{kitedata.ticks[symbol].name}</p>\r\n    \t<table className='stockInfoTable'>\r\n\t\t  <tbody>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td colSpan=\"2\" style={{cursor:'pointer',textDecoration:'underline'}} onClick={(evt)=>showFundamentalsDialog(symbol)} ><a rel='noreferrer' > </a>{kitedata.ticks[symbol].tradingsymbol}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>LTP</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].lastTradedPrice}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Chg%</td> \r\n\t\t\t  \t<td className={kitedata.ticks[symbol].change<0?'red':'green'}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td> \r\n\t\t  \t</tr>\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Up%</td> \r\n\t\t\t  \t<td>{((kitedata.ticks[symbol].lastTradedPrice - kitedata.ticks[symbol].lowPrice)*100/kitedata.ticks[symbol].lowPrice).toFixed(2)}%</td> \r\n\t\t  \t</tr>\t\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Down%</td> \r\n\t\t\t  \t<td>{((kitedata.ticks[symbol].highPrice - kitedata.ticks[symbol].lastTradedPrice)*100/kitedata.ticks[symbol].highPrice).toFixed(2)}%</td> \r\n\t\t  \t</tr>\t\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>OP</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].openPrice}</td> \r\n\t\t  \t</tr>\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>CL</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].closePrice}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  { LC && \r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>LC</td> \r\n\t\t\t  \t<td>{LC}</td> \r\n\t\t  \t</tr>\r\n\t\t  }\r\n\r\n\t\t  { UC && \r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>UC</td> \r\n\t\t\t  \t<td>{UC}</td> \r\n\t\t  \t</tr>\r\n\t\t  }\r\n\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td colSpan=\"2\"><input onInput={this.onColorInput} type=\"color\" className=\"favcolor\" name=\"favcolor\" value=\"#ff0000\"></input>\r\n\t\t\t  \t<button className=\"favButton\"   onClick={(evt)=>{this.setState({isShowGraph:!isShowGraph})}} type=\"button\">G</button></td> \r\n\t\t  \t</tr>\r\n\t\t  </tbody>\r\n\t\t</table>\t\r\n\r\n\r\n\t{hCandles &&\r\n\t    \t<table className='stockInfoTable historyTable'>\r\n\t\t\t  <tbody>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1D</td><td>{d1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2D</td><td>{d2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>3D</td><td>{d3}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1W</td><td>{w1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2W</td><td>{w2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1M</td><td>{m1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>6M</td><td>{m6}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1Y</td><td>{y1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2Y</td><td>{y2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>3Y</td><td>{y3}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>4Y</td><td>{y4}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>5Y</td><td>{y5}</td> \r\n\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t  </tbody>\r\n\t\t\t</table>\t\r\n\r\n\t}\r\n\t    \t\r\n\r\n\t\t<br/>\r\n\r\n\r\n\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'0');}} type=\"button\">A 0</button>\r\n\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'MIS');}} type=\"button\">MIS</button>\r\n\t    {tableId!=undefined &&\t<button className=\"favButton red\"   onClick={(evt)=>{removeFromFavList(symbol,tableId);}} type=\"button\">R {tableId}</button> }\r\n\r\n\r\n\t\t<OrderWindow updateMarginData={updateMarginData} kitedata={kitedata} symbol={symbol} />\r\n\r\n\r\n\t\t<br/><br/>\r\n\t\t<div style={{fontWeight: 'bold'}}>H: <span className='HLVdiv'>{kitedata.ticks[symbol].highPrice}</span>&nbsp;&nbsp;L: <span className='HLVdiv'>{kitedata.ticks[symbol].lowPrice}</span>&nbsp;&nbsp;&nbsp;V: <span className='HLVdiv'>{kitedata.ticks[symbol].volumeTradedToday}</span></div>\r\n{ depth && depth.buy.length == 5 &&  depth.sell.length==5 &&\r\n\r\n\t\t<table className=\"bidTable\">\r\n\t\t  <tbody>\r\n\t\t  \r\n\t\t  <tr></tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[0].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[0].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[0].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[0].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[1].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[1].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[1].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[1].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[2].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[2].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[2].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[2].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[3].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[3].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[3].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[3].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[4].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[4].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[4].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[4].quantity}</td>\r\n\t\t  </tr>\t\t  \t\t  \t\t  \r\n\t\t <tr></tr>\r\n\t\t  <tr>\r\n\t\t\t  <td colSpan=\"2\" className='blue'>{kitedata.ticks[symbol].totalBuyQuantity}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t  <td colSpan=\"2\" className='red'>{kitedata.ticks[symbol].totalSellQuantity}</td>\r\n\t\t\t  <td></td>\r\n\t\t  </tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \t</div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default StockInfo;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {placeMISBuyLimitOrder,placeMISSellLimitOrder,placeMISBuyMarketOrder,placeMISSellMarketOrder,getPosition,placeMISBuySLMarketOrder,placeMISSellSLMarketOrder} from './OrderUtil';\r\n\r\n\r\n\r\nclass BasketOrderDialog extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);  \r\n\r\n      let orderWindowView = {buyView:true,sellView:true};\r\n      orderWindowView = localStorage.getItem(\"basketOrderWindowView\")!=undefined ?JSON.parse(localStorage.getItem(\"basketOrderWindowView\")):orderWindowView;      \r\n\r\n      this.rowfRefs ={};\r\n\r\n      this.state={orderWindowView:orderWindowView,isHideDialog:false,orderType:\"MARKET\",totaOrderRequest:undefined,totalFillOrderRequest:undefined};    \r\n\r\n\t  }\r\n\r\n  toogleBuyView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.buyView=!orderWindowView.buyView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n\r\n    localStorage.setItem(\"basketOrderWindowView\", JSON.stringify(orderWindowView));    \r\n  }\r\n\r\n\r\n  toogleSellView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellView=!orderWindowView.sellView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n\r\n    localStorage.setItem(\"basketOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n  onPositionSuccess=(data)=>{\r\n    this.setState({positionsdata:data});    \r\n  }\r\n\r\n  onPositionError=(data)=>{\r\n    this.updateOrderStatus('Error in fetching position');\r\n  }\r\n\r\n  fetchPositionData=(data)=>{\r\n    getPosition(this.onPositionSuccess,this.onPositionError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPositionData();\r\n    this.updateOrderStatus('MARGIN ORDRES');\r\n    this.interval = setInterval(this.fetchPositionData, 2000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.interval );\r\n  }\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\tupdateOrderStatus=(data)=>{\r\n\t\tthis.setState({orderStatus:data})\r\n\t}\r\n\r\n showDialog=(data)=>{\r\n    this.setState({isHideDialog:false})\r\n  }\r\n\r\n updateFillOrderRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n    if(totalOrderRequest !=undefined){\r\n      totalFillOrderRequest++;\r\n      this.setState({totalFillOrderRequest:totalFillOrderRequest});  \r\n      if(totalFillOrderRequest == totalOrderRequest){\r\n        this.setState({totalOrderRequest:undefined,totalFillOrderRequest:undefined});  \r\n      }\r\n    }    \r\n  }\r\n\r\n\r\ncheckFoPendingRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  let noOffendingOrderRequest = 0;      \r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      noOffendingOrderRequest += rowRef.getPendingOrderRequest();\r\n  }\r\n\r\n  if(totalOrderRequest != undefined || noOffendingOrderRequest != 0){\r\n      window.alert('Request pending -> All '+noOffendingOrderRequest +' Bulk : '+(totalOrderRequest-totalFillOrderRequest) );\r\n      return true;\r\n  }\r\n  return false;          \r\n}\r\n\r\n\r\ntotalSelectedRows=()=>{\r\n  let totalOrderRequest=0;\r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      if(rowRef.isCheckBoxChecked()){\r\n        totalOrderRequest++;\r\n      } \r\n  }\r\n  return totalOrderRequest;\r\n}\r\n\r\n\r\nplaceBuyOrderForselectedRow=()=>{          \r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n  let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"BUY order for all selected rows confirm : \"+totalOrderRequest); \r\n  if(isOk && totalOrderRequest>0){\r\n      this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n      for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendBuyOrderRequest();\r\n        } \r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nplaceSellOrderForselectedRow=(data)=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"SELL order for all selected rows confirm : \"+totalOrderRequest);\r\n  if(isOk && totalOrderRequest>0){\r\n    this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendSellOrderRequest();\r\n        } \r\n    }    \r\n  }\r\n}\r\n\r\n\r\nonSQOFFClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n   let  totalOrderRequest= this.totalSelectedRows();\r\n   let isSoffOnlySelectedRows=false;\r\n   if(totalOrderRequest != 0){\r\n      isSoffOnlySelectedRows = window.confirm('SQ only selected rows:'+totalOrderRequest);\r\n   }\r\n\r\n  const perc = window.prompt('selected position '+(isSoffOnlySelectedRows?totalOrderRequest:' ALL ') +' Percetage to SQ OFF ->');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(isSoffOnlySelectedRows && !rowRef.isCheckBoxChecked()){\r\n          continue;\r\n        }\r\n        totalValue+=rowRef.fillQtyValueOnSqOffClick(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\n\r\nonTpriceClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }\r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n  const perc = window.prompt('Position selected '+totalOrderRequest+' Stop Loss %');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n         if(rowRef.isCheckBoxChecked()){\r\n            totalValue+=rowRef.fillPriceValueOnTpriceClick(perc);\r\n         }        \r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\nfillQtyForValue=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  const value = window.prompt('Build Position '+totalOrderRequest+' for amount ->');\r\n  let totalValue=0;\r\n  if(value!=null && value!=\"\" && !isNaN(value) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          totalValue+=rowRef.fillQtyForValue(value);\r\n        }         \r\n    }\r\n    this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n  }\r\n\r\n}\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('#basketOrderDialog tr[rowid=\"MIS_ORDER-'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('#basketOrderDialog tr[rowid=\"MIS_ORDER-'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nonOnderTypeChange=(evt)=>{\r\n  if(evt.target.name=='orderType'){\r\n     this.setState({orderType:evt.target.value});\r\n  }\r\n}\r\n\r\n\r\nsetSortOrder=(key)=>{\r\n  let value = this.state[key];\r\n  this.setState({isSortPosition:false,isSortOnValue:false,isSortOnPriceChange:false,isSortOnMISQty:false,isSortOnDayQty:false});\r\n  let s1 = {};\r\n  s1[key] = !value;\r\n  this.setState(s1);\r\n}\r\n\r\n  render() {\r\n\r\n    let{\r\n      kiteBasketOrderData,\r\n    }=this.props;\r\n\r\n    const{\r\n      kitedata,\r\n      hideBasketOrderDialog,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick,\r\n //     positionsdata,  //poll from server \r\n      updateMarginData\r\n    }=this.props;\r\n\r\n    const{\r\n    \torderStatus,\r\n      orderWindowView,\r\n      isHideDialog,\r\n      positionsdata, //poll from client \r\n      orderType,\r\n      isSortPosition,\r\n      isSortOnValue,\r\n      isSortOnPriceChange,\r\n      isSortOnDayQty,\r\n      isSortOnMISQty,      \r\n      totalOrderRequest,\r\n      totalFillOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    let positionMap={};\r\n    let openMIS =0;\r\n    let totalMIS =0;    \r\n    if(positionsdata){\r\n\r\n      for(let i=0;i<positionsdata.data.net.length;i++){\r\n        if(positionsdata.data.net[i].product == 'MIS' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n          positionMap[positionsdata.data.net[i].tradingsymbol]=positionsdata.data.net[i];\r\n        }      \r\n      }\r\n\r\n      for(let i=0;i<positionsdata.data.net.length;i++){\r\n        if(positionsdata.data.net[i].product == 'CNC' && positionMap[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n          positionMap[positionsdata.data.net[i].tradingsymbol].dayCNC=positionsdata.data.net[i]; // store CNC day position\r\n        }      \r\n      }\r\n\r\n\r\n      if(isSortPosition){\r\n            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n            kiteBasketOrderDataCopy.sort(function(a, b){\r\n              let v1 = (positionMap[a] && positionMap[a].quantity!=0 ) ?positionMap[a].pnl :999999;\r\n              let v2 = (positionMap[b] && positionMap[b].quantity!=0 ) ?positionMap[b].pnl :999999;\r\n              return v1-v2;\r\n            });\r\n            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n\r\n      }else if(isSortOnValue){\r\n            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n            kiteBasketOrderDataCopy.sort(function(a, b){\r\n              let v1 = (positionMap[a] && positionMap[a].quantity!=0 )?positionMap[a].value :-99999999;\r\n              let v2 = (positionMap[b] && positionMap[b].quantity!=0 )?positionMap[b].value :-99999999;\r\n              return v2-v1;\r\n            });\r\n            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n      }else if(isSortOnPriceChange){\r\n\r\n        if(this.previosChangeSortedOrder == undefined){\r\n            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n            kiteBasketOrderDataCopy.sort(function(a, b){\r\n              let v1 =kitedata.ticks[a].change;\r\n              let v2 =kitedata.ticks[b].change;\r\n              return v1-v2;\r\n            });\r\n            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n            this.previosChangeSortedOrder = kiteBasketOrderDataCopy;\r\n        }else{\r\n          kiteBasketOrderData = this.previosChangeSortedOrder;\r\n        }\r\n\r\n      }else if(isSortOnDayQty){\r\n              let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n              kiteBasketOrderDataCopy.sort(function(a, b){\r\n                let v1 = positionMap[a] && positionMap[a].dayCNC?positionMap[a].dayCNC.quantity :0;\r\n                let v2 = positionMap[b] && positionMap[b].dayCNC?positionMap[b].dayCNC.quantity :0;\r\n                if(v1==0) v1 = -9999999; \r\n                if(v2==0) v2 = -9999999; \r\n                return v2-v1;\r\n              });\r\n              kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n        }else if(isSortOnMISQty){\r\n              let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n              kiteBasketOrderDataCopy.sort(function(a, b){\r\n                let v1 = positionMap[a] ?positionMap[a].quantity :0;\r\n                let v2 = positionMap[b] ?positionMap[b].quantity :0;\r\n                if(v1==0) v1 = -9999999; \r\n                if(v2==0) v2 = -9999999;                \r\n                return v2-v1;\r\n              });\r\n              kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n        }          \r\n  \r\n\r\n    for(let i=0;i<positionsdata.data.net.length;i++){\r\n      if(positionsdata.data.net[i].product == 'MIS' ){\r\n        totalMIS++;\r\n        if(positionsdata.data.net[i].quantity !=0){\r\n          openMIS++;\r\n        }        \r\n      }      \r\n    }\r\n\r\n    }\r\n\r\n\r\n    let buyButtonText = 'BUY'; let sellButtonText = 'SELL'\r\n    if(totalOrderRequest!=undefined){\r\n        buyButtonText = `B(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n        sellButtonText = `S(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n    }\r\n\r\n    \r\n\r\n\r\n\t \t\r\n\t    return (\r\n\t      <div id='basketOrderDialog' style={{display:(isHideDialog?'none':'block')}} className=\"modal\">       \r\n\t        <div style={{width:'930px'}} className=\"modal-content\">\r\n\t          <div  className=\"orderStatusView\">{orderStatus} <div className=\"openPosition\">({openMIS}/{totalMIS})</div></div>\t\r\n\t          <span onClick={hideBasketOrderDialog} className=\"close\">&times;</span>\r\n\t          <div className='basket-orders'>\r\n\t          \r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Select</th>\r\n                <th>Name</th>\r\n                <th>PnL</th>\r\n                <th>Q(M)</th>\r\n                <th>Q(H)</th>\r\n                <th>Value</th>\r\n                <th>Change</th>\r\n                <th>LTP</th>\r\n                <th>Qty</th>\r\n                <th>Price</th>\r\n             {orderWindowView.buyView &&  <th>BUY</th>\t\t}\t\t \r\n\t\t\t\t     {orderWindowView.sellView &&    <th>SELL</th> }\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { kiteBasketOrderData.map((symbol,index)=> <BasketListRow updateFillOrderRequest={this.updateFillOrderRequest} fetchPositionData={this.fetchPositionData} updateMarginData={updateMarginData} positionsdata={positionMap[symbol]} ref={ele => this.rowfRefs['MIS-'+symbol] = ele}  orderType={orderType} orderWindowView={orderWindowView} onTableRowclick={onTableRowclick} addToFavList={addToFavList} removeFromFavList={removeFromFavList} tableId={tableId} updateOrderStatus={this.updateOrderStatus} key={'MIS-'+symbol} kitedata={kitedata}  symbol={symbol} />)}\r\n             \r\n            </tbody>\r\n\r\n\r\n        </table>\r\n\r\n\t         </div>\r\n        <button className=\"favButton\"  onClick={(evt)=>{this.setState({isHideDialog:true})}} type=\"button\">H</button>   \r\n        <button className=\"favButton\"  onClick={this.toogleSellView} type=\"button\">S</button>\r\n        <button className=\"favButton\"  onClick={this.toogleBuyView} type=\"button\">B</button>\r\n\r\n        \r\n        <div style={{marginLeft: '10px'}} className=\"dropdown\">\r\n          <button style={{fontSize:'15px',backgroundColor:((isSortPosition || isSortOnValue || isSortOnPriceChange || isSortOnMISQty || isSortOnDayQty)?'red':'initial')}} className=\"dropbtn\">Srt</button>\r\n          <div className=\"dropdown-content\" style={{bottom: '0px'}}>\r\n            <a style={{backgroundColor:(isSortPosition?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortPosition');}}>{'Loss'}</a>\r\n            <a style={{backgroundColor:(isSortOnValue?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnValue');}}>{'Total Value'}</a>\r\n            <a style={{backgroundColor:(isSortOnPriceChange?'red':'initial')}} onClick={(evt)=>{this.previosChangeSortedOrder=undefined;this.setSortOrder('isSortOnPriceChange');}}>{'Change'}</a>\r\n            <a style={{backgroundColor:(isSortOnDayQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnDayQty');}}>{'Q(H)'}</a>\r\n            <a style={{backgroundColor:(isSortOnMISQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnMISQty');}}>{'Q(M)'}</a>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n        <button className=\"favButton\"  onClick={this.onSQOFFClick} type=\"button\">SQFF</button>\r\n        <button className=\"favButton\"  onClick={this.onTpriceClick} type=\"button\">Tpri</button>\r\n\r\n        <button className=\"favButton\"  onClick={this.fillQtyForValue} type=\"button\">Fill Qty</button>\r\n\r\n\r\n        <div style={{marginLeft: '10px'}} className=\"dropdown\">\r\n          <button className=\"dropbtn\">Mark</button>\r\n          <div className=\"dropdown-content\" style={{bottom: '0px'}}>\r\n            <a >{'Chg% < X '}</a>\r\n            <a >{'Chg% > X '}</a>\r\n            <a >{'Chg% [x,y]'}</a>\r\n            <a >{'Profit% < X '}</a>\r\n            <a >{'Profit% > X '}</a>            \r\n            <a >{'Profit [x,y]'}</a>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"orderType\">      \r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_MARKET\" checked={orderType==\"MARKET\"?true:false} value=\"MARKET\"/><label for=\"ORDER_TYPE_MARKET\">M</label>\r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_LIMIT\" checked={orderType==\"LIMIT\"?true:false} value=\"LIMIT\"/><label for=\"ORDER_TYPE_LIMIT\">L</label>\r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_SL_MARKET\" checked={orderType==\"SL_MARKET\"?true:false} value=\"SL_MARKET\"/><label for=\"ORDER_TYPE_SL_MARKET\">SL_M</label>\r\n        </div>\r\n\r\n        <select className=\"selectSymbolsBasket\" onChange={this.onSymbolSelect}>\r\n             { kiteBasketOrderData.map((symbol,index)=> <option value={symbol}>{symbol}</option>)}\r\n        </select>\r\n\r\n\r\n        {orderWindowView.buyView && <button  className=\"builkOrderBtn favButton buyButton\"  onClick={this.placeBuyOrderForselectedRow} type=\"button\">{buyButtonText}</button> }\r\n        {orderWindowView.sellView &&    <button  className=\"builkOrderBtn favButton sellButton\"  onClick={this.placeSellOrderForselectedRow} type=\"button\">{sellButtonText}</button> }\r\n\r\n\r\n\r\n\r\n\r\n\t       </div>\r\n\t      </div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default BasketOrderDialog;\r\n\r\n\r\n\r\n\r\nclass BasketListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={isRowEnable:false,pendingOrderRequest:0};\r\n  }\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\t  \tthis.setState({quantity:0,price:kitedata.ticks[symbol].lastTradedPrice});\r\n  \t}\r\n\r\n  }\r\n\r\n\r\n  fillQtyForValue=(value)=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n    let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice; \r\n    let quantity =  Number.parseInt(value/lastTradedPrice);\r\n    this.setState({quantity:quantity});\r\n    return quantity*lastTradedPrice;\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable\r\n    }=this.state;\r\n\r\n  \tif(evt.target.name == 'quantity'){\r\n  \t\tquantity=evt.target.value;\r\n  \t\tthis.setState({quantity:quantity});\r\n  \t}else if(evt.target.name == 'price'){\r\n  \t\t price=evt.target.value;\r\n  \t\tthis.setState({price:price});\r\n  \t}else if(evt.target.name == 'checkbox'){\r\n      isRowEnable=evt.target.checked;\r\n      this.setState({isRowEnable:isRowEnable});      \r\n    }\r\n\r\n  }\r\n\r\n\r\n fillQtyValueOnSqOffClick=(perc)=>{\r\n\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let quantity = Number.parseInt(Math.abs((positionsdata.quantity*perc/100)));      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n\r\n    return orderValue;\r\n  }\r\n\r\n\r\nfillPriceValueOnTpriceClick=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      let priceChange = (lastTradedPrice*perc)/100; \r\n\r\n      if(positionsdata.quantity >= 0){\r\n          price = lastTradedPrice - priceChange; //sell stop losss trigger\r\n      }else {\r\n          price = lastTradedPrice + priceChange; //Buy stop losss trigger\r\n      }\r\n      this.setState({price:(price).toFixed(1)});\r\n      \r\n      orderValue = quantity*price;\r\n    }\r\n    return orderValue;\r\n}\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    updateMarginData();\r\n    fetchPositionData();\r\n\tupdateOrderStatus(data.data.order_id);\r\n\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n  updateMarginData();\r\n  fetchPositionData();\r\n\tupdateOrderStatus(data.message);\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}  \r\n\r\nmarkCheckBox=(enable)=>{\r\n // this.checkBoxRef.checked=enable;\r\n  this.setState({isRowEnable:enable});\r\n}  \r\n\r\nisCheckBoxChecked=()=>{\r\n  return this.state.isRowEnable == true;\r\n}  \r\n\r\ngetPendingOrderRequest=()=>{\r\n  return this.state.pendingOrderRequest ;\r\n}  \r\n\r\n\r\ngetOrderValue=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n  return Math.abs(quantity) * price;\r\n}  \r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeMISBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);\r\n   } else if(orderType==\"LIMIT\"){\r\n      placeMISBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> LIMIT -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   } else if(orderType==\"SL_MARKET\"){\r\n      placeMISBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> SL-MARKET -> MIS ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   }\r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeMISSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"LIMIT\"){\r\n      placeMISSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> LIMIT -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"SL_MARKET\"){\r\n      placeMISSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> SL-MARKET -> MIS ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   } \r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n}\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick, \r\n      orderWindowView,\r\n      positionsdata     \r\n    }=this.props;\r\n\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n\r\n    let checkboxstyle={};\r\n    if(isRowEnable){\r\n      checkboxstyle.backgroundColor='grey';\r\n    } \r\n    if(positionsdata && positionsdata.quantity > 0){\r\n      checkboxstyle.borderLeft='20px solid lightgreen';\r\n    }else if(positionsdata && positionsdata.quantity < 0){\r\n      checkboxstyle.borderLeft='20px solid red';\r\n    }else {\r\n      checkboxstyle.borderLeft='20px solid white';\r\n    }     \r\n\r\n     let rowstyle={};\r\n     if(pendingOrderRequest!=0){\r\n        rowstyle.backgroundColor='gold';\r\n     }\r\n\r\n    //ref={ele => this.checkBoxRef = ele}\r\n\r\n    let dayQtyCNC=0;let dayQtyMIS=0;\r\n    if(positionsdata && positionsdata.dayCNC){\r\n      dayQtyCNC = positionsdata.dayCNC.quantity;\r\n    }\r\n\r\n    if(positionsdata){\r\n      dayQtyMIS = positionsdata.quantity;\r\n    }\r\n\r\n    let dqCNCClass = dayQtyCNC<0 ?'red':'green';\r\n    let dqMISClass = dayQtyMIS<0 ?'red':'green';\r\n\r\n    return (\r\n      <tr style={rowstyle} rowId={'MIS_ORDER-'+symbol}>\r\n        <td onClick={(evt)=>{this.setState({isRowEnable:!isRowEnable})}} style={checkboxstyle}><input tabIndex={\"-1\"} style={{width:'20px',height: '20px'}}    onChange={this.onInputValueChange} type=\"checkbox\" name='checkbox' checked={isRowEnable}></input></td>  \r\n  \t\t\t<td onDoubleClick={(evt)=>{addToFavList(symbol,'MIS');}} >{symbol}<span className='exchangeSuffix'>&nbsp;&nbsp;{kitedata.ticks[symbol].exchange}</span></td>    \r\n        <td className={positionsdata && positionsdata.pnl<0?'red':'green'}>{positionsdata ?positionsdata.pnl.toFixed(1):'' }</td>   \r\n\r\n        <td className={dqMISClass}>{dayQtyMIS==0?'':dayQtyMIS}</td>  \r\n        <td className={dqCNCClass +\" holdingQty\"}>{dayQtyCNC==0?'':dayQtyCNC}</td>  \r\n        <td><span className='misValue'>{(positionsdata&& positionsdata.quantity!=0 )?(Math.round((positionsdata.value)/1000)+'k'):'' }</span></td>\r\n\r\n        <td onClick={this.openStockInfo} className={changeClass}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td>    \r\n  \t\t\t<td >{kitedata.ticks[symbol].lastTradedPrice}</td>    \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\"   autoComplete=\"off\" onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"quantity\" step={1} name=\"quantity\" min=\"1\" max=\"1000\" value={quantity}></input>\r\n  \t\t\t</td>         \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\" tabIndex={\"-1\"} autoComplete=\"off\" onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"price\" step={0.2} name=\"price\" min=\"1\" max=\"10000\" value={price}></input>\r\n  \t\t\t</td> \t\t\r\n\r\n  \t\t\t{orderWindowView.buyView && <td><button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'green'}} className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button></td> }\r\n  \t\t\t{orderWindowView.sellView && <td> <button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'#e86666'}} className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button></td>}\r\n      \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass Fundamentals extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state={};\r\n  }\r\n\r\n\r\n\r\nrender() {\r\n \t\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      hideFundamentalsDialog\r\n    }=this.props;\r\n\r\n\tlet hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/NSE/'+kitedata.ticks[symbol].tradingsymbol+'/'+kitedata.ticks[symbol].token;\r\n\tlet hrefFunda = 'https://stocks.tickertape.in/'+symbol+'?broker=kite';\r\n\r\n\r\n \treturn (\r\n\t      <div className=\"modal\">       \r\n\t        <div style={{width:'1200px'}} className=\"modal-content\">\r\n\t        <span onClick={hideFundamentalsDialog} className=\"close\">&times;</span>\r\n\r\n\r\n\r\n        <div className='fundamental-dialog'>\r\n\r\n        <iframe style={{height:'1000px'}} className='graphFrame' src={'https://www.screener.in/company/'+(symbol.endsWith('-BE')?symbol.replace('-BE',''):symbol)+'/consolidated/'}></iframe>\r\n\r\n        <iframe className='fundamentalFrame' src={hrefFunda}></iframe>\r\n\r\n        <iframe className='graphFrame' src={hrefGraph}></iframe>\r\n\r\n\r\n          </div>\r\n\r\n\t    \t</div>\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Fundamentals;\r\n","\r\n\r\nimport React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass CurrentTime extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={};\r\n  }\r\n\r\n\r\ncomponentDidMount() {\r\n  this.timeInterval =  setInterval(this.startTime,500);\r\n}\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.timeInterval );\r\n  }\r\n\r\ncheckTime=(i)=>{\r\n  if (i < 10) {\r\n    i = \"0\" + i;\r\n  }\r\n  return i;\r\n}\r\n\r\n\r\nstartTime=(event)=>{\r\n  let today = new Date();\r\n  let h = today.getHours();\r\n  let m = today.getMinutes();\r\n  let s = today.getSeconds();\r\n  // add a zero in front of numbers<10\r\n  m = this.checkTime(m);\r\n  s = this.checkTime(s);\r\n  this.timeInterval = setTimeout(function() {\r\n    this.startTime()\r\n  }.bind(this), 500);\r\n\r\n  this.setState({currentTime:(h + \":\" + m + \":\" + s)});\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n    const{\r\n      currentTime\r\n    }=this.state;\r\n\r\n     \r\n    return (\r\n           <div className='currentTime'>{currentTime}</div>\r\n         )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default CurrentTime;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { IoIosSearch } from 'react-icons/io'\r\n\r\n\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={searchValue:undefined};\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n\t\tsearchValue\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n  \tif(evt.target.name == 'searchInput'){\r\n  \t\tsearchValue=evt.target.value.toUpperCase();\r\n  \t\tlet rowMap={};\r\n\r\n  \t\tif(searchValue.length>2){\r\n\r\n\t  \t\tlet matchs = document.querySelectorAll('tr[rowid*=\"'+ searchValue +'\"]');\r\n\t  \t\tif(matchs && matchs.length>0){\r\n\t  \t\t\tfor(let i=0;i<matchs.length;i++){\r\n\t  \t\t\t\tlet rowId = matchs[i].attributes.rowid.value.replace('1-','').replace('2-','').replace('3-','').replace('0-','').replace('RES-','').replace('MIS-','').replace('POS-','').replace('HOLD-','').replace('MIS_ORDER-','');\r\n\t  \t\t\t\tif(kitedata.ticks[rowId]){\r\n\t  \t\t\t\t\trowMap[rowId]=kitedata.ticks[rowId].name;\r\n\t  \t\t\t\t}  \t\t\t\t\r\n\t  \t\t\t}\r\n\t  \t\t}\r\n\r\n  \t\t}\r\n\r\n  \t\tif(kitedata.ticks[searchValue]){\r\n  \t\t\tonTableRowclick(searchValue);\r\n  \t\t}\r\n  \t\tthis.setState({searchValue:searchValue,rowMap:rowMap});\r\n  \t\t\r\n  \t}\r\n\r\n  }  \r\n\r\n  render() {\r\n\r\n\r\n    let{\r\n\t\tsearchValue,\r\n\t\trowMap\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n    return (\r\n    \t<div className=\"dropdown\">\r\n          <button className=\"dropbtn\"><IoIosSearch className=\"appicon\"/></button>\r\n          <div className=\"dropdown-content searchList\">\r\n\r\n\t\t  <input list=\"searchDataList\" className='searchInput' type=\"text\"  name=\"searchInput\" ref={elem => (this.searchInput = elem)} onClick={event => event.target.select()}  onInput={this.onInputValueChange}  value={searchValue}></input>\r\n\t\t  <datalist id=\"searchDataList\">\r\n\t\t    {rowMap && Object.keys(rowMap).map((data,index)=> <option value={data}>{rowMap[data]}</option>)}\r\n\t\t  </datalist>\r\n\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Search;\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {getHolding,placeMISBuyLimitOrder,placeMISSellLimitOrder,placeMISBuyMarketOrder,placeMISSellMarketOrder,getPosition,placeMISBuySLMarketOrder,placeMISSellSLMarketOrder,\r\nplaceBuyLimitOrder,placeSellLimitOrder,placeBuyMarketOrder,placeSellMarketOrder,placeBuySLMarketOrder,placeSellSLMarketOrder\r\n} from './OrderUtil';\r\n\r\n\r\nclass HoldingOrderDialog extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);  \r\n\r\n      let orderWindowView = {buyView:true,sellView:true,sellBuyCNCMISView:false};\r\n      orderWindowView = localStorage.getItem(\"holdingOrderWindowView\")!=undefined ?JSON.parse(localStorage.getItem(\"holdingOrderWindowView\")):orderWindowView;      \r\n\r\n      let holdingOrder = localStorage.getItem(\"holdingRowOrder\")!=undefined ?JSON.parse(localStorage.getItem(\"holdingRowOrder\")):[];      \r\n\r\n      this.rowfRefs ={};\r\n\r\n      this.state={orderWindowView:orderWindowView,isHideDialog:false,orderType:\"MARKET\",totaOrderRequest:undefined,totalFillOrderRequest:undefined,holdingOrder:holdingOrder};    \r\n\r\n\t  }\r\n\r\n  toogleBuyView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.buyView=!orderWindowView.buyView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n    localStorage.setItem(\"holdingOrderWindowView\", JSON.stringify(orderWindowView));    \r\n  }\r\n\r\n  toogleSellView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellView=!orderWindowView.sellView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n    localStorage.setItem(\"holdingOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n\r\n  toogleSellBuyCNCMISView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellBuyCNCMISView=!orderWindowView.sellBuyCNCMISView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n    localStorage.setItem(\"holdingOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n\r\n\r\n  saveHoldingRowOrder=(symbol)=>{\r\n    let holdingOrder = this.state.holdingOrder;\r\n    let indertPos = holdingOrder.indexOf(symbol);\r\n    if(indertPos > 0){\r\n    \tholdingOrder.splice(indertPos,1);\r\n    }\r\n    holdingOrder.unshift(symbol);\r\n    this.setState({holdingOrder:holdingOrder});\r\n    localStorage.setItem(\"holdingRowOrder\", JSON.stringify(holdingOrder));    \r\n  }\r\n\r\n\r\n\r\n  onPositionSuccess=(data)=>{\r\n    this.setState({positionsdata:data});    \r\n  }\r\n  onPositionError=(data)=>{\r\n   this.updateOrderStatus('Error in fetching position');\r\n  }\r\n  fetchPositionData=(data)=>{\r\n    getPosition(this.onPositionSuccess,this.onPositionError);\r\n  }\r\n\r\n  onHoldingSuccess=(data)=>{\r\n    this.setState({holdingsdata:data});    \r\n  }\r\n  onHoldingError=(data)=>{\r\n   this.updateOrderStatus('Error in fetching holding');\r\n  }\r\n  fetchHoldingData=(data)=>{\r\n    getHolding(this.onHoldingSuccess,this.onHoldingError);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.fetchPositionData();\r\n    this.fetchHoldingData();\r\n    this.updateOrderStatus('HOLDINGS');\r\n    this.interval = setInterval(this.fetchPositionData, 2000);\r\n    this.holdinginterval=setInterval(this.fetchHoldingData,2000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.interval );\r\n    clearInterval( this.holdinginterval );\r\n    clearTimeout(this.misTimeout);\r\n  }\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\tupdateOrderStatus=(data)=>{\r\n\t\tthis.setState({orderStatus:data})\r\n\t}\r\n\r\n\tshowDialog=(data)=>{\r\n    \tthis.setState({isHideDialog:false})\r\n  \t}\r\n\r\n\r\n updateFillOrderRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n    if(totalOrderRequest !=undefined){\r\n      totalFillOrderRequest++;\r\n      this.setState({totalFillOrderRequest:totalFillOrderRequest});  \r\n      if(totalFillOrderRequest == totalOrderRequest){\r\n        this.setState({totalOrderRequest:undefined,totalFillOrderRequest:undefined});  \r\n      }\r\n    }    \r\n  }\r\n\r\n\r\ncheckFoPendingRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  let noOffendingOrderRequest = 0;      \r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      noOffendingOrderRequest += rowRef.getPendingOrderRequest();\r\n  }\r\n\r\n  if(totalOrderRequest != undefined || noOffendingOrderRequest != 0){\r\n      window.alert('Request pending -> All '+noOffendingOrderRequest +' Bulk : '+(totalOrderRequest-totalFillOrderRequest) );\r\n      return true;\r\n  }\r\n  return false;          \r\n}\r\n\r\n\r\ntotalSelectedRows=()=>{\r\n  let totalOrderRequest=0;\r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      if(rowRef.isCheckBoxChecked()){\r\n        totalOrderRequest++;\r\n      } \r\n  }\r\n  return totalOrderRequest;\r\n}\r\n\r\n\r\nplaceBuyOrderForselectedRow=()=>{          \r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n  let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"BUY order for all selected rows confirm : \"+totalOrderRequest); \r\n  if(isOk && totalOrderRequest>0){\r\n      this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n      for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendBuyOrderRequest();\r\n        } \r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nplaceSellOrderForselectedRow=(data)=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"SELL order for all selected rows confirm : \"+totalOrderRequest);\r\n  if(isOk && totalOrderRequest>0){\r\n    this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendSellOrderRequest();\r\n        } \r\n    }    \r\n  }\r\n}\r\n\r\n\r\nonSQOFFClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n   let  totalOrderRequest= this.totalSelectedRows();\r\n   let isSoffOnlySelectedRows=false;\r\n   if(totalOrderRequest != 0){\r\n      isSoffOnlySelectedRows = window.confirm('SQ only selected rows:'+totalOrderRequest);\r\n   }\r\n\r\n  const perc = window.prompt('selected position '+(isSoffOnlySelectedRows?totalOrderRequest:' ALL ') +' Percetage to SQ OFF ->');\r\n\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 20){\r\n  \twindow.alert(\"HOLDINGS SQOFF ALERT > 20% doing nothing\");\r\n  \treturn;  \t\r\n  }else if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 10){\r\n  \twindow.alert(\"HOLDINGS SQOFF ALERT > 10%\");\r\n  }\r\n\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(isSoffOnlySelectedRows && !rowRef.isCheckBoxChecked()){\r\n          continue;\r\n        }\r\n        totalValue+=rowRef.fillQtyValueOnSqOffClick(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\n\r\nonTpriceClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }\r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n  const perc = window.prompt('Position selected '+totalOrderRequest+' Stop Loss %');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n         if(rowRef.isCheckBoxChecked()){\r\n            totalValue+=rowRef.fillPriceValueOnTpriceClick(perc);\r\n         }        \r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\nfillQtyForValue=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  const value = window.prompt('Build Position '+totalOrderRequest+' for amount ->');\r\n  let totalValue=0;\r\n  if(value!=null && value!=\"\" && !isNaN(value) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          totalValue+=rowRef.fillQtyForValue(value);\r\n        }         \r\n    }\r\n    this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n  }\r\n\r\n}\r\n\r\n\r\nexitSoldPosition=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n   let  totalOrderRequest= this.totalSelectedRows();\r\n   let isSoffOnlySelectedRows=false;\r\n   if(totalOrderRequest != 0){\r\n      isSoffOnlySelectedRows = window.confirm('Exit only selected rows:'+totalOrderRequest);\r\n   }\r\n\r\n  const perc = window.prompt('Exit position '+(isSoffOnlySelectedRows?totalOrderRequest:' ALL ') +' Percetage to Exit(%) ->');\r\n\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 100){\r\n  \twindow.alert(\"Exit % ALERT > 100% doing nothing\");\r\n  \treturn;  \t\r\n  }else if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 50){\r\n  \twindow.alert(\"Exit %  ALERT > 50%\");\r\n  }\r\n\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(isSoffOnlySelectedRows && !rowRef.isCheckBoxChecked()){\r\n          continue;\r\n        }\r\n        totalValue+=rowRef.exitSoldPosition(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n\r\n}\r\n\r\n\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('#holdingOrderDialog tr[rowid=\"HOLDING_ORDER-'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('#holdingOrderDialog tr[rowid=\"HOLDING_ORDER-'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nonOnderTypeChange=(evt)=>{\r\n  if(evt.target.name=='orderType'){\r\n     this.setState({orderType:evt.target.value});\r\n  }\r\n}\r\n\r\nsetSortOrder=(key)=>{\r\n\tlet value = this.state[key];\r\n \tthis.setState({isSortPosition:false,isSortOnValue:false,isSortOnPriceChange:false,isSortOnMISQty:false,isSortOnDayQty:false});\r\n \tlet s1 = {};\r\n \ts1[key] = !value;\r\n\tthis.setState(s1);\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      hideHoldingOrderDialog,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick,\r\n //     positionsdata,  \t//poll from server \r\n//\t  holdingsdata,\t \t//poll from server \r\n      updateMarginData\r\n    }=this.props;\r\n\r\n    const{\r\n      orderStatus,\r\n      orderWindowView,\r\n      isHideDialog,\r\n      positionsdata, \t//poll from client \r\n      holdingsdata, \t\t//poll from client \r\n      orderType,\r\n      isSortPosition,\r\n      isSortOnValue,\r\n      isSortOnPriceChange,\r\n      isSortOnDayQty,\r\n      isSortOnMISQty,\r\n      totalOrderRequest,\r\n      totalFillOrderRequest,\r\n      holdingOrder\r\n    }=this.state;\r\n\r\n    let kiteBasketOrderData=[];\r\n    let positionMap={};\r\n    let closeCNC =0;\r\n    let totalCNC =0;    \r\n\r\n\r\n    if(positionsdata && holdingsdata){\r\n\r\n    \tfor(let i=0;i<holdingsdata.data.length;i++){\r\n    \t \tpositionMap[holdingsdata.data[i].tradingsymbol]={holding:holdingsdata.data[i]}\r\n    \t}\t\t\r\n\r\n\t    for(let i=0;i<positionsdata.data.net.length;i++){\r\n\t\t\t if(positionsdata.data.net[i].product == 'CNC' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n\t\t\t \tif(positionMap[positionsdata.data.net[i].tradingsymbol] == undefined){\r\n\t\t\t \t\tpositionMap[positionsdata.data.net[i].tradingsymbol]={dayCNC:positionsdata.data.net[i]}\r\n\t\t\t \t}else{\r\n\t\t\t \t\tpositionMap[positionsdata.data.net[i].tradingsymbol].dayCNC=positionsdata.data.net[i];\r\n\t\t\t \t}\r\n\t        }      \r\n\t    }\r\n\r\n\t    for(let i=0;i<positionsdata.data.net.length;i++){\r\n\t        if(positionsdata.data.net[i].product == 'MIS' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n\t        \tif(positionMap[positionsdata.data.net[i].tradingsymbol] != undefined){\r\n\t        \t\tpositionMap[positionsdata.data.net[i].tradingsymbol].dayMIS=positionsdata.data.net[i];\r\n\t        \t}\t          \r\n\t        }      \r\n\t    }\r\n\r\n\t    kiteBasketOrderData = Object.keys(positionMap);\r\n\t    let saveRowOrder=[];\r\n\t    for(let i=0;i<holdingOrder.length;i++){\r\n\t    \tif(positionMap[holdingOrder[i]] !=undefined){\r\n\t    \t\tsaveRowOrder.push(holdingOrder[i]);\r\n\t    \t}\r\n\t    }\r\n\t    for(let i=0;i<kiteBasketOrderData.length;i++){\r\n\t    \tif(saveRowOrder.indexOf(kiteBasketOrderData[i]) == -1){\r\n\t    \t\tsaveRowOrder.push(kiteBasketOrderData[i]);\r\n\t    \t}\r\n\t    }\r\n\t    kiteBasketOrderData = saveRowOrder;\r\n\r\n\t    totalCNC = kiteBasketOrderData.length;\t\r\n\t    for(let i=0;i<kiteBasketOrderData.length;i++){\r\n\t    \tlet combinedPosition = positionMap[kiteBasketOrderData[i]];\r\n     \t\tif(combinedPosition.holding && ((combinedPosition.holding.quantity + combinedPosition.holding.t1_quantity) == 0)){\r\n     \t\t\tcloseCNC++;\r\n     \t\t}\t\r\n\t    }\r\n\r\n\r\n\t    if(isSortPosition){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].holding?(positionMap[a].holding.quantity + positionMap[a].holding.t1_quantity)*positionMap[a].holding.last_price - (positionMap[a].holding.quantity + positionMap[a].holding.t1_quantity)*positionMap[a].holding.average_price:0;\r\n\t              let v2 = positionMap[b].holding?(positionMap[b].holding.quantity + positionMap[b].holding.t1_quantity)*positionMap[b].holding.last_price - (positionMap[b].holding.quantity + positionMap[b].holding.t1_quantity)*positionMap[b].holding.average_price:0;\r\n\t              v1 =isNaN(v1)?0:v1;\r\n\t              v2 =isNaN(v2)?0:v2;\r\n\t              return v1-v2;\r\n\t            });        \r\n\t      }else if(isSortOnValue){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].holding?(positionMap[a].holding.quantity + positionMap[a].holding.t1_quantity)*positionMap[a].holding.last_price:0;\r\n\t              let v2 = positionMap[b].holding?(positionMap[b].holding.quantity + positionMap[b].holding.t1_quantity)*positionMap[b].holding.last_price:0;\r\n\t              return v2-v1;\r\n\t            });\r\n\r\n\t      }else if(isSortOnPriceChange){\r\n\t        if(this.previosChangeSortedOrder == undefined){\r\n\t            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n\t            kiteBasketOrderDataCopy.sort(function(a, b){\r\n\t              let v1 =kitedata.ticks[a].change;\r\n\t              let v2 =kitedata.ticks[b].change;\r\n\t              return v1-v2;\r\n\t            });\r\n\t            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n\t            this.previosChangeSortedOrder = kiteBasketOrderDataCopy;\r\n\t        }else{\r\n\t          kiteBasketOrderData = this.previosChangeSortedOrder;\r\n\t        }\r\n\t      }else if(isSortOnDayQty){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].dayCNC?positionMap[a].dayCNC.quantity :0;\r\n\t              let v2 = positionMap[b].dayCNC?positionMap[b].dayCNC.quantity :0;\r\n\t              if(v1==0) v1 = -9999999; \r\n\t              if(v2==0) v2 = -9999999; \r\n\r\n\t              return v2-v1;\r\n\t            });\r\n\t      }else if(isSortOnMISQty){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].dayMIS?positionMap[a].dayMIS.quantity :0;\r\n\t              let v2 = positionMap[b].dayMIS?positionMap[b].dayMIS.quantity :0;\r\n\t              if(v1==0) v1 = -9999999; \r\n\t              if(v2==0) v2 = -9999999; \t              \r\n\t              return v2-v1;\r\n\t            });\r\n\t      }      \r\n\r\n\r\n    }\r\n\r\n\r\n    let buyButtonText = 'BUY'; let sellButtonText = 'SELL'\r\n    if(totalOrderRequest!=undefined){\r\n        buyButtonText = `B(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n        sellButtonText = `S(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n    }\r\n\r\n\r\n\t \t\r\n\t    return (\r\n\t      <div id='holdingOrderDialog' style={{display:(isHideDialog?'none':'block')}} className=\"modal\">       \r\n\t        <div style={{width:'960px'}} className=\"modal-content\">\r\n\t          <div  className=\"orderStatusView\">{orderStatus} <div className=\"openPosition\">({totalCNC - closeCNC}/{totalCNC})</div></div>\t\r\n\t          <span onClick={hideHoldingOrderDialog} className=\"close\">&times;</span>\r\n\t          <div className='basket-orders holding-orders'>\t          \r\n\t\t          <table>\r\n\t\t            <thead>\r\n\t\t              <tr>\r\n\t\t                <th>Select</th>\r\n\t\t                <th>Name</th>\t\t              \r\n\t\t                <th>PnL(%)</th>\r\n\t\t                <th>Value</th>\r\n\t\t                <th>Q(H)</th>\r\n\t\t                <th>Q(D)</th>\r\n\t\t                <th>Q(M)</th>\t\t                \r\n\t\t                <th>Chg%</th>\r\n\t\t                <th>LTP</th>\r\n\t\t                <th>Qty</th>\r\n\t\t                <th>Price</th>\r\n\t\t             \t{orderWindowView.buyView &&  \t<th>BUY</th>  }\t\t \r\n\t\t\t\t\t\t{orderWindowView.sellView &&    <th>SELL</th> }\r\n\t\t\t\t\t\t{orderWindowView.sellBuyCNCMISView &&  <th>S-B</th> }\r\n\t\t\t\t\t\t\r\n\t\t              </tr>\r\n\t\t            </thead>\r\n\r\n\t\t            <tbody>\r\n\t\t            \r\n\t\t             { kiteBasketOrderData.map((symbol,index)=> <HoldingListRow saveHoldingRowOrder={this.saveHoldingRowOrder} updateFillOrderRequest={this.updateFillOrderRequest} fetchPositionData={this.fetchPositionData} fetchHoldingData={this.fetchHoldingData} updateMarginData={updateMarginData} positionsdata={positionMap[symbol]} ref={ele => this.rowfRefs['HOLDING_ORDER-'+symbol] = ele}  orderType={orderType} orderWindowView={orderWindowView} onTableRowclick={onTableRowclick} addToFavList={addToFavList} removeFromFavList={removeFromFavList} tableId={tableId} updateOrderStatus={this.updateOrderStatus} key={'HOLDING_ORDER-'+symbol} kitedata={kitedata}  symbol={symbol} />)}\r\n\t\t             \r\n\t\t            </tbody>\r\n\t\t        </table>\r\n\t         </div>\r\n\r\n\t        <button className=\"favButton\"  onClick={(evt)=>{this.setState({isHideDialog:true})}} type=\"button\">H</button>   \r\n\t        <button className=\"favButton\"  onClick={this.toogleSellView} type=\"button\">S</button>\r\n\t        <button className=\"favButton\"  onClick={this.toogleBuyView} type=\"button\">B</button>\r\n\t        <button className=\"favButton\"  onClick={this.toogleSellBuyCNCMISView} type=\"button\">S-B</button>\r\n\r\n\r\n\t        \r\n\t        <div style={{marginLeft: '10px'}} className=\"dropdown\">\r\n\t          <button style={{fontSize:'15px',backgroundColor:((isSortPosition || isSortOnValue || isSortOnPriceChange || isSortOnMISQty || isSortOnDayQty)?'red':'initial')}} className=\"dropbtn\">Srt</button>\r\n\t          <div className=\"dropdown-content\" style={{bottom: '0px'}}>\r\n\t            <a style={{backgroundColor:(isSortPosition?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortPosition');}}>{'Loss'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnValue?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnValue');}}>{'Total Value'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnPriceChange?'red':'initial')}} onClick={(evt)=>{this.previosChangeSortedOrder=undefined;this.setSortOrder('isSortOnPriceChange');}}>{'Change'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnDayQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnDayQty');}}>{'Q(D)'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnMISQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnMISQty');}}>{'Q(M)'}</a>\r\n\t          </div>\r\n\t        </div>\r\n\r\n\t      \r\n\t        <button className=\"favButton\"  onClick={this.onSQOFFClick} type=\"button\">HOLD SQOFF</button>\r\n\t        <button className=\"favButton\"  onClick={this.onTpriceClick} type=\"button\">Tpri</button>\r\n\t        <button className=\"favButton\"  onClick={this.fillQtyForValue} type=\"button\">Fill Qty</button>\r\n\t        <button className=\"favButton\"  onClick={this.exitSoldPosition} type=\"button\">Exit S</button>\r\n\r\n\r\n\t        <div className=\"orderType\">      \r\n\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_MARKET\" checked={orderType==\"MARKET\"?true:false} value=\"MARKET\"/><label for=\"ORDER_TYPE_MARKET\">M</label>\r\n\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_LIMIT\" checked={orderType==\"LIMIT\"?true:false} value=\"LIMIT\"/><label for=\"ORDER_TYPE_LIMIT\">L</label>\r\n\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_SL_MARKET\" checked={orderType==\"SL_MARKET\"?true:false} value=\"SL_MARKET\"/><label for=\"ORDER_TYPE_SL_MARKET\">SL_M</label>\r\n\t        </div>\r\n\r\n\t        <select className=\"selectSymbolsBasket\" onChange={this.onSymbolSelect}>\r\n\t             { kiteBasketOrderData.map((symbol,index)=> <option value={symbol}>{symbol}</option>)}\r\n\t        </select>\r\n\r\n\r\n\t        {orderWindowView.buyView && <button  className=\"builkOrderBtn favButton buyButton\"  onClick={this.placeBuyOrderForselectedRow} type=\"button\">{buyButtonText}</button> }\r\n\t        {orderWindowView.sellView && <button  className=\"builkOrderBtn favButton sellButton\"  onClick={this.placeSellOrderForselectedRow} type=\"button\">{sellButtonText}</button> }\r\n\r\n\r\n\t       </div>\r\n\t      </div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default HoldingOrderDialog;\r\n\r\n\r\n\r\n\r\nclass HoldingListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={isRowEnable:false,pendingOrderRequest:0};\r\n  }\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\t  componentWillUnmount(){\r\n\t    clearTimeout(this.misTimeout);\r\n\t  }\r\n\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\t  \tthis.setState({quantity:0,price:kitedata.ticks[symbol].lastTradedPrice});\r\n  \t}\r\n  }\r\n\r\n\r\n  fillQtyForValue=(value)=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n    let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice; \r\n    let quantity =  Number.parseInt(value/lastTradedPrice);\r\n    this.setState({quantity:quantity});\r\n    return quantity*lastTradedPrice;\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable\r\n    }=this.state;\r\n\r\n  \tif(evt.target.name == 'quantity'){\r\n  \t\tquantity=evt.target.value;\r\n  \t\tthis.setState({quantity:quantity});\r\n  \t}else if(evt.target.name == 'price'){\r\n  \t\t price=evt.target.value;\r\n  \t\tthis.setState({price:price});\r\n  \t}else if(evt.target.name == 'checkbox'){\r\n      isRowEnable=evt.target.checked;\r\n      this.setState({isRowEnable:isRowEnable});      \r\n    }\r\n\r\n  }\r\n\r\n\r\n fillQtyValueOnSqOffClick=(perc)=>{\r\n\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata && positionsdata.holding){\r\n      let quantity = Number.parseInt(Math.abs(((positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*perc/100)));      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n\r\n    return orderValue;\r\n  }\r\n\r\n\r\n exitSoldPosition=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata && positionsdata.dayCNC){\r\n      let quantity = positionsdata.dayCNC.quantity;\r\n      if(quantity < 0){\t\r\n      \tquantity = Number.parseInt(Math.abs(((quantity)*perc/100))); \r\n      }else{\r\n      \tquantity =0;\r\n      }      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n    return orderValue;\r\n }\r\n\r\n\r\n\r\nfillPriceValueOnTpriceClick=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      let priceChange = (lastTradedPrice*perc)/100; \r\n\r\n \t  price = lastTradedPrice - priceChange; //sell stop losss trigger\r\n\r\n      this.setState({price:(price).toFixed(1)});\r\n      \r\n      orderValue = quantity*price;\r\n    }\r\n    return orderValue;\r\n}\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      fetchHoldingData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    updateMarginData();\r\n    fetchPositionData();\r\n    fetchHoldingData();\r\n\tupdateOrderStatus(data.data.order_id);\r\n\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      fetchHoldingData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    updateMarginData();\r\n    fetchPositionData();\r\n    fetchHoldingData();\r\n\tupdateOrderStatus(data.message);\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}  \r\n\r\nmarkCheckBox=(enable)=>{\r\n // this.checkBoxRef.checked=enable;\r\n  this.setState({isRowEnable:enable});\r\n}  \r\n\r\nisCheckBoxChecked=()=>{\r\n  return this.state.isRowEnable == true;\r\n}  \r\n\r\ngetPendingOrderRequest=()=>{\r\n  return this.state.pendingOrderRequest ;\r\n}  \r\n\r\n\r\ngetOrderValue=()=>{\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n  return Math.abs(quantity) * price;\r\n}  \r\n\r\n\r\nsendCNCMISSellBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n   \t  //place CNC SELL order\t\r\n      placeSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n      this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+2}); // to avoid multiple orders\r\n\r\n      //place MIS BUY order \r\n      this.misTimeout = setTimeout(()=>{\r\n\t      placeMISBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n\t      updateOrderStatus(symbol +' -> BUY  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);      \t\r\n      },1300);\r\n\r\n   }else{\r\n   \t\twindow.alert('ONLY MARKET ORDER ALLOWED');\r\n   } \r\n\r\n}\r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> MARKET -> CNC ->' +'        Q: '+ quantity + '   P: '+price);\r\n   } else if(orderType==\"LIMIT\"){\r\n      placeBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> LIMIT -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   } else if(orderType==\"SL_MARKET\"){\r\n      placeBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> SL-MARKET -> CNC ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   }\r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"LIMIT\"){\r\n      placeSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> LIMIT -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"SL_MARKET\"){\r\n      placeSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> SL-MARKET -> CNC ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   } \r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n}\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick, \r\n      orderWindowView,\r\n      positionsdata,\r\n      saveHoldingRowOrder     \r\n    }=this.props;\r\n\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n\r\n    let checkboxstyle={};\r\n    if(isRowEnable){\r\n      checkboxstyle.backgroundColor='grey';\r\n    } \r\n    \r\n\r\n     let rowstyle={};\r\n     if(pendingOrderRequest!=0){\r\n        rowstyle.backgroundColor='gold';\r\n     }\r\n\r\n    let profit  =  0;let profitPec  =  0;let holdingValue  =  0;let holdingQty=0;let dayQtyCNC=0;let dayQtyMIS=0;\r\n    if(positionsdata && positionsdata.holding){\r\n    \tprofit  = \t(positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.last_price - (positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.average_price;\r\n    \tprofitPec = (profit*100/((positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.average_price)).toFixed(0);\r\n    \tprofitPec = isNaN(profitPec)?0:profitPec;\r\n    \tholdingValue = (positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.last_price;\r\n    \tholdingQty = positionsdata.holding.quantity + positionsdata.holding.t1_quantity;\r\n    }\r\n\r\n    if(positionsdata && positionsdata.dayCNC){\r\n    \tdayQtyCNC = positionsdata.dayCNC.quantity;\r\n    }\r\n\r\n    if(positionsdata && positionsdata.dayMIS){\r\n    \tdayQtyMIS = positionsdata.dayMIS.quantity;\r\n    }\r\n\r\n    let plClass = profit<0 ?'red':'green';\r\n    let dqCNCClass = dayQtyCNC<0 ?'red':'green';\r\n    let dqMISClass = dayQtyMIS<0 ?'red':'green';\r\n\r\n\r\n    return (\r\n      <tr style={rowstyle} rowId={'HOLDING_ORDER-'+symbol}>\r\n        \t<td onClick={(evt)=>{this.setState({isRowEnable:!isRowEnable})}} style={checkboxstyle}><input tabIndex={\"-1\"} style={{width:'20px',height: '20px'}}    onChange={this.onInputValueChange} type=\"checkbox\" name='checkbox' checked={isRowEnable}></input></td>  \r\n  \t\t\t<td onDoubleClick={(evt)=>{saveHoldingRowOrder(symbol)}}>{symbol}</td>    \r\n  \t\t\t<td  className={plClass}>{(profit/1000).toFixed(2)}k&nbsp;<span className=\"holdPercGain\">({profitPec}%)</span></td>  \r\n  \t\t\t<td>{Math.round(holdingValue/1000)}k</td>  \r\n  \t\t\t<td>{holdingQty}</td>  \r\n  \t\t\t<td className={dqCNCClass}>{dayQtyCNC==0?'':dayQtyCNC}</td>  \r\n  \t\t\t<td className={dqMISClass}>{dayQtyMIS==0?'':dayQtyMIS}</td>    \r\n        \t<td onClick={this.openStockInfo} className={changeClass}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td>    \r\n  \t\t\t<td >{kitedata.ticks[symbol].lastTradedPrice}</td>   \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\"   autoComplete=\"off\" onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"quantity\" step={1} name=\"quantity\" min=\"1\" max=\"1000\" value={quantity}></input>\r\n  \t\t\t</td>         \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\" tabIndex={\"-1\"} autoComplete=\"off\" onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"price\" step={0.2} name=\"price\" min=\"1\" max=\"10000\" value={price}></input>\r\n  \t\t\t</td> \t\t\r\n  \t\t\t{orderWindowView.buyView && <td><button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'green'}} className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button></td> }\r\n  \t\t\t{orderWindowView.sellView && <td> <button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'#e86666'}} className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button></td>}      \r\n\r\n  \t\t\t{orderWindowView.sellBuyCNCMISView && <td> <button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'yellow'}} className=\"sellBuyButton\" onClick={this.sendCNCMISSellBuyOrderRequest}> S->B </button></td>}      \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n","import React from 'react';\nimport './App.css';\n\nimport WatchList from './WatchList';\nimport GlobalindexList from './GlobalindexList';\nimport HoldingList from './HoldingList';\n\nimport StockInfo from './StockInfo';\n\nimport BasketOrderDialog from './BasketOrderDialog';\nimport FundamentalsDialog from './Fundamentals';\n\nimport toaster from \"toasted-notes\";\nimport \"toasted-notes/src/styles.css\"; \n\nimport CurrentTime from './CurrentTime';\n\nimport Search from './Search';\n\nimport {getMargin,showNotification,getFullQuote} from './OrderUtil';\n\nimport HoldingOrderDialog from './HoldingOrderDialog';\n\nimport { IoMdAddCircle ,IoMdNotifications,IoMdNotificationsOff,IoMdRemove,IoMdTrash,IoIosAdd,IoIosCreate} from 'react-icons/io'\n\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n   \n    // this.domain='./';\n    this.domain='http://localhost:9000/';\n\n\n   //\"{\"favSymbols\":[\"JAMNAAUTO\",\"ABFRL\",\"BAJFINANCE\",\"GRAUWEIL\",\"JMFINANCIL\",\"VIPIND\",\"HERITGFOOD\",\"GARFIBRES\",\"NESCO\",\"APLAPOLLO\",\"HESTERBIO\",\"SHOPERSTOP\",\"SARDAEN\",\"BHARATFORG\",\"WHIRLPOOL\",\"HAVELLS\",\"TEAMLEASE\",\"TRENT\",\"AVANTIFEED\",\"CHOLAFIN\",\"SBICARD\",\"RITES\",\"MINDAIND\",\"APEX\",\"HDFCAMC\",\"ECLERX\",\"NAUKRI\",\"CGCL\",\"CONTROLPR\",\"VMART\",\"NIITTECH\",\"SAKUMA\",\"ITI\",\"JINDALSTEL\",\"NAM-INDIA\",\"TIINDIA\",\"RUPA\",\"DLF\",\"IRCTC\",\"FINCABLES\",\"CUB\",\"MAITHANALL\",\"KRBL\",\"AXISBANK\",\"VBL\",\"PVR\",\"UPL\",\"APCOTEXIND\",\"SRF\",\"BORORENEW\",\"GMMPFAUDLR\",\"CENTURYPLY\",\"ISEC\",\"ALKYLAMINE\",\"TITAN\",\"TASTYBIT\",\"FILATEX\",\"ADFFOODS\",\"CAPLIPOINT\",\"GUJALKALI\",\"SUPREMEIND\",\"SUDARSCHEM\",\"SURYAROSNI\",\"SHAKTIPUMP\",\"GNA\",\"SRTRANSFIN\",\"MOTHERSUMI\",\"MINDACORP\",\"MEGH\",\"KPRMILL\",\"SUBROS\",\"JKPAPER\",\"CARBORUNIV\",\"KEC\",\"POLYCAB\",\"CCL\",\"ICICIBANK\",\"DCMSHRIRAM\",\"ENDURANCE\",\"PHOENIXLTD\",\"KALPATPOWR\",\"ORIENTREF\",\"ASTRAL\",\"SPICEJET\",\"KOTAKBANK\",\"RAJESHEXPO\",\"NITINSPIN\",\"AEGISCHEM\",\"TRIDENT\",\"INDIGO\",\"METROPOLIS\",\"APOLLOPIPE\",\"HONAUT\",\"GODREJCP\",\"INDHOTEL\",\"ASIANPAINT\",\"MUTHOOTCAP\",\"ZYDUSWELL\",\"ALKEM\",\"CHAMBLFERT\",\"INDOAMIN\",\"VIRINCHI\",\"GRANULES\",\"MAHSCOOTER\",\"AIAENG\",\"ORIENTELEC\",\"INOXLEISUR\",\"CANTABIL\",\"ATUL\",\"VGUARD\",\"POLYPLEX\",\"INFIBEAM\",\"FAIRCHEM\",\"ESCORTS\",\"PIDILITIND\",\"JBCHEPHARM\",\"JUBLFOOD\",\"GMBREW\",\"DAAWAT\",\"GODREJAGRO\",\"VINATIORGA\",\"SUNDRMFAST\",\"GODREJPROP\",\"AARTIIND\",\"SUVEN\",\"PIIND\",\"ASTEC\",\"STARPAPER\",\"CANFINHOME\",\"GODFRYPHLP\",\"TASTYBITE\",\"pvr\",\"del\",\"DELTACORP\",\"WELCORP\",\"VENKEYS\",\"upl\",\"spic\",\"PGHH\",\"PGHL\",\"atul\",\"star\",\"WSTCSTPAPR\",\"NRAIL\",\"AFFLE-BE\",\"LINDEINDIA\",\"SHILPAMED\",\"GLOBUSSPR\",\"BERGEPAINT\",\"NESTLEIND\",\"IPCALAB\",\"THYROCARE\",\"gnfc\",\"GNFC\",\"apex\",\"WATERBASE\",\"BIOCON\",\"bi\",\"BRITANNIA\",\"SKFINDIA\",\"BATAINDIA\",\"MCDOWELL-N\",\"abb\",\"ABBOTINDIA\",\"TCIEXP\",\"TATAMETALI\",\"NEOGEN-BE\",\"HAWKINCOOK\",\"VRLLOG\",\"HATSUN\",\"gmm\",\"GMM\",\"MARUTI\",\"DMART-BE\",\"ESSELPACK\",\"megh\",\"NOCIL\",\"UFLEX\",\"gna\",\"JSWSTEEL\",\"NMDC\",\"JAICORPLTD\",\"SEPERATOR\",\"SEPERATOR\",\"irctc\"],\"favSymbols1\":[\"RUPA\",\"krbl\",\"KPRMILL\",\"SUNDRMFAST\",\"CARBORUNIV\",\"KRBL\",\"TIINDIA\",\"TEAMLEASE\",\"NAUKRI\",\"vbl\",\"VBL\",\"INDIAMART\",\"METROPOLIS\",\"IRCTC\",\"JUBILANT\",\"GODFRYPHLP\",\"TCIEXP\",\"igl\",\"IGL\",\"MGL\",\"GARFIBRES\",\"ASTRAL\",\"ccl\",\"CCL\",\"ESCORTS\",\"INOXLEISUR\",\"WHIRLPOOL\",\"JBCHEPHARM\",\"BRITANNIA\",\"ABBOTINDIA\",\"AIAENG\",\"iolcp\",\"IOLCP\",\"SANOFI\",\"HATSUN\",\"TRENT\",\"hdfc\",\"HDFCAMC\",\"MUTHOOTFIN\",\"ASIANPAINT\",\"TRANSPEK\",\"RITES\",\"kei\",\"KEC\",\"KEI\",\"CAPLIPOINT\",\"ORIENTELEC\",\"HERITGFOOD\",\"ADFFOODS\",\"POLYPLEX\",\"RADICO\",\"ASALCBR\",\"HONAUT\",\"SYMPHONY\",\"ti\",\"TIMKEN\",\"MINDAIND\",\"HARITASEAT\",\"NIITTECH\",\"POLYCAB\",\"pvr\",\"PVR\",\"JUBLFOOD\",\"THYROCARE\",\"VIPIND\",\"srf\",\"atul\",\"GRANULES\",\"CANFINHOME\",\"BAJFINANCE\",\"itc\",\"ITC\",\"MIDHANI\",\"FINCABLES\",\"vmart\",\"VMART\",\"NESCO\",\"ALEMBICLTD\",\"CONTROLPR\",\"GMM\",\"MAHSCOOTER\",\"mgl\",\"SEPERATOR\",\"gmm\",\"ATUL\",\"SRF\",\"BALAMINES\",\"VINATIORGA\",\"FINEORG\",\"AARTIIND\",\"UPL\",\"ALKYLAMINE\",\"SUDARSCHEM\",\"NAVINFLUOR\",\"DEEPAKNTR\",\"FAIRCHEM\",\"DIAMINESQ\",\"MEGH\",\"SEPERATOR\",\"AVANTIFEED\",\"WATERBASE\",\"VENKEYS\",\"APEX\",\"apex\",\"SEPERATOR\",\"JKPAPER\",\"STARPAPER\",\"WSTCSTPAPR\",\"NRAIL\",\"ORIENTPPR\",\"RUCHIRA\",\"YASHPAKKA\",\"SEPERATOR\",\"DAAWAT\",\"megh\",\"EVERESTIND\",\"itdc\",\"ITDCEM\",\"rain\",\"RAIN\",\"MENONBE\",\"RICOAUTO\",\"ACE\",\"INDOAMIN\",\"TIMETECHNO\",\"PRAKASH\",\"AEGISCHEM\",\"AEGISLOG\",\"SPICEJET\",\"AVTNPL\",\"GENUSPOWER\",\"SHAKTIPUMP\",\"WELCORP\",\"DELTACORP\",\"SURYAROSNI\",\"EMMBI\",\"NITINSPIN\"],\"favSymbols2\":[\"RELIANCE\",\"HDFCBANK\",\"hdfc\",\"HDFC\",\"AXISBANK\",\"ICICIBANK\",\"KOTAKBANK\",\"CUB\",\"SBIN\",\"DCBBANK\",\"RBLBANK\",\"BANDHANBNK\",\"AUBANK\",\"INDUSINDBK\",\"YESBANK\",\"FEDERALBNK\",\"BANKBARODA\",\"SRTRANSFIN\",\"BAJFINANCE\",\"CANFINHOME\",\"CREDITACC\",\"HDFCLIFE\",\"HDFCAMC\",\"ISEC\",\"ICICIGI\",\"ICICIPRULI\",\"CHOLAFIN\",\"CHOLAHLDNG\",\"SBICARD\",\"SBILIFE\",\"PNB\",\"MFSL\",\"MASFIN\",\"MUTHOOTFIN\",\"MUTHOOTCAP\",\"CHEVIOT\",\"NAM-INDIA\",\"BAJAJFINSV\",\"BAJAJHLDNG\",\"IBULHSGFIN\",\"IBVENTURES\",\"AAVAS\",\"dlf\",\"SEPERATOR\",\"SEPERATOR\",\"DLF\",\"IBREALEST\",\"IBULISL\",\"SOBHA\",\"GODREJPROP\",\"SEPERATOR\",\"tcs\",\"SEPERATOR\",\"TCS\",\"INFY\",\"NIITTECH\",\"MASTEK\",\"MPHASIS\",\"SONATSOFTW\",\"SASKEN\",\"HEXAWARE\",\"iti\",\"ITI\",\"MINDTREE\",\"CYIENT\",\"SEPERATOR\",\"mrf\",\"SEPERATOR\",\"FRETAIL\",\"FLFL\",\"ABFRL\",\"RAYMOND\",\"TRIDENT\",\"SHOPERSTOP\",\"SEPERATOR\",\"SEPERATOR\",\"TAJGVK\",\"LEMONTREE\",\"INDHOTEL\",\"ORIENTHOT\",\"MHRIL\",\"SEPERATOR\",\"SEPERATOR\",\"GMM\",\"3MINDIA\",\"WHIRLPOOL\",\"ABBOTINDIA\",\"HONAUT\",\"NESTLEIND\",\"VBL\",\"PGHH\",\"SEPERATOR\",\"SEPERATOR\",\"PIIND\",\"SRF\",\"BALAMINES\",\"VINATIORGA\",\"FINEORG\",\"DEEPAKNTR\",\"TRANSPEK\",\"AARTIIND\",\"GUJALKALI\",\"UPL\",\"ALKYLAMINE\",\"JBCHEPHARM\",\"NAVINFLUOR\",\"SUDARSCHEM\",\"NEOGEN-BE\",\"FAIRCHEM\",\"DIAMINESQ\",\"MEGH\",\"ATUL\",\"SEPERATOR\",\"SEPERATOR\",\"LUPIN\",\"LALPATHLAB\",\"BIOCON\",\"CIPLA\",\"KOPRAN\",\"HESTERBIO\",\"ALKEM\",\"MARKSANS\",\"AUROPHARMA\",\"TORNTPHARM\",\"DRREDDY\",\"ALEMBICLTD\",\"NECLIFE\",\"ASTRAZEN\",\"GLAXO\",\"GRANULES\",\"JUBILANT\",\"METROPOLIS\",\"THYROCARE\",\"CAPLIPOINT\",\"MOREPENLAB\",\"SEPERATOR\",\"SEPERATOR\",\"KEI\",\"FINCABLES\",\"PRINCEPIPE\",\"ASTRAL\",\"FINPIPE\",\"SUPREMEIND\",\"NILKAMAL\",\"POLYCAB\",\"SEPERATOR\",\"SEPERATOR\",\"VEDL\",\"TATASTEEL\",\"TATAMETALI\",\"TINPLATE\",\"JAICORPLTD\",\"HINDZINC\",\"COALINDIA\",\"JSWSTEEL\",\"JINDALSTEL\",\"NMDC\",\"MAITHANALL\",\"NELCO-BE\",\"MOIL\",\"SEPERATOR\",\"SEPERATOR\",\"MARUTI\",\"ESCORTS\",\"MINDAIND\",\"HARITASEAT\",\"BAJAJ-AUTO\",\"M&M\",\"NRBBEARING\",\"AUTOAXLES\",\"WABCOINDIA\",\"MRF\",\"AIAENG\",\"apollo\",\"APOLLOTYRE\",\"BOSCHLTD\",\"AMARAJABAT\",\"EXIDEIND\",\"EICHERMOT\",\"ENDURANCE\",\"JAMNAAUTO\",\"JAYBARMARU\",\"SUBROS\",\"gna\",\"GNA\",\"MENONBE\",\"MOTHERSUMI\",\"SEPERATOR\",\"SEPERATOR\",\"AVANTIFEED\",\"WATERBASE\",\"VENKEYS\",\"APEX\",\"SEPERATOR\",\"SEPERATOR\",\"JKPAPER\",\"STARPAPER\",\"WSTCSTPAPR\",\"NRAIL\",\"ORIENTPPR\",\"RUCHIRA\",\"YASHPAKKA\"],\"favSymbols3\":[\"NIFTY 50\",\"NIFTY BANK\",\"nifty it\",\"INDIA VIX\",\"NIFTY IT\",\"NIFTY AUTO\",\"NIFTY PHARMA\",\"NIFTY FMCG\",\"NIFTY METAL\",\"NIFTY CONSUMPTION\",\"NIFTY NEXT 50\",\"NIFTY MIDCAP 100\",\"NIFTY SMLCAP 100\",\"SEPERATOR\",\"RELIANCE\",\"SEPERATOR\",\"NESTLEIND\",\"HINDUNILVR\",\"BRITANNIA\",\"ASIANPAINT\",\"DMART-BE\",\"INDIAMART\",\"vmart\",\"VMART\",\"3MINDIA\",\"TITAN\",\"GSKCONS\",\"PGHL\",\"PGHH\",\"ASTRAL\",\"KANSAINER\",\"ORIENTELEC\",\"BERGEPAINT\",\"GILLETTE\",\"JUBLFOOD\",\"pvr\",\"ABBOTINDIA\",\"MARICO\",\"NESCO\",\"itc\",\"ITC\",\"VSTIND\",\"GODFRYPHLP\",\"ntpc\",\"MARUTI\",\"RAYMOND\",\"SYMPHONY\",\"PAGEIND\",\"GODREJCP\",\"PVR\",\"BATAINDIA\",\"PIDILITIND\",\"PIIND\",\"HAVELLS\",\"DABUR\",\"AIAENG\",\"TTKPRESTIG\",\"VOLTAS\",\"WHIRLPOOL\",\"RELAXO\",\"BANKNIFTY20MAY19000CE\"],\"kitePerfData\":{\"INFIBEAM\":{\"color\":\"#ffffff\"},\"GRANULES\":{\"color\":\"#ffffff\"},\"RELIANCE\":{\"color\":\"#bfffff\"},\"HDFCBANK\":{\"color\":\"#bfffff\"},\"HDFC\":{\"color\":\"#bfffff\"},\"NIFTY 50\":{\"color\":\"#b6ebaf\"},\"NIFTY BANK\":{\"color\":\"#b6ebaf\"}},\"kiteBasketOrderData\":[\"NESCO\",\"ASTRAL\",\"VGUARD\",\"PHOENIXLTD\",\"JAMNAAUTO\",\"JUBLFOOD\",\"ABFRL\",\"INDUSINDBK\",\"BAJFINANCE\",\"SUPREMEIND\",\"CENTURYPLY\",\"VMART\",\"PVR\",\"TEAMLEASE\",\"RITES\",\"CARBORUNIV\",\"JMFINANCIL\",\"VIPIND\",\"INDHOTEL\",\"SHOPERSTOP\",\"UPL\",\"TIINDIA\",\"ASIANPAINT\",\"AIAENG\",\"ITC\",\"NIITTECH\",\"BHARATFORG\",\"APLAPOLLO\",\"MOTHERSUMI\",\"CHOLAFIN\",\"CUB\",\"ICICIBANK\",\"AXISBANK\",\"NAUKRI\",\"MINDAIND\",\"TRENT\",\"GODFRYPHLP\",\"ESCORTS\",\"ATUL\",\"ALKYLAMINE\",\"SRF\",\"VBL\",\"DLF\",\"KOTAKBANK\",\"SBICARD\",\"JINDALSTEL\",\"CCL\",\"INDIAMART\"]}\"\n\n    let favSymbols = localStorage.getItem(\"kite_favSymbols\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols\")):[];\n    let favSymbols1 = localStorage.getItem(\"kite_favSymbols1\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols1\")):[];\n    let favSymbols2 = localStorage.getItem(\"kite_favSymbols2\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols2\")):[];\n    let favSymbols3 = localStorage.getItem(\"kite_favSymbols3\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols3\")):[];\n\n    let kitePerfData = localStorage.getItem(\"kitePerfData.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kitePerfData.json\")):[];\n\n    let kiteBasketOrderData = localStorage.getItem(\"kiteBasketOrderData.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteBasketOrderData.json\")):[];\n\n    this.kiteOldPriceData = localStorage.getItem(\"kiteOldChanges.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteOldChanges.json\")):[];\n    let resultCalenderData = localStorage.getItem(\"kite_resultCalender\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_resultCalender\")):[];\n\n    this.state={isShowEditor:false,isShowResults:false,isShowMIS:false,isShowNotification:true,isShowGL:true,favSymbols:favSymbols,favSymbols1:favSymbols1,favSymbols2:favSymbols2,favSymbols3:favSymbols3,kitePerfData:kitePerfData,kiteBasketOrderData:kiteBasketOrderData,symbolSelector:{cursor:undefined,isAdd:true,isShow:false},isLoadOldPrice:false,resultCalenderData:resultCalenderData};\n\n    this.alertMap ={};\n\n    this.indexSymbols=['NIFTY 50','NIFTY BANK','INDIA VIX','NIFTY IT','NIFTY AUTO','NIFTY PHARMA','NIFTY FMCG','NIFTY METAL','NIFTY CONSUMPTION','NIFTY PSU BANK','NIFTY PVT BANK','NIFTY REALTY','NIFTY INFRA','NIFTY ENERGY','NIFTY NEXT 50','NIFTY MIDCAP 100','NIFTY SMLCAP 100'];\n\n  }\n\n\n\n\nremoveOldAlerts=()=>{\n  let filtered = Object.keys(this.alertMap).filter(  function(key) { \n\n    return (Date.now() - this.alertMap[key].time) < 500000 \n\n  }.bind(this) );\n\n  //console.info(filtered.length);\n\n  this.alertMap = filtered.reduce(function(obj, key) {\n    obj[key] = this.alertMap[key];\n    return obj;\n  }.bind(this), {});\n\n}\n\n\nshowToast=(content,symbol)=>{\n    if(this.alertMap[symbol] == undefined){\n      if(this.state.isShowNotification){\n        toaster.notify(content, {\n          position: \"bottom-left\", // top-left, top, top-right, bottom-left, bottom, bottom-right\n          duration: 60000 // This notification will not automatically close\n        });\n      }\n      this.alertMap[symbol]={time:Date.now()};\n    }\n}\n\n\n\nupdateMarginData=()=>{\n  getMargin(this.onMarginSuccess,this.onMarginError);\n}\n\nonMarginSuccess=(data)=>{\n  this.setState({margin:data}); \n}\nonMarginError=()=>{\n}\n\n\nshowBasketOrderDialog=()=>{\n  this.setState({isShowBasketOrderDialog:true});\n  if(this.basketOrderDialogRef){\n    this.basketOrderDialogRef.showDialog();\n  }\n}\n\nhideBasketOrderDialog=()=>{\n  this.setState({isShowBasketOrderDialog:undefined});\n}\n\n\n\n\nshowHoldingOrderDialog=()=>{\n  this.setState({isShowHoldingOrderDialog:true});\n  if(this.holdingOrderDialogRef){\n    this.holdingOrderDialogRef.showDialog();\n  }\n}\n\nhideHoldingOrderDialog=()=>{\n  this.setState({isShowHoldingOrderDialog:undefined});\n}\n\n\n\nhideStokInfo=()=>{\n  this.setState({stockInfo:undefined});\n}\n\n\nhideFundamentalsDialog=()=>{\n  this.setState({showFundamental:undefined});\n}\n\nshowFundamentalsDialog=(symbol)=>{\n  this.setState({showFundamental:symbol});\n}\n\n\nescFunction=(event)=>{\n    if(event.keyCode === 27) {\n      this.hideStokInfo();\n      this.hideBasketOrderDialog();\n      this.hideFundamentalsDialog();\n      this.hideHoldingOrderDialog();\n    }\n}\n\n\n\ncomponentDidMount() {\n  this.fetchAllKiteSymbolsList();\n  \n  this.resCalenderTimout=setTimeout(this.fetchRecentCalenderCSVFile,5000);\n\n  this.marketQuoteTimeout=setTimeout(this.fetchMarketQuote,5000);\n\n  this.updateMarginData();\n  this.refreshData();\n  this.interval = setInterval(this.refreshData, 1200);\n  this.alertInterval =  setInterval(this.removeOldAlerts,3000);\n  document.addEventListener(\"keyup\", this.escFunction, false);\n}\n\n  componentWillUnmount(){\n    document.removeEventListener(\"keyup\", this.escFunction, false);\n    clearInterval( this.interval );\n    clearInterval( this.alertInterval );\n    clearTimeout( this.resCalenderTimout);\n    clearTimeout( this.fetchMarketQuote);\n  }\n\n\n refreshData =()=>{\n\n      fetch(this.domain+'kiteticks.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n\n         if(this.state.isLoadOldPrice){\n              this.kitedata = this.kiteOldPriceData\n         } else{\n            this.kitedata = jsonData;\n         }\n         \n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n      fetch(this.domain+'changes.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.investingdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n      fetch(this.domain+'positions.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.positionsdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n      fetch(this.domain+'holdings.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.holdingsdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n       this.setState({kitedata:this.kitedata,investingdata:this.investingdata,positionsdata:this.positionsdata,holdingsdata:this.holdingsdata,kiteAllSymbols:this.kiteAllSymbols});\n\n }\n\n\n\n onFetchMarketQuoteSuccess=(data)=>{\n   if(this.quoteData){\n      let keys = Object.keys(data.data);\n      for(let i=0;i<keys.length;i++){\n        this.quoteData[keys[i]]=data.data[keys[i]];\n      }\n   }else{\n      this.quoteData=data.data;\n   }\n }\n\n \n onFetchMarketQuoteError=(data)=>{\n  window.alert('Error to fetch Market Quotes');\n }\n\n fetchMarketQuote=()=>{\n  if(this.kitedata){\n      let ticks = this.kitedata.ticks;\n      let keys = Object.keys(ticks);\n      let queryString = '';\n      for(let i=0;i<keys.length;i++){\n        queryString += ('i='+ ticks[keys[i]].exchange +\":\" + ticks[keys[i]].tradingsymbol +'&');\n        if(i==499 || i==keys.length-1){\n          getFullQuote(queryString,this.onFetchMarketQuoteSuccess,this.onFetchMarketQuoteError);\n          queryString='';\n        }        \n      }      \n  }else{\n    window.alert('Unable to fetch Market Quotes');\n  }\n }\n\n  fetchAllKiteSymbolsList=()=>{\n      fetch(this.domain+'kiteAllSymbols.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.kiteAllSymbols = jsonData;\n         this.setState({kiteAllSymbols:this.kiteAllSymbols});\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n  }\n\n  fetchRecentCalenderCSVFile=()=>{\n      fetch(this.domain+'output/result-calendar.csv?v='+(new Date().getTime()))\n        .then(response => response.text())\n        .then(function(textData){\n          if(this.kitedata == undefined || this.holdingsdata == undefined){\n            window.alert('Upcoming results not loaded');\n            return;\n          }\n\n          let holdingMap = {};\n          for(let i=0;i<this.holdingsdata.data.length;i++){\n            holdingMap[this.holdingsdata.data[i].tradingsymbol]=true;\n          }\n\n\n         let rows = textData.split(\"\\n\") ;\n/*         \n         let todayDate = new Date();          \n         if(todayDate.getDay() == 6 || todayDate.getDay() == 0){\n           todayDate.setDate(todayDate.getDate()-3);\n         }else{\n           todayDate.setDate(todayDate.getDate()-1);\n         }\n*/\n         let recentResultCalender={};\n         for(let i=0;i<rows.length;i++){\n            if(rows[i].trim().length > 0){\n              let symbol =rows[i].trim().split(',')[0].toUpperCase();\n              let date = rows[i].trim().split(',')[1];\n              if(this.kitedata.ticks[symbol] !=undefined){\n                let rowDate = new Date(rows[i].trim().split(',')[1]);\n                //if(rowDate >= todayDate){\n                  if(recentResultCalender[date] ==undefined){\n                    recentResultCalender[date]=[];\n                  }\n                  recentResultCalender[date].push({symbol:symbol,date:new Date(date).toDateString(),inHolding:holdingMap[symbol]});\n              //  }\n              }\n            }\n         }\n         this.setState({recentResultCalender:recentResultCalender});\n\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n  }\n\n\n \n  saveCurrentPrice=()=>{\n    localStorage.setItem(\"kiteOldChanges.json\", JSON.stringify(this.kitedata));   \n  }\n\n\n onTableRowclick=(data,tableId)=>{\n    let symbolSelector = this.state.symbolSelector; \n    if(symbolSelector.isShow && [0,1,2,3,'MIS','RES'].includes(tableId) ){\n      symbolSelector.cursor=data;\n      document.getElementById(\"portfolioInput\").value=tableId;\n    }\n    this.setState({stockInfo:{symbol:data,tableId:tableId},symbolSelector:symbolSelector});\n }\n\n\n\n onSelectorInput=(evt)=>{\n    let val = document.getElementById(\"inputSymbol\").value;    \n    \n\n    let tempMatch = this.state.kiteAllSymbols.allSymbols.filter(function(item){ return item.tradingsymbol.toUpperCase()==val.toUpperCase()});\n    if(tempMatch.length >0 || val.toUpperCase()=='SEPERATOR'){\n        let portfolioId = document.getElementById(\"portfolioInput\").value;\n        let isAdd = this.state.symbolSelector.isAdd;\n\n        if(['0','1','2','3','MIS','RES'].includes(portfolioId) ){\n          if(isAdd){\n            this.addToFavList(val,portfolioId);            \n          }else{\n            this.removeFromFavList(val,portfolioId);           \n          }         \n        }\n        document.getElementById(\"inputSymbol\").select();\n    }\n }\n\n\n\n  getFavSymbols=(listId)=>{\n    switch(listId){\n      case \"0\": return this.state.favSymbols;\n      case \"1\": return this.state.favSymbols1;\n      case \"2\": return this.state.favSymbols2;\n      case \"3\": return this.state.favSymbols3;\n      case \"MIS\": return this.state.kiteBasketOrderData;  //MIS\n      case \"RES\": return this.state.resultCalenderData;  //MIS\n      default:break;    \n    }\n  }\n\n  setFavSymbols=(listId,tempSymbols)=>{\n    switch(listId){\n      case \"0\":  this.setState({favSymbols:tempSymbols});localStorage.setItem(\"kite_favSymbols\", JSON.stringify(tempSymbols)); break;    \n      case \"1\":  this.setState({favSymbols1:tempSymbols});  localStorage.setItem(\"kite_favSymbols1\", JSON.stringify(tempSymbols)); break;\n      case \"2\":  this.setState({favSymbols2:tempSymbols});localStorage.setItem(\"kite_favSymbols2\", JSON.stringify(tempSymbols)); break;\n      case \"3\":  this.setState({favSymbols3:tempSymbols});localStorage.setItem(\"kite_favSymbols3\", JSON.stringify(tempSymbols)); break;\n      case \"MIS\": this.setState({kiteBasketOrderData:tempSymbols});localStorage.setItem(\"kiteBasketOrderData.json\", JSON.stringify(tempSymbols));break;\n      case \"RES\": this.setState({resultCalenderData:tempSymbols});localStorage.setItem(\"kite_resultCalender\", JSON.stringify(tempSymbols));break;\n      default: break;  \n    }\n  }\n\n\n\n  addToFavList=(data,listId)=>{\n\n    listId = listId==undefined?\"\":listId+\"\";\n    let tempSymbols = this.getFavSymbols(listId);    \n\n    if(data != 'SEPERATOR'){\n      tempSymbols = tempSymbols.filter(function(value, index){\n        return value != data;\n      });   \n    }\n\n    if(data == 'SEPERATOR' || this.state.kitedata.ticks[data]){\n      let cursorRowId = this.state.symbolSelector.cursor?this.state.symbolSelector.cursor:'';  \n      let indertPos = tempSymbols.indexOf(cursorRowId);\n      if(indertPos >= 0){\n        tempSymbols.splice(indertPos, 0, data);\n      }else{\n        tempSymbols.unshift(data);\n      }\n\n      this.setFavSymbols(listId,tempSymbols);       \n    }\n\n    if(data != 'SEPERATOR' && !this.state.kitedata.ticks[data]){\n      console.error(data);\n    }\n\n  }\n\n\n  removeFromFavList=(data,listId)=>{\n    listId = listId==undefined?\"\":listId+\"\";\n    let tempSymbols = this.getFavSymbols(listId);\n    \n    if(data != 'SEPERATOR'){\n      tempSymbols = tempSymbols.filter(function(value, index){\n        return value != data;\n      });\n    }else{\n      let cursorRowId = this.state.symbolSelector.cursor?this.state.symbolSelector.cursor:'';  \n      let deletePos = tempSymbols.indexOf(cursorRowId);\n      tempSymbols.splice(deletePos+1,1)\n      \n    }     \n    this.setFavSymbols(listId,tempSymbols);\n  }\n\n\n\n  updateKitePerfData=(tradingSymbol,porpKey,propValue)=>{\n\n    const{\n      kitePerfData\n    }=this.state;\n\n    if( kitePerfData[tradingSymbol] == undefined){\n       kitePerfData[tradingSymbol] = {};\n    }\n    kitePerfData[tradingSymbol][porpKey]=propValue;\n    localStorage.setItem(\"kitePerfData.json\", JSON.stringify(kitePerfData));\n\n    this.setState({kitePerfData:kitePerfData});\n  }\n\n\n  bringElementInView(selector){\n      if(document.querySelectorAll(selector) && document.querySelectorAll(selector)[0]){\n        document.querySelectorAll(selector)[0].scrollIntoView();  \n      }      \n  }\n\n\n handleChange=(content, delta, source, editor) =>{\n      localStorage.setItem('editorText',editor.getHTML());\n  }\n\n  render() {\n\n    const{\n      kitedata,\n      investingdata,\n      positionsdata,\n      holdingsdata,\n      favSymbols,\n      favSymbols1,\n      favSymbols2,\n      favSymbols3,\n      kitePerfData,\n      stockInfo,\n      isShowBasketOrderDialog,\n      isShowHoldingOrderDialog,\n      kiteBasketOrderData,\n      symbolSelector,\n      kiteAllSymbols,\n      showFundamental,\n      resultCalenderData,\n      margin,\n      isShowGL,\n      isShowMIS,\n      isShowResults,\n      recentResultCalender,\n      isShowEditor\n    }=this.state;\n\n\n\n\n    let gainers=[];\n    let loosers=[];\n\n\n    if(kitedata){\n      let tempSortedTicks = Object.keys(kitedata.ticks);\n      let sortedTicks = [];\n      for(let i=0;i<tempSortedTicks.length;i++){\n        if(kitedata.ticks[tempSortedTicks[i]].exchange == 'NFO') continue;\n        sortedTicks.push(tempSortedTicks[i]);\n      }  \n\n      if(isShowGL){\n        sortedTicks.sort(function(t1, t2){return kitedata.ticks[t2].change - kitedata.ticks[t1].change});\n        for (let i = 0; i < sortedTicks.length; i++) {\n            if(kitedata.ticks[sortedTicks[i]].change < 2)break;\n            gainers.push(sortedTicks[i]);\n        }\n\n        for (let i = sortedTicks.length-1; i >= 0; i--) {\n            if(kitedata.ticks[sortedTicks[i]].change > -2)break;\n              loosers.push(sortedTicks[i]);\n        }\n      }else{\n\n        sortedTicks.sort(function(t1, t2){\n          let v1 = (kitedata.ticks[t1].highPrice - kitedata.ticks[t1].lastTradedPrice)*100/kitedata.ticks[t1].highPrice;\n          let v2 = (kitedata.ticks[t2].highPrice - kitedata.ticks[t2].lastTradedPrice)*100/kitedata.ticks[t2].highPrice;\n          return v1 - v2;\n        });\n        for (let i = 0; i < sortedTicks.length; i++) {\n            let down = (kitedata.ticks[sortedTicks[i]].highPrice - kitedata.ticks[sortedTicks[i]].lastTradedPrice)*100/kitedata.ticks[sortedTicks[i]].highPrice;\n            if(down > 6)break;\n            gainers.push(sortedTicks[i]);\n        }\n\n        sortedTicks.sort(function(t1, t2){\n          let v1 = (kitedata.ticks[t1].lastTradedPrice - kitedata.ticks[t1].lowPrice)*100/kitedata.ticks[t1].lowPrice;\n          let v2 = (kitedata.ticks[t2].lastTradedPrice - kitedata.ticks[t2].lowPrice)*100/kitedata.ticks[t2].lowPrice;\n          return v1 - v2;\n        });\n         for (let i = 0; i < sortedTicks.length; i++) {\n            let up = (kitedata.ticks[sortedTicks[i]].lastTradedPrice - kitedata.ticks[sortedTicks[i]].lowPrice)*100/kitedata.ticks[sortedTicks[i]].lowPrice;\n            if(up > 6)break;\n            loosers.push(sortedTicks[i]);\n        }\n\n\n      }\n\n\n\n\n\n    }\n\n\n\n\n  let feedStatusStyle ={};\n  if(kitedata && investingdata ){\n        let servTime = investingdata.time;\n        let kiteTime = kitedata.time;\n        let date = new Date();\n        let clientTime = date.getHours()*60+date.getMinutes()\n        if(Math.abs(clientTime - servTime) > 5 || Math.abs(clientTime - kiteTime) > 5){\n          feedStatusStyle.display = \"block\";\n        }else{\n          feedStatusStyle.display = \"none\"\n        }\n  }\n\n\n\n\n    return (\n\n      <div>\n        <div style={feedStatusStyle} className='feed-status'></div>\n\n        {kitedata && <div className='tableContainer holding'><HoldingList  margin={margin} onTableRowclick={this.onTableRowclick} positionsdata={positionsdata} holdingsdata={holdingsdata}/></div>}\n\n        {kitedata && \n          <div className='indexColumn'>\n            <div className='tableContainer niftyIndex'><WatchList  showToast={this.showToast} onTableRowclick={this.onTableRowclick}  kitePerfData={kitePerfData}  kitedata={kitedata} symbolList={this.indexSymbols}/></div>  \n            <div className='tableContainer index'><GlobalindexList  investingdata={investingdata} /></div>\n            <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={3}   onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols3}/></div>\n          </div>\n        }\n\n        {kitedata && <div className='tableContainer loser'><WatchList showToast={this.showToast} onTableRowclick={this.onTableRowclick} kitedata={kitedata} symbolList={loosers}/></div>}\n        {kitedata && <div className='tableContainer gainers'><WatchList   showToast={this.showToast} onTableRowclick= {this.onTableRowclick} kitedata={kitedata} symbolList={gainers}/></div>}\n       \n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={0} onTableRowclick={this.onTableRowclick}  kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  recentResultCalender={recentResultCalender} resultCalenderData={isShowResults?resultCalenderData:undefined}  kiteBasketOrderData={isShowMIS?kiteBasketOrderData:undefined}  showToast={this.showToast} tableId={1}  onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols1}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={2}   onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols2}/></div>}\n\n\n        {stockInfo && <StockInfo quoteData={this.quoteData} updateMarginData={this.updateMarginData} showFundamentalsDialog={this.showFundamentalsDialog} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList} hideStokInfo={this.hideStokInfo} stockInfo={stockInfo} updateKitePerfData={this.updateKitePerfData} kitePerfData={kitePerfData} kitedata={kitedata}/> }\n\n        { isShowBasketOrderDialog && <BasketOrderDialog updateMarginData={this.updateMarginData} ref={(ref) => this.basketOrderDialogRef = ref} positionsdata={positionsdata} onTableRowclick={this.onTableRowclick} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList} kiteBasketOrderData={kiteBasketOrderData} hideBasketOrderDialog={this.hideBasketOrderDialog} kitedata={kitedata} /> }\n\n        { isShowHoldingOrderDialog && <HoldingOrderDialog updateMarginData={this.updateMarginData} ref={(ref) => this.holdingOrderDialogRef = ref} positionsdata={positionsdata} holdingsdata={holdingsdata} onTableRowclick={this.onTableRowclick} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList}  hideHoldingOrderDialog={this.hideHoldingOrderDialog} kitedata={kitedata} /> }\n\n\n        <CurrentTime />\n       \n\n\n        {showFundamental && <FundamentalsDialog symbol={showFundamental} hideFundamentalsDialog={this.hideFundamentalsDialog} kitedata={kitedata} /> }\n\n        { isShowEditor && <ReactQuill  theme=\"snow\" defaultValue={localStorage.getItem('editorText')} onChange={this.handleChange} /> }\n\n        <div className='tool-bar' >\n\n\n          <button type=\"button\"  onClick={this.saveCurrentPrice}>SAVE</button> \n          <button type=\"button\"  style={{backgroundColor:(this.state.isLoadOldPrice?'red':'initial')}} onClick={(evt)=>{ this.kiteOldPriceData = localStorage.getItem(\"kiteOldChanges.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteOldChanges.json\")):[]; this.setState({isLoadOldPrice:!this.state.isLoadOldPrice});} } >{!this.state.isLoadOldPrice?'OLD':'NEW'}</button> \n          <br/>\n          <button type=\"button\" className=\"fontBold\" onClick={this.showBasketOrderDialog}>MIS</button>    \n          <Search kitedata={kitedata} onTableRowclick={this.onTableRowclick}/>\n          <button type=\"button\"  onClick={(evt)=>{symbolSelector.isShow = !symbolSelector.isShow ; this.setState({symbolSelector:symbolSelector});}} >{symbolSelector.isShow?<IoMdRemove className=\"appicon\"/>:<IoMdAddCircle className=\"appicon\"/>}</button>\n\n          <button type=\"button\" style={{backgroundColor:(!this.state.isShowNotification?'red':'initial')}} onClick={(evt)=>{ showNotification(!this.state.isShowNotification); this.setState({isShowNotification:!this.state.isShowNotification}); } } >{this.state.isShowNotification?<IoMdNotifications className=\"appicon\"/>:<IoMdNotificationsOff className=\"appicon\"/>}</button> \n\n\n        <div className=\"dropdown\">\n          <button className=\"dropbtn\">SEC</button>\n          <div className=\"dropdown-content secFilter\" >\n\n            <a style={{backgroundColor:(isShowMIS?'green':'red')}} onClick={(evt)=>{ this.setState({isShowMIS:!isShowMIS}); if(!isShowMIS) setTimeout(this.bringElementInView,500,\"tr[rowid='MIS-MISSCRIPTS']\") }}>MIS</a>\n            <a style={{backgroundColor:(isShowResults?'green':'red')}} onClick={(evt)=>{ this.setState({isShowResults:!isShowResults}); if(!isShowResults) setTimeout(this.bringElementInView,500,\"tr[rowid='RES-RESCALENDER']\")}}>Result</a>\n            <a ></a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HDFCBANK']\")}}>Bank</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HINDUNILVR']\")}}>Fmcg</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-TCS']\")}}>IT</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-MARUTI']\")}}>Auto</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-AARTIIND']\")}}>Chemical</a>          \n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-DLF']\")}}>Real state</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-FRETAIL']\")}}>Retail</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-TAJGVK']\")}}>Hotel</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-GMM']\")}}>MNC</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-LUPIN']\")}}>Pharma</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-RADICO']\")}}>Alcohol</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-KEI']\")}}>Cable</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-VEDL']\")}}>Metal</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HINDPETRO']\")}}>Oil</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-AVANTIFEED']\")}}>Food</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-JKPAPER']\")}}>Paper</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-ULTRACEMCO']\")}}>Cement</a>\n          </div>\n        </div>\n\n\n        <button style={{backgroundColor:(!isShowGL?'red':'initial')}} type=\"button\" onClick={(evt)=>{ this.setState({isShowGL:!this.state.isShowGL});} }>{isShowGL?'N-HL':'GL'}</button>    \n\n        <button type=\"button\" onClick={(evt)=>{this.setState({isShowEditor:!isShowEditor});}}><IoIosCreate className=\"appicon\"/></button>\n\n        <button type=\"button\" onClick={this.showHoldingOrderDialog}>HOLD</button>\n\n        \n         \n        \n\n        </div>\n\n\n\n{\n  symbolSelector.isShow && kiteAllSymbols &&\n      <div className=\"symbolSelector\">\n      \n        <button className=\"addRemove\" style={{backgroundColor:symbolSelector.isAdd?'green':'red'}} onClick={(evt)=>{symbolSelector.isAdd = !symbolSelector.isAdd ; this.setState({symbolSelector:symbolSelector});}} type=\"button\">{symbolSelector.isAdd?<IoIosAdd className=\"appicon\"/>:<IoMdTrash className=\"appicon\"/>}</button>\n          \n          <input type='text'  onInput={this.onSelectorInput} id='inputSymbol' list='inputdlist'></input>\n          <datalist id='inputdlist'>\n\n           { kiteAllSymbols.allSymbols.map((item,i)=> \n            { \n\n               if(item.exchange == 'NFO'){\n                if(item.name == 'NIFTY' || item.name == 'BANKNIFTY'){\n                  if(item.segment=='NFO-OPT'){\n                    let textName = item.name + \" \" + item.expiry.split(' ')[0] + \" \" + item.strike +\" \"+item.instrument_type +\" | \" + item.expiry.split(' ')[1] +\" \" + item.expiry.split(' ')[2];\n                     return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{textName}</option>);            \n                  }else if(item.segment=='NFO-FUT'){\n                    let textName = item.name + \" \" + item.expiry.split(' ')[0] + \" \" + item.expiry.split(' ')[1] +\" \"+item.instrument_type;\n                     return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{textName}</option>);            \n                  }\n                }                 \n              }else{\n                 return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{item.name}</option>);  \n              }\n\n            })}\n\n            <option key='SEPERATOR' value=\"SEPERATOR\">SEPERATOR</option>\n          </datalist> \n          \n          <input type='text'  id='portfolioInput' list='portfolioList' ></input>\n          <datalist id='portfolioList'>\n            <option value={0}>0</option>\n            <option value={1}>1</option>\n            <option value={2}>2</option>\n            <option value={3}>3</option>\n            <option value={'MIS'}>MIS</option> \n            <option value={'RES'}>RES</option>     \n          </datalist>   \n          \n          <label className=\"cursor\">{symbolSelector.cursor}</label> \n        \n      </div>\n\n}\n\n\n\n      </div>\n\n\n    )\n  }\n\n}\n\n\nexport default App;\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}