{"version":3,"sources":["WatchList.js","GlobalindexList.js","HoldingList.js","OrderUtil.js","OrderWindow.js","StockInfo.js","BasketOrderDialog.js","Fundamentals.js","CurrentTime.js","Search.js","App.js","index.js"],"names":["WatchList","props","this","kitedata","symbolList","kitePerfData","onTableRowclick","tableId","showToast","resultCalenderData","kiteBasketOrderData","tempSymbols","filter","symbol","undefined","ticks","map","index","key","Fragment","rowId","colSpan","style","textAlign","fontWeight","React","Component","WatchListRow","openStockInfo","prevProps","change","onClick","className","lastTradedPrice","toFixed","isSeperator","changeClass","prefStyle","backgroundColor","color","name","GlobalindexList","investingdata","data","startsWith","HoldingList","positionsdata","holdingsdata","margin","totalHoldQty","totalPositionAddQty","totalPositionSellQty","dayPNLMIS","dayPNLCNC","dayPNL","tvalue","misTvalue","cncTvalue","i","length","hobj","quantity","t1_quantity","net","pobj","product","pnl","value","sort","a","b","day_change_percentage","PL","currentValue","totalInvestment","last_price","average_price","plClass","Math","round","document","title","equity","tradingsymbol","PositionWatchListRow","dayChangeClass","position","profit","fillCNCLimitOrderDetails","order_type","validity","disclosed_quantity","trigger_price","squareoff","stoploss","trailing_stoploss","variety","user_id","fillMISLimitOrderDetails","fillMISMarketOrderDetails","fillMISSLMarketOrderDetails","showToastMsg","content","toaster","notify","duration","placeOrder","onSuccess","onErrror","formattedVals","prop","push","body","join","transaction_type","fetch","method","headers","window","authKey","then","response","json","jsonData","console","info","status","order_id","message","catch","error","OrderWindow","fillInputWithLatestPrice","depth","setState","orderStatus","exchange","orderStatusStyle","buyQuantity","buyPrice","buy","price","sellQuantity","sellPrice","sell","setFocusonOrderWindow","setTimeout","textInputBuyQty","select","textInputSellQty","updaetOrderStatus","onInputValueChange","evt","state","target","toogleBuyView","orderWindowView","buyView","localStorage","setItem","JSON","stringify","toogleSellView","sellView","onOrderSuccess","updateMarginData","onOrderError","sendBuyOrderRequest","sendSellOrderRequest","getItem","parse","type","onKeyUp","event","keyCode","for","ref","elem","onInput","step","min","max","StockInfo","onColorInput","stockInfo","updateKitePerfData","fetchHistoricalData","ticker","fromdate","Date","setDate","getDate","token","toISOString","split","hCandles","candles","bind","d1","d2","d3","w1","w2","m1","m6","y1","y2","y3","y4","y5","hideStokInfo","addToFavList","removeFromFavList","showFundamentalsDialog","totalTick","close","Number","parseInt","onDoubleClick","cursor","textDecoration","rel","lowPrice","highPrice","openPrice","closePrice","volumeTradedToday","totalBuyQuantity","totalSellQuantity","BasketOrderDialog","onPositionSuccess","onPositionError","fetchPositionData","updateOrderStatus","showDialog","isHideDialog","placeBuyOrderForselectedRow","confirm","Object","keys","rowfRefs","rowRef","isCheckBoxChecked","placeSellOrderForselectedRow","onSQOFFClick","perc","prompt","totalValue","isNaN","fillQtyValueOnSqOffClick","onTpriceClick","fillPriceValueOnTpriceClick","fillQtyForValue","onSymbolSelect","element","querySelectorAll","scrollIntoView","classList","remove","add","onOnderTypeChange","orderType","interval","setInterval","clearInterval","hideBasketOrderDialog","isSortPosition","positionMap","id","display","width","ele","checked","onChange","marginLeft","BasketListRow","isRowEnable","orderValue","abs","markCheckBox","priceChange","enable","getOrderValue","placeMISBuyLimitOrder","placeMISBuySLMarketOrder","placeMISSellLimitOrder","placeMISSellSLMarketOrder","checkboxstyle","borderLeft","height","autoComplete","Fundamentals","hideFundamentalsDialog","hrefGraph","hrefFunda","src","endsWith","replace","CurrentTime","checkTime","startTime","today","h","getHours","m","getMinutes","s","getSeconds","timeInterval","currentTime","Search","searchValue","rowMap","toUpperCase","matchs","attributes","rowid","list","searchInput","App","removeOldAlerts","filtered","alertMap","now","time","reduce","obj","isShowNotification","onMarginSuccess","onMarginError","showBasketOrderDialog","isShowBasketOrderDialog","basketOrderDialogRef","showFundamental","escFunction","refreshData","domain","getTime","isLoadOldPrice","kiteOldPriceData","kiteAllSymbols","fetchAllKiteSymbolsList","saveCurrentPrice","symbolSelector","isShow","includes","getElementById","onSelectorInput","val","allSymbols","item","portfolioId","isAdd","getFavSymbols","listId","favSymbols","favSymbols1","favSymbols2","favSymbols3","setFavSymbols","cursorRowId","indertPos","indexOf","splice","unshift","deletePos","tradingSymbol","porpKey","propValue","isShowGL","alertInterval","addEventListener","removeEventListener","selector","gainers","loosers","tempSortedTicks","sortedTicks","t1","t2","feedStatusStyle","servTime","kiteTime","date","clientTime","bringElementInView","segment","textName","expiry","strike","instrument_type","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f27b1a91.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass WatchList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbolList,\r\n      kitePerfData,\r\n      onTableRowclick,\r\n      tableId,\r\n      showToast,\r\n      resultCalenderData,\r\n      kiteBasketOrderData\r\n    }=this.props;\r\n\r\n    let tempSymbols=[];\r\n    if(kitedata){\r\n       tempSymbols = symbolList.filter(function(symbol){ return (symbol == 'SEPERATOR' || kitedata.ticks[symbol]!=undefined) });\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n                <th>LTP</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { tempSymbols.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={tableId} onTableRowclick={onTableRowclick} key={symbol+index} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n            \r\n            { resultCalenderData && <React.Fragment >\r\n               <tr></tr>\r\n               <tr></tr>\r\n               <tr rowId={\"RES-RESCALENDER\"}><td colSpan=\"3\" style={{textAlign:'center',fontWeight:'bold'}}>RES CALENDER</td></tr> \r\n               { resultCalenderData.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={'RES'} onTableRowclick={onTableRowclick} key={'RES-'+index+symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n             </React.Fragment>}\r\n\r\n\r\n\r\n            { kiteBasketOrderData && <React.Fragment >\r\n               <tr></tr>\r\n               <tr></tr>\r\n               <tr rowId={\"MIS-MISSCRIPTS\"} ><td colSpan=\"3\" style={{textAlign:'center',fontWeight:'bold'}}>MIS SCRIPTS</td></tr> \r\n               { kiteBasketOrderData.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={'MIS'} onTableRowclick={onTableRowclick} key={'MIS-'+index+symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n             </React.Fragment>}\r\n\r\n\r\n\r\n\r\n            </tbody>\r\n\r\n\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default WatchList;\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let symbol = this.props.symbol;\r\n     if (symbol!= 'SEPERATOR' && prevProps.symbol == symbol ) {\r\n       if(prevProps.kitedata.ticks[symbol].change < 3 && this.props.kitedata.ticks[symbol].change > 3\r\n        || prevProps.kitedata.ticks[symbol].change < 5 && this.props.kitedata.ticks[symbol].change > 5\r\n        || prevProps.kitedata.ticks[symbol].change < 8 && this.props.kitedata.ticks[symbol].change > 8\r\n        || prevProps.kitedata.ticks[symbol].change < 9.5 && this.props.kitedata.ticks[symbol].change > 9.5\r\n        || prevProps.kitedata.ticks[symbol].change < 13 && this.props.kitedata.ticks[symbol].change > 13\r\n        || prevProps.kitedata.ticks[symbol].change < 15 && this.props.kitedata.ticks[symbol].change > 15\r\n        ){\r\n\r\n        this.props.showToast(<div onClick={this.openStockInfo} className='green'>{this.props.symbol +\"  ->  \" + (this.props.kitedata.ticks[symbol].lastTradedPrice)}&nbsp;(<span>{(this.props.kitedata.ticks[symbol].change).toFixed(2)}</span>%)</div>,this.props.symbol);\r\n\r\n       }\r\n\r\n\r\n       if(prevProps.kitedata.ticks[symbol].change > -3 && this.props.kitedata.ticks[symbol].change < -3\r\n        || prevProps.kitedata.ticks[symbol].change > -5 && this.props.kitedata.ticks[symbol].change < -5\r\n        || prevProps.kitedata.ticks[symbol].change > -8 && this.props.kitedata.ticks[symbol].change < -8\r\n        || prevProps.kitedata.ticks[symbol].change > -9.5 && this.props.kitedata.ticks[symbol].change < -9.5\r\n        || prevProps.kitedata.ticks[symbol].change > -13 && this.props.kitedata.ticks[symbol].change < -13\r\n        || prevProps.kitedata.ticks[symbol].change > -15 && this.props.kitedata.ticks[symbol].change < -15\r\n        ){\r\n\r\n        this.props.showToast(<div onClick={this.openStockInfo} className='red'>{this.props.symbol +\"  ->  \" + (this.props.kitedata.ticks[symbol].lastTradedPrice)}&nbsp;(<span>{(this.props.kitedata.ticks[symbol].change).toFixed(2)}</span>%)</div>,this.props.symbol);\r\n\r\n       }\r\n\r\n\r\n     }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol,this.props.tableId);\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      kitePerfData,\r\n      onTableRowclick,\r\n      tableId\r\n    }=this.props;\r\n\r\n    let isSeperator = (symbol =='SEPERATOR')?true:false;\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n    \r\n    let prefStyle = {};\r\n    if(kitePerfData && kitePerfData[symbol]){\r\n      prefStyle.backgroundColor=kitePerfData[symbol].color;\r\n    }\r\n\r\n\r\n    return (\r\n      <tr onClick={this.openStockInfo} rowId={tableId?(tableId+\"-\"+symbol):symbol}>\r\n        {!isSeperator &&   <td style={prefStyle}>{kitedata.ticks[symbol].name}</td> }\r\n        {!isSeperator &&   <td className={changeClass} >{(kitedata.ticks[symbol].change).toFixed(2)}</td> }\r\n        {!isSeperator &&   <td>{kitedata.ticks[symbol].lastTradedPrice}</td> }              \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass GlobalindexList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      investingdata\r\n    }=this.props;\r\n\r\n     \r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { investingdata.index.map((data,index)=> <WatchListRow key={data[0]+index} investingdata={investingdata} data={data} />)}\r\n             \r\n            </tbody>\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default GlobalindexList;\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      data\r\n    }=this.props;\r\n\r\n\r\n    let changeClass =data[13].startsWith(\"-\") ?'red':'green';\r\n    \r\n      return (\r\n        <tr>\r\n          <td>{data[0]}</td> \r\n          <td className={changeClass} >{data[13]}</td>            \r\n         </tr>\r\n      );\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass HoldingList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      positionsdata,\r\n      holdingsdata,\r\n       onTableRowclick,\r\n       margin\r\n    }=this.props;\r\n\r\n\r\n\t//update total position\r\n\tlet totalHoldQty=0;let totalPositionAddQty=0;let totalPositionSellQty=0; let dayPNLMIS=0;let dayPNLCNC=0;\tlet dayPNL=0;\r\n  let tvalue=0;let misTvalue=0;let cncTvalue=0;\r\n\r\n\tif(holdingsdata && holdingsdata.data && positionsdata && positionsdata.data){\r\n\t\t\t\r\n\t\t\tfor( let i=0;i< holdingsdata.data.length; i++){\r\n\t\t\t\tlet hobj = holdingsdata.data[i];\r\n\t\t\t\ttotalHoldQty = totalHoldQty + (hobj.quantity + hobj.t1_quantity);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(positionsdata.data.net){\r\n\t\t\t\tfor( let i=0;i< positionsdata.data.net.length; i++){\r\n\t\t\t\t\tlet pobj = positionsdata.data.net[i];\r\n\t\t\t\t\tif(pobj.product == 'CNC'){\r\n\t\t\t\t\t\tif(pobj.quantity > 0){\r\n\t\t\t\t\t\t\ttotalPositionAddQty = totalPositionAddQty + pobj.quantity;\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttotalPositionSellQty = totalPositionSellQty + pobj.quantity;\t\r\n\t\t\t\t\t\t}\t\t\r\n\r\n            dayPNLCNC += pobj.pnl;\r\n            cncTvalue += pobj.value;\r\n\t\t\t\t\t}else if(pobj.product == 'MIS'){\r\n            dayPNLMIS+= pobj.pnl;\r\n            misTvalue += pobj.value;\r\n          }\t\t\t\t\t\r\n          dayPNL += pobj.pnl;\r\n          tvalue += pobj.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\tholdingsdata.data.sort(function(a, b){return a.day_change_percentage-b.day_change_percentage});\r\n\r\n\r\n  positionsdata.data.net.sort(function(a, b){\r\n    if(a.product == 'MIS' && b.product=='MIS'){\r\n      if(a.quantity != 0 && b.quantity != 0) return a.pnl - b.pnl;\r\n      else return b.quantity - a.quantity;    \r\n    }else if(a.product == 'MIS' && b.product=='CNC'){\r\n       return -1; \r\n    }else if(a.product == 'CNC' && b.product=='MIS'){\r\n       return 1; \r\n    }else{\r\n      return 0;\r\n    }\r\n  });\r\n\r\n\r\n    let PL=0;\r\n    let currentValue=0;\r\n    let totalInvestment=0;\r\n    for( let i=0;i< holdingsdata.data.length; i++){\r\n    \tlet data = holdingsdata.data[i];\r\n\t\tcurrentValue = currentValue + (data.quantity + data.t1_quantity)*data.last_price;\r\n\t\ttotalInvestment = totalInvestment + (data.quantity + data.t1_quantity)*data.average_price;\r\n    }\r\n    PL = Math.round(currentValue - totalInvestment);\r\n\r\n    let plClass = PL<0 ?'red':'green';\r\n    document.title=Math.round(PL/1000) +\"K ( \"+(PL*100/totalInvestment).toFixed(2)+\"%) \"\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <tr key='summary' >\r\n              \t<td colSpan='2' className='summaryRow'>\r\n              \t <span className='totalValue'>{(currentValue/100000).toFixed(2)}</span>L&nbsp;&nbsp;&nbsp;<span className={plClass}>{`${Math.round(PL)}(${(PL*100/totalInvestment).toFixed(2)}%)` }</span>{margin && <span>&nbsp;{(margin.data.equity.net/1000).toFixed(1)}K</span>}\r\n              \t</td> \r\n              </tr>\r\n\r\n              <tr key='position' >\r\n              \t<td colSpan='2' className='positionRow'>\r\n              \t <span>{totalHoldQty}&nbsp;|{totalPositionAddQty}&nbsp;|{totalPositionSellQty}&nbsp;&nbsp;=&nbsp;{(totalHoldQty+totalPositionAddQty)}</span>\r\n              \t</td> \r\n              </tr>\r\n\r\n\r\n              <tr key='daypositionsummary' >\r\n                <td colSpan='2' className='summaryRow'>\r\n                 <span className={ dayPNL<0 ?'red':'green'}>{(dayPNL/1000).toFixed(2)}K</span>&nbsp;&nbsp;&nbsp;\r\n                 <span className='bracketValue'>&nbsp;<span className={ dayPNLCNC<0 ?'red':'green'}>{`${(dayPNLCNC).toFixed(2)}` }</span>C</span>&nbsp;&nbsp;                 \r\n                 <span className='bracketValue'>&nbsp;<span className={ dayPNLMIS<0 ?'red':'green'}>{`${Math.round(dayPNLMIS)}` }</span>M</span>\r\n                </td> \r\n              </tr>\r\n\r\n              <tr key='dayposition' >\r\n                <td colSpan='2' className='positionRow'>\r\n                 <span>{cncTvalue.toFixed(0)}&nbsp;|&nbsp;{misTvalue.toFixed(0)}&nbsp;&nbsp;&nbsp;=&nbsp;{(tvalue.toFixed(0))}</span>\r\n                </td> \r\n              </tr>\r\n\r\n              { positionsdata.data.net.map((data,index)=> <PositionWatchListRow  onTableRowclick={onTableRowclick}  key={'POS-'+index+ data.tradingsymbol} data={data} />) }\r\n\r\n              <tr></tr>\r\n\r\n              <tr key='summary-row-2' >\r\n                <td colSpan='2' className='summaryRow'>\r\n                 <span className='totalValue'>{(currentValue/100000).toFixed(2)}</span>L&nbsp;&nbsp;&nbsp;<span className={plClass}>{`${Math.round(PL)}(${(PL*100/totalInvestment).toFixed(2)}%)` }</span>\r\n                </td> \r\n              </tr>              \r\n\r\n             { holdingsdata.data.map((data,index)=> <WatchListRow  onTableRowclick={onTableRowclick} key={'HOLD-'+index+ data.tradingsymbol} data={data} />) }\r\n             \r\n            </tbody>\r\n\r\n\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default HoldingList;\r\n\r\n\r\n\r\n\r\n\r\nclass PositionWatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.data.tradingsymbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n  data\r\n    }=this.props;\r\n\r\n\r\n\r\n    let dayChangeClass  = data.pnl <0 ?'red':'green';\r\n\r\n      return (\r\n        <tr rowId={'POS-'+data.tradingsymbol} onClick={this.openStockInfo} className={data.quantity==0?'lightgrey':''}>\r\n        <td style={{position:'relative'}} >{data.tradingsymbol}&nbsp;<span className={'holdQty ' + (data.quantity<0?'red':'green')}>({data.quantity})</span><span className='productType'>{data.product}</span></td>\r\n        <td>\r\n        <span className='last_price'>{data.last_price.toFixed(2)}</span>&nbsp;&nbsp;<span style={{fontWeight:'bold'}} className={'holdDayChg ' + dayChangeClass}>{ data.pnl.toFixed(2)}</span>\r\n        <br></br>\r\n        <span className='positionValue'>{Math.round((data.value)/1000) }k</span>\r\n\r\n        </td>\r\n        </tr>\r\n      );\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.data.tradingsymbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n\tdata\r\n    }=this.props;\r\n\r\n    let profit = \t(data.quantity + data.t1_quantity)*data.last_price - (data.quantity + data.t1_quantity)*data.average_price;\r\n\r\n\r\n    let dayChangeClass  = data.day_change_percentage <0 ?'red':'green';\r\n    let plClass = profit<0 ?'red':'green';\r\n\r\n      return (\r\n        <tr rowId={'HOLD-'+data.tradingsymbol} onClick={this.openStockInfo}>\r\n        <td>{data.tradingsymbol}<span className='holdQty'>({data.quantity + data.t1_quantity})</span>&nbsp;&nbsp;<span className='holdValue'>({Math.round((data.quantity + data.t1_quantity)*data.last_price/1000) })</span></td>\r\n        <td>\r\n        <span className='last_price'>{data.last_price.toFixed(2)}</span>&nbsp;&nbsp;<span className={'holdDayChg ' + dayChangeClass}>{ data.day_change_percentage.toFixed(2)}</span>\r\n        <br></br>\r\n        <span className={'holdPL '+plClass}>{Math.round(profit)}</span>&nbsp;&nbsp;<span className={'holdPLPec '+plClass}>{ (profit*100/((data.quantity + data.t1_quantity)*data.average_price)).toFixed(2)}%</span>\r\n\r\n        </td>\r\n        </tr>\r\n      );\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport toaster from \"toasted-notes\";\r\nimport \"toasted-notes/src/styles.css\"; \r\n\r\n\r\nexport const  placeBuyLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\nexport const  placeMISBuyLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const  placeMISBuyMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\nexport const  placeMISBuySLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellSLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\nconst fillCNCLimitOrderDetails=(data)=>{\r\n\tdata.order_type = 'LIMIT';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\n\r\nconst fillMISLimitOrderDetails=(data)=>{\r\n\tdata.order_type = 'LIMIT';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\n\r\nconst fillMISMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'MARKET';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillMISSLMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'SL-M';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst showToastMsg=(content)=>{\r\n    toaster.notify(content, {\r\n      position: \"top-right\", // top-left, top, top-right, bottom-left, bottom, bottom-right\r\n      duration: 3000 // This notification will not automatically close\r\n    });\r\n}\r\n\r\nconst placeOrder=(data,onSuccess,onErrror)=>{\r\n\r\n\tconst  formattedVals = [];\r\n    for(let prop in data){\r\n        formattedVals.push(prop + \"=\" + data[prop]);\r\n    }\r\n    const body = formattedVals.join(\"&\");\r\n    \r\n    showToastMsg((<span className={data.transaction_type=='BUY'?'green':'red'}>{data.tradingsymbol} &nbsp;&nbsp;{data.product} &nbsp;Q->{data.quantity}</span>));\t\r\n\r\n      fetch('https://kite.zerodha.com/oms/orders/regular',\r\n      \t{\r\n\t      \tmethod: 'POST',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t},\r\n\t      \tbody:body\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tconsole.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n\t\t\t\tshowToastMsg((<span className={'green'}>{data.tradingsymbol} &nbsp;&nbsp;O_ID->{jsonData.data.order_id}</span>));        \t\t\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t\tshowToastMsg((<span className={'red'}>{data.tradingsymbol} &nbsp;&nbsp; ->{jsonData.message}</span>));   \r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\n\r\nexport const getMargin=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/user/margins',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tconsole.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\n\r\nexport const getPosition=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/portfolio/positions',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tconsole.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport {placeBuyLimitOrder,placeSellLimitOrder} from './OrderUtil';\r\n\r\n\r\n\r\nclass OrderWindow extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);\r\n\t    let orderWindowView = {buyView:true,sellView:true};\r\n\t    orderWindowView = localStorage.getItem(\"orderWindowView.json\")!=undefined ?JSON.parse(localStorage.getItem(\"orderWindowView.json\")):orderWindowView;\t    \r\n\t    this.state={orderWindowView:orderWindowView};    \r\n\r\n\t\tthis.textInputBuyQty  = null;\r\n\t\tthis.textInputSellQty = null;\t    \r\n\t  }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif(prevProps.symbol != this.props.symbol){\r\n\t\t\tthis.fillInputWithLatestPrice();\r\n\t\t}\r\n\t}\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\r\n\t  \tthis.setState({orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol,orderStatusStyle:{},buyQuantity:1,buyPrice:depth.buy[0].price,sellQuantity:1,sellPrice:depth.sell[0].price});\r\n\r\n\t  \tthis.setFocusonOrderWindow();\r\n\r\n  \t}\r\n\r\n\r\n  }\r\n\r\n setFocusonOrderWindow=()=>{\r\n\t\tsetTimeout(() => {\r\n\t\t      \tif(this.textInputBuyQty ){\r\n\t\t  \t\t\tthis.textInputBuyQty.select();\r\n\t\t\t  \t}else if(this.textInputSellQty ){\r\n\t\t\t  \t\tthis.textInputSellQty.select();\r\n\t\t\t  \t}\r\n\t\t  }, 5);\r\n }\r\n\r\n\r\n updaetOrderStatus=(orderStatus)=>{\r\n \tthis.setState({orderStatus:orderStatus});\r\n }\r\n\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      buyQuantity,\r\n      buyPrice,\r\n      sellQuantity,\r\n      sellPrice,\r\n      orderStatus,\r\n      orderStatusStyle\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\r\n  \tif(evt.target.name == 'buyQuantity'){\r\n  \t\tbuyQuantity=evt.target.value;\r\n  \t\tthis.setState({buyQuantity:buyQuantity,orderStatusStyle:{color:'green'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+buyQuantity+\" )  ( P-> \"+buyPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'buyPrice'){\r\n  \t\t buyPrice=evt.target.value;\r\n  \t\tthis.setState({buyPrice:buyPrice,orderStatusStyle:{color:'green'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+buyQuantity+\" )  ( P-> \"+buyPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'sellQuantity'){\r\n  \t\tsellQuantity=evt.target.value;\r\n  \t\tthis.setState({sellQuantity:sellQuantity,orderStatusStyle:{color:'red'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+sellQuantity+\" )  ( P-> \"+sellPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'sellPrice'){\r\n  \t\tsellPrice=evt.target.value;\r\n  \t\tthis.setState({sellPrice:sellPrice,orderStatusStyle:{color:'red'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+sellQuantity+\" )  ( P-> \"+sellPrice+\" )\"});\r\n  \t}\r\n\r\n\r\n  }\r\n\r\n\r\ntoogleBuyView=()=>{\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.buyView=!orderWindowView.buyView;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\t\r\n}\r\n\r\ntoogleSellView=()=>{\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.sellView=!orderWindowView.sellView;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\r\n}\r\n\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n\tthis.setState({orderStatus:data.data.order_id,buyQuantity:0,sellQuantity:0});\r\n\tthis.setFocusonOrderWindow();\r\n\tthis.props.updateMarginData();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n\tthis.setState({orderStatus:data.message,buyQuantity:0,sellQuantity:0});\r\n\tthis.setFocusonOrderWindow();\r\n\tthis.props.updateMarginData();\r\n}\r\n\r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      buyQuantity,\r\n      buyPrice,\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\tplaceBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      sellQuantity,\r\n      sellPrice,\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\tplaceSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\t \t\r\n\t    const{\r\n\t      kitedata,\r\n\t      symbol\r\n\t    }=this.props;\r\n\r\n\r\n\t    const{\r\n\t      buyQuantity,\r\n\t      buyPrice,\r\n\t      sellQuantity,\r\n\t      sellPrice,\r\n\t      orderStatus,\r\n\t      orderStatusStyle,\r\n\t      orderWindowView\r\n\t    }=this.state;\r\n\r\n\r\n\t    let depth = kitedata.ticks[symbol].depth;\t\r\n\r\n\r\n\t    return (\r\n\t\t\t\t<div className=\"orderView\">\r\n\t\t\t\t<button className=\"favButton orderToggleBtn\"  onClick={this.toogleSellView} type=\"button\">SW</button>\r\n\t\t\t\t<button className=\"favButton orderToggleBtn\"  onClick={this.toogleBuyView} type=\"button\">BW</button>\r\n\r\n\t\t\t\t<div className=\"line\"></div>\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t<div style={orderStatusStyle} className=\"orderStatusView\">{orderStatus}</div>\r\n\t\t\t\t<br/>\r\n\t\t\t\r\n\t\t\t{orderWindowView.buyView && depth &&\r\n\t\t\t\t<div className=\"buyOrderView\" onKeyUp={event=>{ if(event.keyCode === 13) { this.sendBuyOrderRequest();}}}>\r\n\t\t\t\t\t \r\n\t\t\t\t\t  <label for=\"buyQuantity\">Q:</label>\r\n\t\t\t\t\t  <input type=\"number\"   ref={elem => (this.textInputBuyQty = elem)} onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"buyQuantity\" step={1} name=\"buyQuantity\" min=\"1\" max=\"1000\" value={buyQuantity}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <label for=\"buyPrice\">P:</label>\r\n\t\t\t\t\t  <input type=\"number\" onClick={event => event.target.select()}  onInput={this.onInputValueChange} className=\"buyPrice\" step={0.2} name=\"buyPrice\" min=\"1\" max=\"10000\" value={buyPrice}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <button className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{orderWindowView.sellView && depth &&\r\n\r\n\t\t\t\t<div className=\"sellOrderView\" onKeyUp={event=>{ if(event.keyCode === 13) { this.sendSellOrderRequest();}}} >\r\n\t\t\t\t\r\n\t\t\t\t\t  <label for=\"sellQuantity\">Q:</label>\r\n\t\t\t\t\t  <input type=\"number\"   ref={elem => (this.textInputSellQty = elem)} onClick={event => event.target.select()}  onInput={this.onInputValueChange}  className=\"sellQuantity\" step={1} name=\"sellQuantity\" min=\"1\" max=\"1000\" value={sellQuantity}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <label for=\"sellPrice\">P:</label>\r\n\t\t\t\t\t  <input type=\"number\"  onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"sellPrice\" step={0.2} name=\"sellPrice\" min=\"1\" max=\"10000\" value={sellPrice}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <button className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default OrderWindow;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport OrderWindow from './OrderWindow';\r\n\r\nclass StockInfo extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state={};\r\n  }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchHistoricalData();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n     if (prevProps.stockInfo.symbol !== this.props.stockInfo.symbol) {\r\n       this.fetchHistoricalData();\r\n     }\r\n   }\r\n\r\n    onColorInput=(evt)=>{    \t\r\n\r\n\t    const{\r\n\t      stockInfo,\r\n\t      updateKitePerfData\r\n\t    }=this.props;\r\n\r\n\t\tupdateKitePerfData(stockInfo.symbol,'color',evt.target.value);\r\n    }\r\n\r\n\r\n\r\n fetchHistoricalData =()=>{\r\n \tlet ticker = this.props.kitedata.ticks[this.props.stockInfo.symbol];\r\n\r\n\t\t let fromdate = new Date();\r\n\t\t fromdate.setDate(fromdate.getDate()-2000);\r\n\r\n      fetch('https://api.kite.trade/instruments/historical/'+ticker.token+'/day?from='+fromdate.toISOString().split('T')[0]+'&to='+new Date().toISOString().split('T')[0],\r\n      {\r\n      \tmethod: 'GET',\r\n      \theaders: {\r\n\t\t\t\t\"X-Kite-Version\":\"3\",\r\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t}\r\n      \t)\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tthis.setState({hCandles:jsonData.data.candles});\r\n        }.bind(this))\r\n        .catch((error) => {\r\n          console.error(error)\r\n        });\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n  render() {\r\n \t\r\n    const{\r\n      hCandles\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      updateKitePerfData,\r\n      stockInfo,\r\n      hideStokInfo,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      showFundamentalsDialog,\r\n      updateMarginData\r\n    }=this.props;\r\n\r\n    const{\r\n      symbol,\r\n      tableId\r\n    }=stockInfo;\r\n\r\n\r\nlet d1,d2,d3,w1,w2,m1,m6,y1,y2,y3,y4,y5;\r\n\r\nif(hCandles){\r\n\tlet data=hCandles;\r\n\tlet totalTick = data.length-1;\r\n\tlet close = data[totalTick][4];\r\n\r\n\td1 = Number.parseInt(-(data[totalTick-1][4]-close)*100/data[totalTick-1][4]);\r\n    d2=Number.parseInt(-(data[totalTick-2][4]-close)*100/data[totalTick-2][4]);\r\n    d3=Number.parseInt(-(data[totalTick-3][4]-close)*100/data[totalTick-3][4]);\r\n    w1=Number.parseInt(-(data[totalTick-5][4]-close)*100/data[totalTick-5][4]);\r\n    w2=Number.parseInt(-(data[totalTick-10][4]-close)*100/data[totalTick-10][4]);\r\n\r\n\tif(totalTick-23 >0 ){\r\n\t\tm1= Number.parseInt(-(data[totalTick-23][4]-close)*100/data[totalTick-23][4]);\r\n\t}\r\n\t    \r\n\tif(totalTick-140 >0 ){\r\n\t    m6=Number.parseInt(-(data[totalTick-140][4]-close)*100/data[totalTick-140][4]);\r\n\t}\r\n\r\n\r\n\tif(totalTick-269 >0 ){\r\n\t    y1=Number.parseInt(-(data[totalTick-269][4]-close)*100/data[totalTick-269][4]);\r\n\t}\r\n\r\n\tif(totalTick-540 >0 ){\r\n\t    y2=Number.parseInt(-(data[totalTick-540][4]-close)*100/data[totalTick-540][4]);\r\n\t}\r\n\r\n\tif(totalTick-807 >0 ){\r\n\t    y3=Number.parseInt(-(data[totalTick-807][4]-close)*100/data[totalTick-807][4]);\r\n\t}\r\n\r\n\tif(totalTick-1076 >0 ){\r\n\t    y4=Number.parseInt(-(data[totalTick-1076][4]-close)*100/data[totalTick-1076][4]);\r\n\t}\r\n\r\n\tif(totalTick-1150 >0 ){\r\n\t    y5=Number.parseInt(-(data[0][4]-close)*100/data[0][4]);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n    let hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/NSE/'+kitedata.ticks[symbol].tradingsymbol+'/'+kitedata.ticks[symbol].token\r\n////<td colSpan=\"2\"><a rel='noreferrer' onClick={this.showFundamentalsDialog} target='_blank' href={hrefGraph}>{kitedata.ticks[symbol].tradingsymbol}</a></td> \r\n\tlet depth = kitedata.ticks[symbol].depth;\r\n\r\n    return (\r\n    \t<div className='stockInfo' >\r\n\r\n    \t<p onDoubleClick={hideStokInfo} className='name'>{kitedata.ticks[symbol].name}</p>\r\n    \t<table className='stockInfoTable'>\r\n\t\t  <tbody>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td colSpan=\"2\" style={{cursor:'pointer',textDecoration:'underline'}} onClick={(evt)=>showFundamentalsDialog(symbol)} ><a rel='noreferrer' > </a>{kitedata.ticks[symbol].tradingsymbol}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>LTP</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].lastTradedPrice}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Chg%</td> \r\n\t\t\t  \t<td className={kitedata.ticks[symbol].change<0?'red':'green'}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td> \r\n\t\t  \t</tr>\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Up%</td> \r\n\t\t\t  \t<td>{((kitedata.ticks[symbol].lastTradedPrice - kitedata.ticks[symbol].lowPrice)*100/kitedata.ticks[symbol].lowPrice).toFixed(2)}%</td> \r\n\t\t  \t</tr>\t\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Down%</td> \r\n\t\t\t  \t<td>{((kitedata.ticks[symbol].highPrice - kitedata.ticks[symbol].lastTradedPrice)*100/kitedata.ticks[symbol].highPrice).toFixed(2)}%</td> \r\n\t\t  \t</tr>\t\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>OP</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].openPrice}</td> \r\n\t\t  \t</tr>\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>CL</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].closePrice}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td colSpan=\"2\"><input onInput={this.onColorInput} type=\"color\" className=\"favcolor\" name=\"favcolor\" value=\"#ff0000\"></input></td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  </tbody>\r\n\t\t</table>\t\r\n\r\n\r\n\t{hCandles &&\r\n\t    \t<table className='stockInfoTable historyTable'>\r\n\t\t\t  <tbody>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1D</td><td>{d1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2D</td><td>{d2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>3D</td><td>{d3}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1W</td><td>{w1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2W</td><td>{w2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1M</td><td>{m1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>6M</td><td>{m6}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1Y</td><td>{y1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2Y</td><td>{y2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>3Y</td><td>{y3}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>4Y</td><td>{y4}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>5Y</td><td>{y5}</td> \r\n\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t  </tbody>\r\n\t\t\t</table>\t\r\n\r\n\t}\r\n\t    \t\r\n\r\n\t\t<br/><br/><br/>\r\n\r\n\r\n\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'0');}} type=\"button\">A 0</button>\r\n\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'MIS');}} type=\"button\">MIS</button>\r\n\t    {tableId!=undefined &&\t<button className=\"favButton red\"   onClick={(evt)=>{removeFromFavList(symbol,tableId);}} type=\"button\">R {tableId}</button> }\r\n\r\n\r\n\t\t<OrderWindow updateMarginData={updateMarginData} kitedata={kitedata} symbol={symbol} />\r\n\r\n\r\n\t\t<br/><br/>\r\n\t\t<div style={{fontWeight: 'bold'}}>H: <span className='HLVdiv'>{kitedata.ticks[symbol].highPrice}</span>&nbsp;&nbsp;L: <span className='HLVdiv'>{kitedata.ticks[symbol].lowPrice}</span>&nbsp;&nbsp;&nbsp;V: <span className='HLVdiv'>{kitedata.ticks[symbol].volumeTradedToday}</span></div>\r\n{ depth && depth.buy.length == 5 &&  depth.sell.length==5 &&\r\n\r\n\t\t<table className=\"bidTable\">\r\n\t\t  <tbody>\r\n\t\t  \r\n\t\t  <tr></tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[0].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[0].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[0].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[0].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[1].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[1].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[1].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[1].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[2].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[2].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[2].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[2].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[3].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[3].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[3].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[3].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[4].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[4].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[4].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[4].quantity}</td>\r\n\t\t  </tr>\t\t  \t\t  \t\t  \r\n\t\t <tr></tr>\r\n\t\t  <tr>\r\n\t\t\t  <td colSpan=\"2\" className='blue'>{kitedata.ticks[symbol].totalBuyQuantity}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t  <td colSpan=\"2\" className='red'>{kitedata.ticks[symbol].totalSellQuantity}</td>\r\n\t\t\t  <td></td>\r\n\t\t  </tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \t</div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default StockInfo;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {placeMISBuyLimitOrder,placeMISSellLimitOrder,placeMISBuyMarketOrder,placeMISSellMarketOrder,getPosition,placeMISBuySLMarketOrder,placeMISSellSLMarketOrder} from './OrderUtil';\r\n\r\n\r\n\r\nclass BasketOrderDialog extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);  \r\n\r\n      let orderWindowView = {buyView:true,sellView:true};\r\n      orderWindowView = localStorage.getItem(\"basketOrderWindowView\")!=undefined ?JSON.parse(localStorage.getItem(\"basketOrderWindowView\")):orderWindowView;      \r\n\r\n      this.rowfRefs ={};\r\n\r\n      this.state={orderWindowView:orderWindowView,isHideDialog:false,orderType:\"MARKET\"};    \r\n\r\n\t  }\r\n\r\n  toogleBuyView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.buyView=!orderWindowView.buyView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n\r\n    localStorage.setItem(\"basketOrderWindowView\", JSON.stringify(orderWindowView));    \r\n  }\r\n\r\n\r\n  toogleSellView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellView=!orderWindowView.sellView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n\r\n    localStorage.setItem(\"basketOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n  onPositionSuccess=(data)=>{\r\n    this.setState({positionsdata:data})\r\n  }\r\n  onPositionError=(data)=>{\r\n   //this.setState({positionsdata:undefined})\r\n  }\r\n\r\n  fetchPositionData=(data)=>{\r\n    getPosition(this.onPositionSuccess,this.onPositionError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPositionData();\r\n    this.interval = setInterval(this.fetchPositionData, 2000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.interval );\r\n  }\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\tupdateOrderStatus=(data)=>{\r\n\t\tthis.setState({orderStatus:data})\r\n\t}\r\n\r\n showDialog=(data)=>{\r\n    this.setState({isHideDialog:false})\r\n  }\r\n\r\n\r\nplaceBuyOrderForselectedRow=()=>{\r\n  let isOk = window.confirm(\"BUY order for all selected rows confirm\");\r\n  if(isOk){\r\n      for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendBuyOrderRequest();\r\n        } \r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n placeSellOrderForselectedRow=(data)=>{\r\n  let isOk = window.confirm(\"SELL order for all selected rows confirm\");\r\n  if(isOk){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendSellOrderRequest();\r\n        } \r\n    }    \r\n  }\r\n}\r\n\r\n\r\nonSQOFFClick=()=>{\r\n  const perc = window.prompt('Percetage to SQ OFF');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        totalValue+=rowRef.fillQtyValueOnSqOffClick(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n\r\n}\r\n\r\n\r\nonTpriceClick=()=>{\r\n  const perc = window.prompt('Stop Loss %');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n         if(rowRef.isCheckBoxChecked()){\r\n            totalValue+=rowRef.fillPriceValueOnTpriceClick(perc);\r\n         }        \r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n\r\n}\r\n\r\nfillQtyForValue=()=>{\r\n  const value = window.prompt('Build Position for amount');\r\n  let totalValue=0;\r\n  if(value!=null && value!=\"\" && !isNaN(value) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          totalValue+=rowRef.fillQtyForValue(value);\r\n        }         \r\n    }\r\n    this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n\r\n  }\r\n\r\n}\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('#basketOrderDialog tr[rowid=\"MIS_ORDER-'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('#basketOrderDialog tr[rowid=\"MIS_ORDER-'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nonOnderTypeChange=(evt)=>{\r\n  if(evt.target.name=='orderType'){\r\n     this.setState({orderType:evt.target.value});\r\n  }\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let{\r\n      kiteBasketOrderData,\r\n    }=this.props;\r\n\r\n    const{\r\n      kitedata,\r\n      hideBasketOrderDialog,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick,\r\n//    positionsdata,  //poll from server \r\n      updateMarginData\r\n    }=this.props;\r\n\r\n    const{\r\n    \torderStatus,\r\n      orderWindowView,\r\n      isHideDialog,\r\n      positionsdata, //poll from client \r\n      orderType,\r\n      isSortPosition\r\n    }=this.state;\r\n\r\n\r\n    let positionMap={};\r\n    if(positionsdata){\r\n\r\n      if(isSortPosition){\r\n            positionsdata.data.net.sort(function(a, b){\r\n              if(a.product == 'MIS' && b.product=='MIS'){\r\n                if(a.quantity != 0 && b.quantity != 0) return a.pnl - b.pnl;\r\n                else return b.quantity - a.quantity;    \r\n              }else if(a.product == 'MIS' && b.product=='CNC'){\r\n                 return -1; \r\n              }else if(a.product == 'CNC' && b.product=='MIS'){\r\n                 return 1; \r\n              }else{\r\n                return 0;\r\n              }\r\n            });\r\n\r\n      }      \r\n\r\n\r\n      for(let i=0;i<positionsdata.data.net.length;i++){\r\n        if(positionsdata.data.net[i].product == 'MIS' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n          positionMap[positionsdata.data.net[i].tradingsymbol]=positionsdata.data.net[i];\r\n        }      \r\n      }\r\n\r\n     if(isSortPosition){      \r\n         for(let i=0;i<kiteBasketOrderData.length;i++){\r\n            if( positionMap[kiteBasketOrderData[i]]==undefined){\r\n              positionMap[kiteBasketOrderData[i]]=undefined;\r\n            }       \r\n         } \r\n\r\n         kiteBasketOrderData = Object.keys(positionMap);\r\n      }   \r\n      \r\n\r\n    }\r\n\r\n\r\n\t \t\r\n\t    return (\r\n\t      <div id='basketOrderDialog' style={{display:(isHideDialog?'none':'block')}} className=\"modal\">       \r\n\t        <div style={{width:'830px'}} className=\"modal-content\">\r\n\t          <div  className=\"orderStatusView\">{orderStatus}</div>\t\r\n\t          <span onClick={hideBasketOrderDialog} className=\"close\">&times;</span>\r\n\t          <div className='basket-orders'>\r\n\t          \r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Select</th>\r\n                <th>Name</th>\r\n                <th>PnL</th>\r\n                <th>Change</th>\r\n                <th>LTP</th>\r\n                <th>Qty</th>\r\n                <th>Price</th>\r\n             {orderWindowView.buyView &&  <th>BUY</th>\t\t}\t\t \r\n\t\t\t\t     {orderWindowView.sellView &&    <th>SELL</th> }\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { kiteBasketOrderData.map((symbol,index)=> <BasketListRow fetchPositionData={this.fetchPositionData} updateMarginData={updateMarginData} positionsdata={positionMap[symbol]} ref={ele => this.rowfRefs['MIS-'+symbol] = ele}  orderType={orderType} orderWindowView={orderWindowView} onTableRowclick={onTableRowclick} addToFavList={addToFavList} removeFromFavList={removeFromFavList} tableId={tableId} updateOrderStatus={this.updateOrderStatus} key={'MIS-'+symbol} kitedata={kitedata}  symbol={symbol} />)}\r\n             \r\n            </tbody>\r\n\r\n\r\n        </table>\r\n\r\n\t         </div>\r\n        <button className=\"favButton\"  onClick={(evt)=>{this.setState({isHideDialog:true})}} type=\"button\">H</button>   \r\n        <button className=\"favButton\"  onClick={this.toogleSellView} type=\"button\">S</button>\r\n        <button className=\"favButton\"  onClick={this.toogleBuyView} type=\"button\">B</button>\r\n\r\n        <button style={{backgroundColor:(isSortPosition?'red':'initial')}} className=\"favButton\"  onClick={(evt)=>{this.setState({isSortPosition:!isSortPosition})}} type=\"button\">Srt</button>\r\n\r\n      \r\n        <button className=\"favButton\"  onClick={this.onSQOFFClick} type=\"button\">SQFF</button>\r\n        <button className=\"favButton\"  onClick={this.onTpriceClick} type=\"button\">Tpri</button>\r\n\r\n        <button className=\"favButton\"  onClick={this.fillQtyForValue} type=\"button\">Fill Qty</button>\r\n\r\n\r\n        <div className=\"orderType\">      \r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_MARKET\" checked={orderType==\"MARKET\"?true:false} value=\"MARKET\"/><label for=\"ORDER_TYPE_MARKET\">M</label>\r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_LIMIT\" checked={orderType==\"LIMIT\"?true:false} value=\"LIMIT\"/><label for=\"ORDER_TYPE_LIMIT\">L</label>\r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_SL_MARKET\" checked={orderType==\"SL_MARKET\"?true:false} value=\"SL_MARKET\"/><label for=\"ORDER_TYPE_SL_MARKET\">SL_M</label>\r\n        </div>\r\n\r\n        <select className=\"selectSymbolsBasket\" onChange={this.onSymbolSelect}>\r\n             { kiteBasketOrderData.map((symbol,index)=> <option value={symbol}>{symbol}</option>)}\r\n        </select>\r\n\r\n\r\n        {orderWindowView.buyView && <button style={{marginLeft: '20px'}} className=\"favButton buyButton\"  onClick={this.placeBuyOrderForselectedRow} type=\"button\">Buy</button> }\r\n        {orderWindowView.sellView &&    <button style={{marginLeft: '20px'}} className=\"favButton sellButton\"  onClick={this.placeSellOrderForselectedRow} type=\"button\">Sell</button> }\r\n\r\n\r\n\r\n\r\n\r\n\t       </div>\r\n\t      </div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default BasketOrderDialog;\r\n\r\n\r\n\r\n\r\nclass BasketListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={isRowEnable:false};\r\n  }\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\t  \tthis.setState({quantity:0,price:kitedata.ticks[symbol].lastTradedPrice});\r\n  \t}\r\n\r\n  }\r\n\r\n\r\n  fillQtyForValue=(value)=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n    let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice; \r\n    let quantity =  Number.parseInt(value/lastTradedPrice);\r\n    this.setState({quantity:quantity});\r\n    return quantity*lastTradedPrice;\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable\r\n    }=this.state;\r\n\r\n  \tif(evt.target.name == 'quantity'){\r\n  \t\tquantity=evt.target.value;\r\n  \t\tthis.setState({quantity:quantity});\r\n  \t}else if(evt.target.name == 'price'){\r\n  \t\t price=evt.target.value;\r\n  \t\tthis.setState({price:price});\r\n  \t}else if(evt.target.name == 'checkbox'){\r\n      isRowEnable=evt.target.checked;\r\n      this.setState({isRowEnable:isRowEnable});      \r\n    }\r\n\r\n  }\r\n\r\n\r\n fillQtyValueOnSqOffClick=(perc)=>{\r\n\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let quantity = Number.parseInt(Math.abs((positionsdata.quantity*perc/100)));      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n\r\n    return orderValue;\r\n  }\r\n\r\n\r\nfillPriceValueOnTpriceClick=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      let priceChange = (lastTradedPrice*perc)/100; \r\n\r\n      if(positionsdata.quantity >= 0){\r\n          price = lastTradedPrice - priceChange; //sell stop losss trigger\r\n      }else {\r\n          price = lastTradedPrice + priceChange; //Buy stop losss trigger\r\n      }\r\n      this.setState({price:(price).toFixed(1)});\r\n      \r\n      orderValue = quantity*price;\r\n    }\r\n\r\n    return orderValue;\r\n}\r\n\r\nonOrderSuccess=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData\r\n    }=this.props;\t\t\r\n    updateMarginData();\r\n    fetchPositionData();\r\n\tupdateOrderStatus(data.data.order_id);\r\n\r\n\tthis.setState({quantity:0,isRowEnable:false});\r\n  this.markCheckBox(false);\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData\r\n    }=this.props;\t\t\r\n    updateMarginData();\r\n    fetchPositionData();\r\n\tupdateOrderStatus(data.message);\r\n\tthis.setState({quantity:0,isRowEnable:false});\r\n  this.markCheckBox(false);\r\n}  \r\n\r\nmarkCheckBox=(enable)=>{\r\n // this.checkBoxRef.checked=enable;\r\n  this.setState({isRowEnable:enable});\r\n}  \r\n\r\nisCheckBoxChecked=()=>{\r\n  return this.state.isRowEnable == true;\r\n}  \r\n\r\ngetOrderValue=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n  return Math.abs(quantity) * price;\r\n}  \r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeMISBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);\r\n   } else if(orderType==\"LIMIT\"){\r\n      placeMISBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> LIMIT -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   } else if(orderType==\"SL_MARKET\"){\r\n      placeMISBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> SL-MARKET -> MIS ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   }\r\n\r\n\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeMISSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"LIMIT\"){\r\n      placeMISSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> LIMIT -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"SL_MARKET\"){\r\n      placeMISSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> SL-MARKET -> MIS ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   } \r\n\r\n}\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick, \r\n      orderWindowView,\r\n      positionsdata     \r\n    }=this.props;\r\n\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable\r\n    }=this.state;\r\n\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n\r\n    let checkboxstyle={};\r\n    if(isRowEnable){\r\n      checkboxstyle.backgroundColor='grey';\r\n    } \r\n    if(positionsdata && positionsdata.quantity > 0){\r\n      checkboxstyle.borderLeft='20px solid lightgreen';\r\n    }else if(positionsdata && positionsdata.quantity < 0){\r\n      checkboxstyle.borderLeft='20px solid red';\r\n    }else {\r\n      checkboxstyle.borderLeft='20px solid white';\r\n    }     \r\n\r\n    //ref={ele => this.checkBoxRef = ele}\r\n\r\n    return (\r\n      <tr rowId={'MIS_ORDER-'+symbol}>\r\n      <td onClick={(evt)=>{this.setState({isRowEnable:!isRowEnable})}} style={checkboxstyle}><input style={{width:'20px',height: '20px'}}    onChange={this.onInputValueChange} type=\"checkbox\" name='checkbox' checked={isRowEnable}></input></td>  \r\n\t\t\t<td onDoubleClick={(evt)=>{addToFavList(symbol,'MIS');}} >{symbol}<span className='exchangeSuffix'>&nbsp;&nbsp;{kitedata.ticks[symbol].exchange}</span> &nbsp;{positionsdata&&positionsdata.quantity!=0 && <span><span className={'holdQty ' + (positionsdata.quantity<0?'red':'green')}>({positionsdata.quantity})</span>&nbsp;&nbsp;<span className='positionValue'>{Math.round((positionsdata.value)/1000) }k</span></span>}</td>    \r\n\t\t\t<td className={positionsdata && positionsdata.pnl<0?'red':'green'}>{positionsdata ?positionsdata.pnl.toFixed(1):'' }</td>   \r\n      <td onClick={this.openStockInfo} className={changeClass}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td>    \r\n\t\t\t<td >{kitedata.ticks[symbol].lastTradedPrice}</td>    \r\n\t\t\t<td>\r\n\t\t\t\t<input type=\"number\"   autoComplete=\"off\" onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"quantity\" step={1} name=\"quantity\" min=\"1\" max=\"1000\" value={quantity}></input>\r\n\t\t\t</td>         \r\n\t\t\t<td>\r\n\t\t\t\t<input type=\"number\"  autoComplete=\"off\" onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"price\" step={0.2} name=\"price\" min=\"1\" max=\"10000\" value={price}></input>\r\n\t\t\t</td> \t\t\r\n\r\n\t\t\t{orderWindowView.buyView && <td><button  className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button></td> }\r\n\t\t\t{orderWindowView.sellView && <td> <button style={{backgroundColor:'#e86666'}} className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button></td>}\r\n      \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass Fundamentals extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state={};\r\n  }\r\n\r\n\r\n\r\nrender() {\r\n \t\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      hideFundamentalsDialog\r\n    }=this.props;\r\n\r\n\tlet hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/NSE/'+kitedata.ticks[symbol].tradingsymbol+'/'+kitedata.ticks[symbol].token;\r\n\tlet hrefFunda = 'https://stocks.tickertape.in/'+symbol+'?broker=kite';\r\n\r\n\r\n \treturn (\r\n\t      <div className=\"modal\">       \r\n\t        <div style={{width:'1200px'}} className=\"modal-content\">\r\n\t        <span onClick={hideFundamentalsDialog} className=\"close\">&times;</span>\r\n\r\n\r\n\r\n        <div className='fundamental-dialog'>\r\n\r\n        <iframe style={{height:'1000px'}} className='graphFrame' src={'https://www.screener.in/company/'+(symbol.endsWith('-BE')?symbol.replace('-BE',''):symbol)+'/consolidated/'}></iframe>\r\n\r\n         <iframe className='fundamentalFrame' src={hrefFunda}></iframe>\r\n\r\n         <iframe className='graphFrame' src={hrefGraph}></iframe>\r\n\r\n\r\n          </div>\r\n\r\n\t    \t</div>\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Fundamentals;\r\n","\r\n\r\nimport React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass CurrentTime extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={};\r\n  }\r\n\r\n\r\ncomponentDidMount() {\r\n  this.timeInterval =  setInterval(this.startTime,500);\r\n}\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.timeInterval );\r\n  }\r\n\r\ncheckTime=(i)=>{\r\n  if (i < 10) {\r\n    i = \"0\" + i;\r\n  }\r\n  return i;\r\n}\r\n\r\n\r\nstartTime=(event)=>{\r\n  let today = new Date();\r\n  let h = today.getHours();\r\n  let m = today.getMinutes();\r\n  let s = today.getSeconds();\r\n  // add a zero in front of numbers<10\r\n  m = this.checkTime(m);\r\n  s = this.checkTime(s);\r\n  this.timeInterval = setTimeout(function() {\r\n    this.startTime()\r\n  }.bind(this), 500);\r\n\r\n  this.setState({currentTime:(h + \":\" + m + \":\" + s)});\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n    const{\r\n      currentTime\r\n    }=this.state;\r\n\r\n     \r\n    return (\r\n           <div className='currentTime'>{currentTime}</div>\r\n         )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default CurrentTime;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={searchValue:undefined};\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n\t\tsearchValue\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n  \tif(evt.target.name == 'searchInput'){\r\n  \t\tsearchValue=evt.target.value.toUpperCase();\r\n  \t\tlet rowMap={};\r\n\r\n  \t\tif(searchValue.length>2){\r\n\r\n\t  \t\tlet matchs = document.querySelectorAll('tr[rowid*=\"'+ searchValue +'\"]');\r\n\t  \t\tif(matchs && matchs.length>0){\r\n\t  \t\t\tfor(let i=0;i<matchs.length;i++){\r\n\t  \t\t\t\tlet rowId = matchs[i].attributes.rowid.value.replace('1-','').replace('2-','').replace('3-','').replace('0-','').replace('RES-','').replace('MIS-','').replace('POS-','').replace('HOLD-','').replace('MIS_ORDER-','');\r\n\t  \t\t\t\tif(kitedata.ticks[rowId]){\r\n\t  \t\t\t\t\trowMap[rowId]=kitedata.ticks[rowId].name;\r\n\t  \t\t\t\t}  \t\t\t\t\r\n\t  \t\t\t}\r\n\t  \t\t}\r\n\r\n  \t\t}\r\n\r\n  \t\tif(kitedata.ticks[searchValue]){\r\n  \t\t\tonTableRowclick(searchValue);\r\n  \t\t}\r\n  \t\tthis.setState({searchValue:searchValue,rowMap:rowMap});\r\n  \t\t\r\n  \t}\r\n\r\n  }  \r\n\r\n  render() {\r\n\r\n\r\n    let{\r\n\t\tsearchValue,\r\n\t\trowMap\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n    return (\r\n    \t<div className=\"dropdown\">\r\n          <button className=\"dropbtn\">Search</button>\r\n          <div className=\"dropdown-content searchList\">\r\n\r\n\t\t  <input list=\"searchDataList\" className='searchInput' type=\"text\"  name=\"searchInput\" ref={elem => (this.searchInput = elem)} onClick={event => event.target.select()}  onInput={this.onInputValueChange}  value={searchValue}></input>\r\n\t\t  <datalist id=\"searchDataList\">\r\n\t\t    {rowMap && Object.keys(rowMap).map((data,index)=> <option value={data}>{rowMap[data]}</option>)}\r\n\t\t  </datalist>\r\n\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Search;\r\n\r\n","import React from 'react';\nimport './App.css';\n\nimport WatchList from './WatchList';\nimport GlobalindexList from './GlobalindexList';\nimport HoldingList from './HoldingList';\n\nimport StockInfo from './StockInfo';\n\nimport BasketOrderDialog from './BasketOrderDialog';\nimport FundamentalsDialog from './Fundamentals';\n\nimport toaster from \"toasted-notes\";\nimport \"toasted-notes/src/styles.css\"; \n\nimport CurrentTime from './CurrentTime';\n\nimport Search from './Search';\n\nimport {getMargin} from './OrderUtil';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n   \n    // this.domain='./';\n    this.domain='http://localhost:9000/';\n\n\n   //\"{\"favSymbols\":[\"JAMNAAUTO\",\"ABFRL\",\"BAJFINANCE\",\"GRAUWEIL\",\"JMFINANCIL\",\"VIPIND\",\"HERITGFOOD\",\"GARFIBRES\",\"NESCO\",\"APLAPOLLO\",\"HESTERBIO\",\"SHOPERSTOP\",\"SARDAEN\",\"BHARATFORG\",\"WHIRLPOOL\",\"HAVELLS\",\"TEAMLEASE\",\"TRENT\",\"AVANTIFEED\",\"CHOLAFIN\",\"SBICARD\",\"RITES\",\"MINDAIND\",\"APEX\",\"HDFCAMC\",\"ECLERX\",\"NAUKRI\",\"CGCL\",\"CONTROLPR\",\"VMART\",\"NIITTECH\",\"SAKUMA\",\"ITI\",\"JINDALSTEL\",\"NAM-INDIA\",\"TIINDIA\",\"RUPA\",\"DLF\",\"IRCTC\",\"FINCABLES\",\"CUB\",\"MAITHANALL\",\"KRBL\",\"AXISBANK\",\"VBL\",\"PVR\",\"UPL\",\"APCOTEXIND\",\"SRF\",\"BORORENEW\",\"GMMPFAUDLR\",\"CENTURYPLY\",\"ISEC\",\"ALKYLAMINE\",\"TITAN\",\"TASTYBIT\",\"FILATEX\",\"ADFFOODS\",\"CAPLIPOINT\",\"GUJALKALI\",\"SUPREMEIND\",\"SUDARSCHEM\",\"SURYAROSNI\",\"SHAKTIPUMP\",\"GNA\",\"SRTRANSFIN\",\"MOTHERSUMI\",\"MINDACORP\",\"MEGH\",\"KPRMILL\",\"SUBROS\",\"JKPAPER\",\"CARBORUNIV\",\"KEC\",\"POLYCAB\",\"CCL\",\"ICICIBANK\",\"DCMSHRIRAM\",\"ENDURANCE\",\"PHOENIXLTD\",\"KALPATPOWR\",\"ORIENTREF\",\"ASTRAL\",\"SPICEJET\",\"KOTAKBANK\",\"RAJESHEXPO\",\"NITINSPIN\",\"AEGISCHEM\",\"TRIDENT\",\"INDIGO\",\"METROPOLIS\",\"APOLLOPIPE\",\"HONAUT\",\"GODREJCP\",\"INDHOTEL\",\"ASIANPAINT\",\"MUTHOOTCAP\",\"ZYDUSWELL\",\"ALKEM\",\"CHAMBLFERT\",\"INDOAMIN\",\"VIRINCHI\",\"GRANULES\",\"MAHSCOOTER\",\"AIAENG\",\"ORIENTELEC\",\"INOXLEISUR\",\"CANTABIL\",\"ATUL\",\"VGUARD\",\"POLYPLEX\",\"INFIBEAM\",\"FAIRCHEM\",\"ESCORTS\",\"PIDILITIND\",\"JBCHEPHARM\",\"JUBLFOOD\",\"GMBREW\",\"DAAWAT\",\"GODREJAGRO\",\"VINATIORGA\",\"SUNDRMFAST\",\"GODREJPROP\",\"AARTIIND\",\"SUVEN\",\"PIIND\",\"ASTEC\",\"STARPAPER\",\"CANFINHOME\",\"GODFRYPHLP\",\"TASTYBITE\",\"pvr\",\"del\",\"DELTACORP\",\"WELCORP\",\"VENKEYS\",\"upl\",\"spic\",\"PGHH\",\"PGHL\",\"atul\",\"star\",\"WSTCSTPAPR\",\"NRAIL\",\"AFFLE-BE\",\"LINDEINDIA\",\"SHILPAMED\",\"GLOBUSSPR\",\"BERGEPAINT\",\"NESTLEIND\",\"IPCALAB\",\"THYROCARE\",\"gnfc\",\"GNFC\",\"apex\",\"WATERBASE\",\"BIOCON\",\"bi\",\"BRITANNIA\",\"SKFINDIA\",\"BATAINDIA\",\"MCDOWELL-N\",\"abb\",\"ABBOTINDIA\",\"TCIEXP\",\"TATAMETALI\",\"NEOGEN-BE\",\"HAWKINCOOK\",\"VRLLOG\",\"HATSUN\",\"gmm\",\"GMM\",\"MARUTI\",\"DMART-BE\",\"ESSELPACK\",\"megh\",\"NOCIL\",\"UFLEX\",\"gna\",\"JSWSTEEL\",\"NMDC\",\"JAICORPLTD\",\"SEPERATOR\",\"SEPERATOR\",\"irctc\"],\"favSymbols1\":[\"RUPA\",\"krbl\",\"KPRMILL\",\"SUNDRMFAST\",\"CARBORUNIV\",\"KRBL\",\"TIINDIA\",\"TEAMLEASE\",\"NAUKRI\",\"vbl\",\"VBL\",\"INDIAMART\",\"METROPOLIS\",\"IRCTC\",\"JUBILANT\",\"GODFRYPHLP\",\"TCIEXP\",\"igl\",\"IGL\",\"MGL\",\"GARFIBRES\",\"ASTRAL\",\"ccl\",\"CCL\",\"ESCORTS\",\"INOXLEISUR\",\"WHIRLPOOL\",\"JBCHEPHARM\",\"BRITANNIA\",\"ABBOTINDIA\",\"AIAENG\",\"iolcp\",\"IOLCP\",\"SANOFI\",\"HATSUN\",\"TRENT\",\"hdfc\",\"HDFCAMC\",\"MUTHOOTFIN\",\"ASIANPAINT\",\"TRANSPEK\",\"RITES\",\"kei\",\"KEC\",\"KEI\",\"CAPLIPOINT\",\"ORIENTELEC\",\"HERITGFOOD\",\"ADFFOODS\",\"POLYPLEX\",\"RADICO\",\"ASALCBR\",\"HONAUT\",\"SYMPHONY\",\"ti\",\"TIMKEN\",\"MINDAIND\",\"HARITASEAT\",\"NIITTECH\",\"POLYCAB\",\"pvr\",\"PVR\",\"JUBLFOOD\",\"THYROCARE\",\"VIPIND\",\"srf\",\"atul\",\"GRANULES\",\"CANFINHOME\",\"BAJFINANCE\",\"itc\",\"ITC\",\"MIDHANI\",\"FINCABLES\",\"vmart\",\"VMART\",\"NESCO\",\"ALEMBICLTD\",\"CONTROLPR\",\"GMM\",\"MAHSCOOTER\",\"mgl\",\"SEPERATOR\",\"gmm\",\"ATUL\",\"SRF\",\"BALAMINES\",\"VINATIORGA\",\"FINEORG\",\"AARTIIND\",\"UPL\",\"ALKYLAMINE\",\"SUDARSCHEM\",\"NAVINFLUOR\",\"DEEPAKNTR\",\"FAIRCHEM\",\"DIAMINESQ\",\"MEGH\",\"SEPERATOR\",\"AVANTIFEED\",\"WATERBASE\",\"VENKEYS\",\"APEX\",\"apex\",\"SEPERATOR\",\"JKPAPER\",\"STARPAPER\",\"WSTCSTPAPR\",\"NRAIL\",\"ORIENTPPR\",\"RUCHIRA\",\"YASHPAKKA\",\"SEPERATOR\",\"DAAWAT\",\"megh\",\"EVERESTIND\",\"itdc\",\"ITDCEM\",\"rain\",\"RAIN\",\"MENONBE\",\"RICOAUTO\",\"ACE\",\"INDOAMIN\",\"TIMETECHNO\",\"PRAKASH\",\"AEGISCHEM\",\"AEGISLOG\",\"SPICEJET\",\"AVTNPL\",\"GENUSPOWER\",\"SHAKTIPUMP\",\"WELCORP\",\"DELTACORP\",\"SURYAROSNI\",\"EMMBI\",\"NITINSPIN\"],\"favSymbols2\":[\"RELIANCE\",\"HDFCBANK\",\"hdfc\",\"HDFC\",\"AXISBANK\",\"ICICIBANK\",\"KOTAKBANK\",\"CUB\",\"SBIN\",\"DCBBANK\",\"RBLBANK\",\"BANDHANBNK\",\"AUBANK\",\"INDUSINDBK\",\"YESBANK\",\"FEDERALBNK\",\"BANKBARODA\",\"SRTRANSFIN\",\"BAJFINANCE\",\"CANFINHOME\",\"CREDITACC\",\"HDFCLIFE\",\"HDFCAMC\",\"ISEC\",\"ICICIGI\",\"ICICIPRULI\",\"CHOLAFIN\",\"CHOLAHLDNG\",\"SBICARD\",\"SBILIFE\",\"PNB\",\"MFSL\",\"MASFIN\",\"MUTHOOTFIN\",\"MUTHOOTCAP\",\"CHEVIOT\",\"NAM-INDIA\",\"BAJAJFINSV\",\"BAJAJHLDNG\",\"IBULHSGFIN\",\"IBVENTURES\",\"AAVAS\",\"dlf\",\"SEPERATOR\",\"SEPERATOR\",\"DLF\",\"IBREALEST\",\"IBULISL\",\"SOBHA\",\"GODREJPROP\",\"SEPERATOR\",\"tcs\",\"SEPERATOR\",\"TCS\",\"INFY\",\"NIITTECH\",\"MASTEK\",\"MPHASIS\",\"SONATSOFTW\",\"SASKEN\",\"HEXAWARE\",\"iti\",\"ITI\",\"MINDTREE\",\"CYIENT\",\"SEPERATOR\",\"mrf\",\"SEPERATOR\",\"FRETAIL\",\"FLFL\",\"ABFRL\",\"RAYMOND\",\"TRIDENT\",\"SHOPERSTOP\",\"SEPERATOR\",\"SEPERATOR\",\"TAJGVK\",\"LEMONTREE\",\"INDHOTEL\",\"ORIENTHOT\",\"MHRIL\",\"SEPERATOR\",\"SEPERATOR\",\"GMM\",\"3MINDIA\",\"WHIRLPOOL\",\"ABBOTINDIA\",\"HONAUT\",\"NESTLEIND\",\"VBL\",\"PGHH\",\"SEPERATOR\",\"SEPERATOR\",\"PIIND\",\"SRF\",\"BALAMINES\",\"VINATIORGA\",\"FINEORG\",\"DEEPAKNTR\",\"TRANSPEK\",\"AARTIIND\",\"GUJALKALI\",\"UPL\",\"ALKYLAMINE\",\"JBCHEPHARM\",\"NAVINFLUOR\",\"SUDARSCHEM\",\"NEOGEN-BE\",\"FAIRCHEM\",\"DIAMINESQ\",\"MEGH\",\"ATUL\",\"SEPERATOR\",\"SEPERATOR\",\"LUPIN\",\"LALPATHLAB\",\"BIOCON\",\"CIPLA\",\"KOPRAN\",\"HESTERBIO\",\"ALKEM\",\"MARKSANS\",\"AUROPHARMA\",\"TORNTPHARM\",\"DRREDDY\",\"ALEMBICLTD\",\"NECLIFE\",\"ASTRAZEN\",\"GLAXO\",\"GRANULES\",\"JUBILANT\",\"METROPOLIS\",\"THYROCARE\",\"CAPLIPOINT\",\"MOREPENLAB\",\"SEPERATOR\",\"SEPERATOR\",\"KEI\",\"FINCABLES\",\"PRINCEPIPE\",\"ASTRAL\",\"FINPIPE\",\"SUPREMEIND\",\"NILKAMAL\",\"POLYCAB\",\"SEPERATOR\",\"SEPERATOR\",\"VEDL\",\"TATASTEEL\",\"TATAMETALI\",\"TINPLATE\",\"JAICORPLTD\",\"HINDZINC\",\"COALINDIA\",\"JSWSTEEL\",\"JINDALSTEL\",\"NMDC\",\"MAITHANALL\",\"NELCO-BE\",\"MOIL\",\"SEPERATOR\",\"SEPERATOR\",\"MARUTI\",\"ESCORTS\",\"MINDAIND\",\"HARITASEAT\",\"BAJAJ-AUTO\",\"M&M\",\"NRBBEARING\",\"AUTOAXLES\",\"WABCOINDIA\",\"MRF\",\"AIAENG\",\"apollo\",\"APOLLOTYRE\",\"BOSCHLTD\",\"AMARAJABAT\",\"EXIDEIND\",\"EICHERMOT\",\"ENDURANCE\",\"JAMNAAUTO\",\"JAYBARMARU\",\"SUBROS\",\"gna\",\"GNA\",\"MENONBE\",\"MOTHERSUMI\",\"SEPERATOR\",\"SEPERATOR\",\"AVANTIFEED\",\"WATERBASE\",\"VENKEYS\",\"APEX\",\"SEPERATOR\",\"SEPERATOR\",\"JKPAPER\",\"STARPAPER\",\"WSTCSTPAPR\",\"NRAIL\",\"ORIENTPPR\",\"RUCHIRA\",\"YASHPAKKA\"],\"favSymbols3\":[\"NIFTY 50\",\"NIFTY BANK\",\"nifty it\",\"INDIA VIX\",\"NIFTY IT\",\"NIFTY AUTO\",\"NIFTY PHARMA\",\"NIFTY FMCG\",\"NIFTY METAL\",\"NIFTY CONSUMPTION\",\"NIFTY NEXT 50\",\"NIFTY MIDCAP 100\",\"NIFTY SMLCAP 100\",\"SEPERATOR\",\"RELIANCE\",\"SEPERATOR\",\"NESTLEIND\",\"HINDUNILVR\",\"BRITANNIA\",\"ASIANPAINT\",\"DMART-BE\",\"INDIAMART\",\"vmart\",\"VMART\",\"3MINDIA\",\"TITAN\",\"GSKCONS\",\"PGHL\",\"PGHH\",\"ASTRAL\",\"KANSAINER\",\"ORIENTELEC\",\"BERGEPAINT\",\"GILLETTE\",\"JUBLFOOD\",\"pvr\",\"ABBOTINDIA\",\"MARICO\",\"NESCO\",\"itc\",\"ITC\",\"VSTIND\",\"GODFRYPHLP\",\"ntpc\",\"MARUTI\",\"RAYMOND\",\"SYMPHONY\",\"PAGEIND\",\"GODREJCP\",\"PVR\",\"BATAINDIA\",\"PIDILITIND\",\"PIIND\",\"HAVELLS\",\"DABUR\",\"AIAENG\",\"TTKPRESTIG\",\"VOLTAS\",\"WHIRLPOOL\",\"RELAXO\",\"BANKNIFTY20MAY19000CE\"],\"kitePerfData\":{\"INFIBEAM\":{\"color\":\"#ffffff\"},\"GRANULES\":{\"color\":\"#ffffff\"},\"RELIANCE\":{\"color\":\"#bfffff\"},\"HDFCBANK\":{\"color\":\"#bfffff\"},\"HDFC\":{\"color\":\"#bfffff\"},\"NIFTY 50\":{\"color\":\"#b6ebaf\"},\"NIFTY BANK\":{\"color\":\"#b6ebaf\"}},\"kiteBasketOrderData\":[\"NESCO\",\"ASTRAL\",\"VGUARD\",\"PHOENIXLTD\",\"JAMNAAUTO\",\"JUBLFOOD\",\"ABFRL\",\"INDUSINDBK\",\"BAJFINANCE\",\"SUPREMEIND\",\"CENTURYPLY\",\"VMART\",\"PVR\",\"TEAMLEASE\",\"RITES\",\"CARBORUNIV\",\"JMFINANCIL\",\"VIPIND\",\"INDHOTEL\",\"SHOPERSTOP\",\"UPL\",\"TIINDIA\",\"ASIANPAINT\",\"AIAENG\",\"ITC\",\"NIITTECH\",\"BHARATFORG\",\"APLAPOLLO\",\"MOTHERSUMI\",\"CHOLAFIN\",\"CUB\",\"ICICIBANK\",\"AXISBANK\",\"NAUKRI\",\"MINDAIND\",\"TRENT\",\"GODFRYPHLP\",\"ESCORTS\",\"ATUL\",\"ALKYLAMINE\",\"SRF\",\"VBL\",\"DLF\",\"KOTAKBANK\",\"SBICARD\",\"JINDALSTEL\",\"CCL\",\"INDIAMART\"]}\"\n\n    let favSymbols = localStorage.getItem(\"kite_favSymbols\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols\")):[];\n    let favSymbols1 = localStorage.getItem(\"kite_favSymbols1\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols1\")):[];\n    let favSymbols2 = localStorage.getItem(\"kite_favSymbols2\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols2\")):[];\n    let favSymbols3 = localStorage.getItem(\"kite_favSymbols3\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols3\")):[];\n\n    let kitePerfData = localStorage.getItem(\"kitePerfData.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kitePerfData.json\")):[];\n\n    let kiteBasketOrderData = localStorage.getItem(\"kiteBasketOrderData.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteBasketOrderData.json\")):[];\n\n    this.kiteOldPriceData = localStorage.getItem(\"kiteOldChanges.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteOldChanges.json\")):[];\n    let resultCalenderData = localStorage.getItem(\"kite_resultCalender\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_resultCalender\")):[];\n\n    this.state={isShowNotification:true,isShowGL:true,favSymbols:favSymbols,favSymbols1:favSymbols1,favSymbols2:favSymbols2,favSymbols3:favSymbols3,kitePerfData:kitePerfData,kiteBasketOrderData:kiteBasketOrderData,symbolSelector:{cursor:undefined,isAdd:true,isShow:false},isLoadOldPrice:false,resultCalenderData:resultCalenderData};\n\n    this.alertMap ={};\n\n\n   \n  }\n\n\n\n\nremoveOldAlerts=()=>{\n  let filtered = Object.keys(this.alertMap).filter(  function(key) { \n\n    return (Date.now() - this.alertMap[key].time) < 500000 \n\n  }.bind(this) );\n\n  //console.info(filtered.length);\n\n  this.alertMap = filtered.reduce(function(obj, key) {\n    obj[key] = this.alertMap[key];\n    return obj;\n  }.bind(this), {});\n\n}\n\n\nshowToast=(content,symbol)=>{\n    if(this.alertMap[symbol] == undefined){\n      if(this.state.isShowNotification){\n        toaster.notify(content, {\n          position: \"bottom-left\", // top-left, top, top-right, bottom-left, bottom, bottom-right\n          duration: 60000 // This notification will not automatically close\n        });\n      }\n      this.alertMap[symbol]={time:Date.now()};\n    }\n}\n\n\n\nupdateMarginData=()=>{\n  getMargin(this.onMarginSuccess,this.onMarginError);\n}\n\nonMarginSuccess=(data)=>{\n  this.setState({margin:data}); \n}\nonMarginError=()=>{\n}\n\n\n\nshowBasketOrderDialog=()=>{\n  this.setState({isShowBasketOrderDialog:true});\n  if(this.basketOrderDialogRef){\n    this.basketOrderDialogRef.showDialog();\n  }\n}\n\n\nhideBasketOrderDialog=()=>{\n  this.setState({isShowBasketOrderDialog:undefined});\n}\n\n\nhideStokInfo=()=>{\n  this.setState({stockInfo:undefined});\n}\n\n\nhideFundamentalsDialog=()=>{\n  this.setState({showFundamental:undefined});\n}\n\nshowFundamentalsDialog=(symbol)=>{\n  this.setState({showFundamental:symbol});\n}\n\n\nescFunction=(event)=>{\n    if(event.keyCode === 27) {\n      this.hideStokInfo();\n      this.hideBasketOrderDialog();\n      this.hideFundamentalsDialog();\n    }\n}\n\n\n\ncomponentDidMount() {\n  this.fetchAllKiteSymbolsList();\n  this.updateMarginData();\n  this.interval = setInterval(this.refreshData, 2000);\n  this.alertInterval =  setInterval(this.removeOldAlerts,3000);\n  document.addEventListener(\"keyup\", this.escFunction, false);\n}\n\n  componentWillUnmount(){\n    document.removeEventListener(\"keyup\", this.escFunction, false);\n    clearInterval( this.interval );\n    clearInterval( this.alertInterval );\n  }\n\n\n refreshData =()=>{\n\n      fetch(this.domain+'kiteticks.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n\n         if(this.state.isLoadOldPrice){\n              this.kitedata = this.kiteOldPriceData\n         } else{\n            this.kitedata = jsonData;\n         }\n         \n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n      fetch(this.domain+'changes.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.investingdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n      fetch(this.domain+'positions.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.positionsdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n      fetch(this.domain+'holdings.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.holdingsdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n       this.setState({kitedata:this.kitedata,investingdata:this.investingdata,positionsdata:this.positionsdata,holdingsdata:this.holdingsdata,kiteAllSymbols:this.kiteAllSymbols});\n\n }\n\n\n  fetchAllKiteSymbolsList=()=>{\n      fetch(this.domain+'kiteAllSymbols.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.kiteAllSymbols = jsonData;\n         this.setState({kiteAllSymbols:this.kiteAllSymbols});\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n  }\n\n \n  saveCurrentPrice=()=>{\n    localStorage.setItem(\"kiteOldChanges.json\", JSON.stringify(this.kitedata));   \n  }\n\n\n onTableRowclick=(data,tableId)=>{\n    let symbolSelector = this.state.symbolSelector; \n    if(symbolSelector.isShow && [0,1,2,3,'MIS','RES'].includes(tableId) ){\n      symbolSelector.cursor=data;\n      document.getElementById(\"portfolioInput\").value=tableId;\n    }\n    this.setState({stockInfo:{symbol:data,tableId:tableId},symbolSelector:symbolSelector});\n }\n\n\n\n onSelectorInput=(evt)=>{\n    let val = document.getElementById(\"inputSymbol\").value;    \n    \n\n    let tempMatch = this.state.kiteAllSymbols.allSymbols.filter(function(item){ return item.tradingsymbol.toUpperCase()==val.toUpperCase()});\n    if(tempMatch.length >0 || val.toUpperCase()=='SEPERATOR'){\n        let portfolioId = document.getElementById(\"portfolioInput\").value;\n        let isAdd = this.state.symbolSelector.isAdd;\n\n        if(['0','1','2','3','MIS','RES'].includes(portfolioId) ){\n          if(isAdd){\n            this.addToFavList(val,portfolioId);            \n          }else{\n            this.removeFromFavList(val,portfolioId);           \n          }         \n        }\n        document.getElementById(\"inputSymbol\").select();\n    }\n }\n\n\n\n  getFavSymbols=(listId)=>{\n    switch(listId){\n      case \"0\": return this.state.favSymbols;\n      case \"1\": return this.state.favSymbols1;\n      case \"2\": return this.state.favSymbols2;\n      case \"3\": return this.state.favSymbols3;\n      case \"MIS\": return this.state.kiteBasketOrderData;  //MIS\n      case \"RES\": return this.state.resultCalenderData;  //MIS\n      default:break;    \n    }\n  }\n\n  setFavSymbols=(listId,tempSymbols)=>{\n    switch(listId){\n      case \"0\":  this.setState({favSymbols:tempSymbols});localStorage.setItem(\"kite_favSymbols\", JSON.stringify(tempSymbols)); break;    \n      case \"1\":  this.setState({favSymbols1:tempSymbols});  localStorage.setItem(\"kite_favSymbols1\", JSON.stringify(tempSymbols)); break;\n      case \"2\":  this.setState({favSymbols2:tempSymbols});localStorage.setItem(\"kite_favSymbols2\", JSON.stringify(tempSymbols)); break;\n      case \"3\":  this.setState({favSymbols3:tempSymbols});localStorage.setItem(\"kite_favSymbols3\", JSON.stringify(tempSymbols)); break;\n      case \"MIS\": this.setState({kiteBasketOrderData:tempSymbols});localStorage.setItem(\"kiteBasketOrderData.json\", JSON.stringify(tempSymbols));break;\n      case \"RES\": this.setState({resultCalenderData:tempSymbols});localStorage.setItem(\"kite_resultCalender\", JSON.stringify(tempSymbols));break;\n      default: break;  \n    }\n  }\n\n\n\n  addToFavList=(data,listId)=>{\n\n    listId = listId==undefined?\"\":listId+\"\";\n    let tempSymbols = this.getFavSymbols(listId);    \n\n    if(data != 'SEPERATOR'){\n      tempSymbols = tempSymbols.filter(function(value, index){\n        return value != data;\n      });   \n    }\n\n    if(data == 'SEPERATOR' || this.state.kitedata.ticks[data]){\n      let cursorRowId = this.state.symbolSelector.cursor?this.state.symbolSelector.cursor:'';  \n      let indertPos = tempSymbols.indexOf(cursorRowId);\n      if(indertPos >= 0){\n        tempSymbols.splice(indertPos, 0, data);\n      }else{\n        tempSymbols.unshift(data);\n      }\n\n      this.setFavSymbols(listId,tempSymbols);       \n    }\n\n    if(data != 'SEPERATOR' && !this.state.kitedata.ticks[data]){\n      console.error(data);\n    }\n\n  }\n\n\n  removeFromFavList=(data,listId)=>{\n    listId = listId==undefined?\"\":listId+\"\";\n    let tempSymbols = this.getFavSymbols(listId);\n    \n    if(data != 'SEPERATOR'){\n      tempSymbols = tempSymbols.filter(function(value, index){\n        return value != data;\n      });\n    }else{\n      let cursorRowId = this.state.symbolSelector.cursor?this.state.symbolSelector.cursor:'';  \n      let deletePos = tempSymbols.indexOf(cursorRowId);\n      tempSymbols.splice(deletePos+1,1)\n      \n    }     \n    this.setFavSymbols(listId,tempSymbols);\n  }\n\n\n\n  updateKitePerfData=(tradingSymbol,porpKey,propValue)=>{\n\n    const{\n      kitePerfData\n    }=this.state;\n\n    if( kitePerfData[tradingSymbol] == undefined){\n       kitePerfData[tradingSymbol] = {};\n    }\n    kitePerfData[tradingSymbol][porpKey]=propValue;\n    localStorage.setItem(\"kitePerfData.json\", JSON.stringify(kitePerfData));\n\n    this.setState({kitePerfData:kitePerfData});\n  }\n\n\n  bringElementInView(selector){\n      if(document.querySelectorAll(selector) && document.querySelectorAll(selector)[0]){\n        document.querySelectorAll(selector)[0].scrollIntoView();  \n      }      \n  }\n\n  render() {\n\n    const{\n      kitedata,\n      investingdata,\n      positionsdata,\n      holdingsdata,\n      favSymbols,\n      favSymbols1,\n      favSymbols2,\n      favSymbols3,\n      kitePerfData,\n      stockInfo,\n      isShowBasketOrderDialog,\n      kiteBasketOrderData,\n      symbolSelector,\n      kiteAllSymbols,\n      showFundamental,\n      resultCalenderData,\n      margin,\n      isShowGL\n    }=this.state;\n\n\n\n\n    let gainers=[];\n    let loosers=[];\n\n\n    if(kitedata){\n      let tempSortedTicks = Object.keys(kitedata.ticks);\n      let sortedTicks = [];\n      for(let i=0;i<tempSortedTicks.length;i++){\n        if(kitedata.ticks[tempSortedTicks[i]].exchange == 'NFO') continue;\n        sortedTicks.push(tempSortedTicks[i]);\n      }  \n\n      if(isShowGL){\n        sortedTicks.sort(function(t1, t2){return kitedata.ticks[t2].change - kitedata.ticks[t1].change});\n        for (let i = 0; i < sortedTicks.length; i++) {\n            if(kitedata.ticks[sortedTicks[i]].change < 2)break;\n            gainers.push(sortedTicks[i]);\n        }\n\n        for (let i = sortedTicks.length-1; i >= 0; i--) {\n            if(kitedata.ticks[sortedTicks[i]].change > -2)break;\n              loosers.push(sortedTicks[i]);\n        }\n      }else{\n\n        sortedTicks.sort(function(t1, t2){\n          let v1 = (kitedata.ticks[t1].highPrice - kitedata.ticks[t1].lastTradedPrice)*100/kitedata.ticks[t1].highPrice;\n          let v2 = (kitedata.ticks[t2].highPrice - kitedata.ticks[t2].lastTradedPrice)*100/kitedata.ticks[t2].highPrice;\n          return v1 - v2;\n        });\n        for (let i = 0; i < sortedTicks.length; i++) {\n            let down = (kitedata.ticks[sortedTicks[i]].highPrice - kitedata.ticks[sortedTicks[i]].lastTradedPrice)*100/kitedata.ticks[sortedTicks[i]].highPrice;\n            if(down > 6)break;\n            gainers.push(sortedTicks[i]);\n        }\n\n        sortedTicks.sort(function(t1, t2){\n          let v1 = (kitedata.ticks[t1].lastTradedPrice - kitedata.ticks[t1].lowPrice)*100/kitedata.ticks[t1].lowPrice;\n          let v2 = (kitedata.ticks[t2].lastTradedPrice - kitedata.ticks[t2].lowPrice)*100/kitedata.ticks[t2].lowPrice;\n          return v1 - v2;\n        });\n         for (let i = 0; i < sortedTicks.length; i++) {\n            let up = (kitedata.ticks[sortedTicks[i]].lastTradedPrice - kitedata.ticks[sortedTicks[i]].lowPrice)*100/kitedata.ticks[sortedTicks[i]].lowPrice;\n            if(up > 6)break;\n            loosers.push(sortedTicks[i]);\n        }\n\n\n      }\n\n\n\n\n\n    }\n\n\n\n\n  let feedStatusStyle ={};\n  if(kitedata && investingdata ){\n        let servTime = investingdata.time;\n        let kiteTime = kitedata.time;\n        let date = new Date();\n        let clientTime = date.getHours()*60+date.getMinutes()\n        if(Math.abs(clientTime - servTime) > 5 || Math.abs(clientTime - kiteTime) > 5){\n          feedStatusStyle.display = \"block\";\n        }else{\n          feedStatusStyle.display = \"none\"\n        }\n  }\n\n\n\n\n    return (\n\n      <div>\n        <div style={feedStatusStyle} className='feed-status'></div>\n\n        {kitedata && <div className='tableContainer holding'><HoldingList  margin={margin} onTableRowclick={this.onTableRowclick} positionsdata={positionsdata} holdingsdata={holdingsdata}/></div>}\n\n        {kitedata && <div className='tableContainer loser'><WatchList showToast={this.showToast} onTableRowclick={this.onTableRowclick} kitedata={kitedata} symbolList={loosers}/></div>}\n        {kitedata && <div className='tableContainer gainers'><WatchList   showToast={this.showToast} onTableRowclick= {this.onTableRowclick} kitedata={kitedata} symbolList={gainers}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={0} onTableRowclick={this.onTableRowclick}  kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  resultCalenderData={resultCalenderData}  kiteBasketOrderData={kiteBasketOrderData}  showToast={this.showToast} tableId={1}  onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols1}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={2}   onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols2}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={3}   onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols3}/></div>}\n\n        {kitedata && <div className='tableContainer index'><GlobalindexList  investingdata={investingdata} /></div>}\n\n        {stockInfo && <StockInfo updateMarginData={this.updateMarginData} showFundamentalsDialog={this.showFundamentalsDialog} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList} hideStokInfo={this.hideStokInfo} stockInfo={stockInfo} updateKitePerfData={this.updateKitePerfData} kitePerfData={kitePerfData} kitedata={kitedata}/> }\n\n        { isShowBasketOrderDialog && <BasketOrderDialog updateMarginData={this.updateMarginData} ref={(ref) => this.basketOrderDialogRef = ref} positionsdata={positionsdata} onTableRowclick={this.onTableRowclick} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList} kiteBasketOrderData={kiteBasketOrderData} hideBasketOrderDialog={this.hideBasketOrderDialog} kitedata={kitedata} /> }\n\n        <CurrentTime />\n       \n\n\n        {showFundamental && <FundamentalsDialog symbol={showFundamental} hideFundamentalsDialog={this.hideFundamentalsDialog} kitedata={kitedata} /> }\n\n        <div className='tool-bar' >\n\n\n          <button type=\"button\"  onClick={this.saveCurrentPrice}>SAVE</button> \n          <button type=\"button\"  style={{backgroundColor:(this.state.isLoadOldPrice?'red':'initial')}} onClick={(evt)=>{ this.kiteOldPriceData = localStorage.getItem(\"kiteOldChanges.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteOldChanges.json\")):[]; this.setState({isLoadOldPrice:!this.state.isLoadOldPrice});} } >{!this.state.isLoadOldPrice?'OLD':'NEW'}</button> \n          <br/>\n          <Search kitedata={kitedata} onTableRowclick={this.onTableRowclick}/>\n          <button type=\"button\"  onClick={(evt)=>{symbolSelector.isShow = !symbolSelector.isShow ; this.setState({symbolSelector:symbolSelector});}} >ADD</button>\n\n          <button type=\"button\" style={{backgroundColor:(!this.state.isShowNotification?'red':'initial')}} onClick={(evt)=>{ this.setState({isShowNotification:!this.state.isShowNotification});} } >{this.state.isShowNotification?'NotH':'NotS'}</button> \n\n          <button type=\"button\" onClick={this.showBasketOrderDialog}>MIS</button>            \n          \n        <div className=\"dropdown\">\n          <button className=\"dropbtn\">SEC</button>\n          <div className=\"dropdown-content\">\n\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='MIS-MISSCRIPTS']\")}}>MIS</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='RES-RESCALENDER']\")}}>Result</a>\n            <a ></a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HDFCBANK']\")}}>Bank</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HINDUNILVR']\")}}>Fmcg</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-TCS']\")}}>IT</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-MARUTI']\")}}>Auto</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-AARTIIND']\")}}>Chemical</a>          \n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-DLF']\")}}>Real state</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-FRETAIL']\")}}>Retail</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-TAJGVK']\")}}>Hotel</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-GMM']\")}}>MNC</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-LUPIN']\")}}>Pharma</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-RADICO']\")}}>Alcohol</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-KEI']\")}}>Cable</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-VEDL']\")}}>Metal</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HINDPETRO']\")}}>Oil</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-AVANTIFEED']\")}}>Food</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-JKPAPER']\")}}>Paper</a>\n\n          </div>\n        </div>\n\n\n        <button style={{backgroundColor:(!isShowGL?'red':'initial')}} type=\"button\" onClick={(evt)=>{ this.setState({isShowGL:!this.state.isShowGL});} }>{isShowGL?'N-HL':'GL'}</button>    \n\n        </div>\n\n\n\n{\n  symbolSelector.isShow && kiteAllSymbols &&\n      <div className=\"symbolSelector\">\n      \n        <button className=\"addRemove\" style={{backgroundColor:symbolSelector.isAdd?'green':'red'}} onClick={(evt)=>{symbolSelector.isAdd = !symbolSelector.isAdd ; this.setState({symbolSelector:symbolSelector});}} type=\"button\">{symbolSelector.isAdd?'ADD':'REM'}</button>\n          \n          <input type='text'  onInput={this.onSelectorInput} id='inputSymbol' list='inputdlist'></input>\n          <datalist id='inputdlist'>\n\n           { kiteAllSymbols.allSymbols.map((item,i)=> \n            { \n\n               if(item.exchange == 'NFO'){\n                if(item.name == 'NIFTY' || item.name == 'BANKNIFTY'){\n                  if(item.segment=='NFO-OPT'){\n                    let textName = item.name + \" \" + item.expiry.split(' ')[0] + \" \" + item.strike +\" \"+item.instrument_type +\" | \" + item.expiry.split(' ')[1] +\" \" + item.expiry.split(' ')[2];\n                     return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{textName}</option>);            \n                  }else if(item.segment=='NFO-FUT'){\n                    let textName = item.name + \" \" + item.expiry.split(' ')[0] + \" \" + item.expiry.split(' ')[1] +\" \"+item.instrument_type;\n                     return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{textName}</option>);            \n                  }\n                }                 \n              }else{\n                 return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{item.name}</option>);  \n              }\n\n            })}\n\n            <option key='SEPERATOR' value=\"SEPERATOR\">SEPERATOR</option>\n          </datalist> \n          \n          <input type='text'  id='portfolioInput' list='portfolioList' ></input>\n          <datalist id='portfolioList'>\n            <option value={0}>0</option>\n            <option value={1}>1</option>\n            <option value={2}>2</option>\n            <option value={3}>3</option>\n            <option value={'MIS'}>MIS</option> \n            <option value={'RES'}>RES</option>     \n          </datalist>   \n          \n          <label className=\"cursor\">{symbolSelector.cursor}</label> \n        \n      </div>\n\n}\n\n\n\n      </div>\n\n\n    )\n  }\n\n}\n\n\nexport default App;\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}