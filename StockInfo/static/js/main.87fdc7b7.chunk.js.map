{"version":3,"sources":["WatchList.js","GlobalindexList.js","HoldingList.js","OrderUtil.js","OrderWindow.js","StockInfo.js","BasketOrderDialog.js","Fundamentals.js","CurrentTime.js","Search.js","AllStocksScreener.js","AllSectorScreener.js","PerformanceScreener.js","TradingviewScreener.js","Screener.js","HoldingOrderDialog.js","App.js","index.js"],"names":["WatchList","props","bringRusultsComingTodayInView","selector","Date","toISOString","split","document","querySelectorAll","scrollIntoView","this","kitedata","symbolList","kitePerfData","onTableRowclick","tableId","showToast","resultCalenderData","recentResultCalender","kiteBasketOrderData","tableName","tempSymbols","filter","symbol","undefined","ticks","className","colSpan","map","index","key","Fragment","onClick","rowId","style","textAlign","fontWeight","Object","keys","keyindex","toDateString","data","inHolding","React","Component","WatchListRow","openStockInfo","prevProps","change","lastTradedPrice","toFixed","nextProps","Math","abs","isSeperator","changeClass","prefStyle","backgroundColor","color","name","GlobalindexList","rowOrder","investingdata","order","startsWith","HoldingList","positionsdata","holdingsdata","margin","BSEtoNSEsymbolsMapping","i","length","tradingsymbol","hobj","last_price","net","pobj","pnl","sell_value","buy_quantity","sell_quantity","buy_value","totalHoldQty","totalPositionAddQty","totalPositionSellQty","dayPNLMIS","dayPNLCNC","dayPNL","tvalue","misTvalue","cncTvalue","quantity","t1_quantity","product","value","sort","a","b","day_change_percentage","PL","currentValue","totalInvestment","average_price","plClass","round","title","equity","PositionWatchListRow","dayChangeClass","position","profit","isShowNotification","placeBuyLimitOrder","onSuccess","onErrror","transaction_type","fillCNCLimitOrderDetails","placeOrder","placeSellLimitOrder","placeBuyMarketOrder","fillCNCMarketOrderDetails","placeSellMarketOrder","placeBuySLMarketOrder","fillCNCSLMarketOrderDetails","placeSellSLMarketOrder","placeMISBuyLimitOrder","fillMISLimitOrderDetails","placeMISSellLimitOrder","placeMISBuyMarketOrder","fillMISMarketOrderDetails","placeMISSellMarketOrder","placeMISBuySLMarketOrder","fillMISSLMarketOrderDetails","placeMISSellSLMarketOrder","order_type","validity","disclosed_quantity","trigger_price","squareoff","stoploss","trailing_stoploss","variety","user_id","showToastMsg","content","toaster","notify","duration","formattedVals","prop","push","body","join","fetch","method","headers","window","authKey","then","response","json","jsonData","status","order_id","message","catch","error","console","getPosition","getFullQuote","queryString","OrderWindow","fillInputWithLatestPrice","depth","setState","orderStatus","exchange","orderStatusStyle","buyQuantity","buyPrice","buy","price","sellQuantity","sellPrice","sell","setFocusonOrderWindow","textInputBuyQty","select","textInputSellQty","updaetOrderStatus","onInputValueChange","evt","state","target","toogleBuyView","orderWindowView","buyView","localStorage","setItem","JSON","stringify","toogleSellView","sellView","onOnderTypeChange","orderType","onProductTypeChange","productType","onOrderSuccess","updateMarginData","onOrderError","sendBuyOrderRequest","isNaN","Number","parseInt","alert","sendSellOrderRequest","getItem","parse","type","id","checked","for","onKeyUp","event","keyCode","ref","elem","onInput","step","min","max","StockInfo","onColorInput","stockInfo","updateKitePerfData","fetchHistoricalData","ticker","fromdate","setDate","getDate","token","hCandles","candles","bind","isShowGraph","d1","d2","d3","w1","w2","m1","m6","y1","y2","y3","y4","y5","hideStokInfo","addToFavList","removeFromFavList","showFundamentalsDialog","quoteData","isOpenGraph","positions","CNCPosition","find","obj","MISPosition","HOLDPosition","cnc","qty","mis","hold","totalTick","close","LC","UC","hrefGraph","quote","lower_circuit_limit","upper_circuit_limit","src","onDoubleClick","cursor","textDecoration","rel","lowPrice","highPrice","openPrice","closePrice","volumeTradedToday","totalBuyQuantity","totalSellQuantity","BasketOrderDialog","onPositionSuccess","onPositionError","updateOrderStatus","fetchPositionData","showDialog","isHideDialog","updateFillOrderRequest","totalOrderRequest","totalFillOrderRequest","checkFoPendingRequest","noOffendingOrderRequest","rowfRefs","getPendingOrderRequest","totalSelectedRows","isCheckBoxChecked","placeBuyOrderForselectedRow","confirm","rowRef","placeSellOrderForselectedRow","onSQOFFClick","isSoffOnlySelectedRows","perc","prompt","totalValue","fillQtyValueOnSqOffClick","onTpriceClick","fillPriceValueOnTpriceClick","fillQtyForValue","uncheckPositionWithCNCnMIS","count","onSymbolSelect","element","classList","remove","setTimeout","add","setSortOrder","isSortPosition","isSortOnValue","isSortOnPriceChange","isSortOnMISQty","isSortOnDayQty","s1","selectRows","start","end","startIndex","indexOf","endIndex","markCheckBox","uncheckAllRow","totaOrderRequest","interval","setInterval","clearInterval","hideBasketOrderDialog","positionMap","openMIS","totalMIS","dayCNC","kiteBasketOrderDataCopy","v1","previosChangeSortedOrder","v2","buyButtonText","sellButtonText","display","width","ele","marginLeft","fontSize","bottom","onChange","BasketListRow","dayQtyCNC","isRowEnable","orderValue","priceChange","pendingOrderRequest","enable","getOrderValue","checkboxstyle","borderLeft","rowstyle","dayQtyMIS","dqCNCClass","dqMISClass","tabIndex","height","autoComplete","Fundamentals","hideFundamentalsDialog","hrefFunda","endsWith","replace","CurrentTime","checkTime","startTime","today","h","getHours","m","getMinutes","s","getSeconds","timeInterval","currentTime","Search","searchValue","rowMap","toUpperCase","matchs","attributes","rowid","list","searchInput","AllStocksScreener","tempSortedTicks","sortedTicks","t1","t2","AllSectorScreener","fetchAllKiteSectorList","domain","getTime","kiteSectorList","sector","PerformanceScreener","formatData","performanceHistory","performance","d4","d5","d6","w3","w4","m2","m3","m4","m5","fetchPerformanceTicksData","sortonKey","time","performanceData","y6","TradingviewScreener","setUrl","srcUrl","Screener","escFunction","hideScreener","showScreener","isShowScreener","isShowAllStockScreener","isShowAllSectorScreener","isShowPerformanceScreener","isTradingview","newSate","addEventListener","removeEventListener","HoldingOrderDialog","toogleSellBuyCNCMISView","sellBuyCNCMISView","saveHoldingRowOrder","holdingOrder","indertPos","splice","unshift","onHoldingSuccess","onHoldingError","fetchHoldingData","exitSoldPosition","holdinginterval","clearTimeout","misTimeout","hideHoldingOrderDialog","closeCNC","totalCNC","holding","dayMIS","saveRowOrder","combinedPosition","HoldingListRow","sendCNCMISSellBuyOrderRequest","profitPec","holdingValue","holdingQty","App","alertMap","hasOwnProperty","now","onMarginSuccess","onMarginError","showBasketOrderDialog","isShowBasketOrderDialog","basketOrderDialogRef","showHoldingOrderDialog","isShowHoldingOrderDialog","holdingOrderDialogRef","showFundamental","refreshKiteTicksData","isLoadOldPrice","kiteOldPriceData","kiteAllSymbols","refreshData","randomFloat","random","createDummyTicks","randomKey","floor","onFetchMarketQuoteSuccess","onFetchMarketQuoteError","fetchMarketQuote","fetchBSEtoNSEmaapingList","fetchAllKiteSymbolsList","fetchRecentCalenderCSVFile","text","textData","holdingMap","rows","trim","date","saveCurrentPrice","symbolSelector","isShow","includes","getElementById","onSelectorInput","val","allSymbols","item","portfolioId","isAdd","getFavSymbols","listId","favSymbols","favSymbols1","favSymbols2","favSymbols3","setFavSymbols","cursorRowId","deletePos","tradingSymbol","porpKey","propValue","handleChange","delta","source","editor","getHTML","isShowEditor","isShowResults","isShowMIS","isShowGL","indexSymbols","resCalenderTimout","marketQuoteTimeout","kiteTickinterval","gainers","loosers","feedStatusStyle","servTime","kiteTime","clientTime","theme","defaultValue","bringElementInView","segment","textName","expiry","strike","instrument_type","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.87fdc7b7.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass WatchList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n\r\nbringRusultsComingTodayInView=()=>{\r\n      let today = new Date().toISOString().split('T')[0];\r\n      let selector = \"tr[rowid='RESULT-DATE-\"+today+\"']\";\r\n      if(document.querySelectorAll(selector) && document.querySelectorAll(selector)[0]){\r\n        document.querySelectorAll(selector)[0].scrollIntoView();  \r\n      }     \r\n}\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbolList,\r\n      kitePerfData,\r\n      onTableRowclick,\r\n      tableId,\r\n      showToast,\r\n      resultCalenderData,\r\n      recentResultCalender,\r\n      kiteBasketOrderData,\r\n      tableName\r\n    }=this.props;\r\n\r\n    let tempSymbols=[];\r\n    if(kitedata){\r\n       tempSymbols = symbolList.filter(function(symbol){ return (symbol == 'SEPERATOR' || kitedata.ticks[symbol]!=undefined) });\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n\r\n            {!tableName &&  <tr><th>Name</th><th>Change</th><th>LTP</th></tr> }\r\n            {tableName &&  <tr ><th className=\"tableName\" colSpan=\"3\">{tableName}</th></tr> }\r\n\r\n\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { tempSymbols.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={tableId} onTableRowclick={onTableRowclick} key={symbol+index} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n            \r\n            { resultCalenderData && <React.Fragment >\r\n               <tr></tr>\r\n               <tr></tr>\r\n               <tr onClick={this.bringRusultsComingTodayInView} rowId={\"RES-RESCALENDER\"}><td colSpan=\"3\" style={{textAlign:'center',fontWeight:'bold'}}>RES CALENDER</td></tr> \r\n               { resultCalenderData.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={'RES'} onTableRowclick={onTableRowclick} key={'RES-'+index+symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n               \r\n               <tr><td colSpan=\"3\" style={{textAlign:'center'}}>UPCOMMING RESULTS</td></tr>\r\n               {\r\n                Object.keys(recentResultCalender).map((key,keyindex)=>{\r\n                  return <React.Fragment key={key} ><tr rowId={'RESULT-DATE-'+key} key={key+keyindex}><td colSpan=\"3\" className=\"resultDate\">{new Date(key).toDateString()}</td></tr>\r\n                  {recentResultCalender[key].map((data,index)=> <WatchListRow showToast={showToast}  onTableRowclick={onTableRowclick} key={'UPCOMMING-RES-'+index+data.symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={data.symbol} inHolding={data.inHolding}/>)}\r\n                </React.Fragment>\r\n                })\r\n               }\r\n\r\n                \r\n             </React.Fragment>}\r\n\r\n\r\n            { kiteBasketOrderData && <React.Fragment >\r\n               <tr></tr>\r\n               <tr></tr>\r\n               <tr rowId={\"MIS-MISSCRIPTS\"} ><td colSpan=\"3\" style={{textAlign:'center',fontWeight:'bold'}}>MIS SCRIPTS</td></tr> \r\n               { kiteBasketOrderData.map((symbol,index)=> <WatchListRow showToast={showToast} tableId={'MIS'} onTableRowclick={onTableRowclick} key={'MIS-'+index+symbol} kitedata={kitedata} kitePerfData={kitePerfData} symbol={symbol} />)}\r\n             </React.Fragment>}\r\n\r\n\r\n            </tbody>\r\n\r\n\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default WatchList;\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n    if(this.props.showToast){\r\n      let symbol = this.props.symbol;\r\n       if (symbol!= 'SEPERATOR' && prevProps.symbol == symbol ) {\r\n         if(prevProps.kitedata.ticks[symbol].change < 1.5 && this.props.kitedata.ticks[symbol].change > 1.5\r\n          ||   prevProps.kitedata.ticks[symbol].change < 3 && this.props.kitedata.ticks[symbol].change > 3\r\n          || prevProps.kitedata.ticks[symbol].change < 5 && this.props.kitedata.ticks[symbol].change > 5\r\n          || prevProps.kitedata.ticks[symbol].change < 8 && this.props.kitedata.ticks[symbol].change > 8\r\n          || prevProps.kitedata.ticks[symbol].change < 9.5 && this.props.kitedata.ticks[symbol].change > 9.5\r\n          || prevProps.kitedata.ticks[symbol].change < 13 && this.props.kitedata.ticks[symbol].change > 13\r\n          || prevProps.kitedata.ticks[symbol].change < 15 && this.props.kitedata.ticks[symbol].change > 15\r\n          ){\r\n\r\n          this.props.showToast(<div onClick={this.openStockInfo} className='green'>{this.props.symbol +\"  ->  \" + (this.props.kitedata.ticks[symbol].lastTradedPrice)}&nbsp;(<span>{(this.props.kitedata.ticks[symbol].change).toFixed(2)}</span>%)</div>,this.props.symbol);\r\n\r\n         }\r\n\r\n\r\n         if( prevProps.kitedata.ticks[symbol].change > -1.5 && this.props.kitedata.ticks[symbol].change < -1.5\r\n          || prevProps.kitedata.ticks[symbol].change > -3 && this.props.kitedata.ticks[symbol].change < -3\r\n          || prevProps.kitedata.ticks[symbol].change > -5 && this.props.kitedata.ticks[symbol].change < -5\r\n          || prevProps.kitedata.ticks[symbol].change > -8 && this.props.kitedata.ticks[symbol].change < -8\r\n          || prevProps.kitedata.ticks[symbol].change > -9.5 && this.props.kitedata.ticks[symbol].change < -9.5\r\n          || prevProps.kitedata.ticks[symbol].change > -13 && this.props.kitedata.ticks[symbol].change < -13\r\n          || prevProps.kitedata.ticks[symbol].change > -15 && this.props.kitedata.ticks[symbol].change < -15\r\n          ){\r\n\r\n          this.props.showToast(<div onClick={this.openStockInfo} className='red'>{this.props.symbol +\"  ->  \" + (this.props.kitedata.ticks[symbol].lastTradedPrice)}&nbsp;(<span>{(this.props.kitedata.ticks[symbol].change).toFixed(2)}</span>%)</div>,this.props.symbol);\r\n\r\n         }\r\n\r\n\r\n       }\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol,this.props.tableId);\r\n  }\r\n\r\n\r\n  \r\n  shouldComponentUpdate(nextProps) {\r\n    const{\r\n      symbol,\r\n      kitedata\r\n    }=this.props;\r\n\r\n    if(symbol != nextProps.symbol ){\r\n      return true;\r\n    }else if(symbol=='SEPERATOR'){\r\n      return false;\r\n    }else if(Math.abs(kitedata.ticks[symbol].lastTradedPrice - nextProps.kitedata.ticks[symbol].lastTradedPrice) > 0.04){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }        \r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      kitePerfData,\r\n      onTableRowclick,\r\n      tableId,\r\n      inHolding //use for result calender\r\n    }=this.props;\r\n\r\n    let isSeperator = (symbol =='SEPERATOR')?true:false;\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n    \r\n    let prefStyle = {};\r\n    if(kitePerfData && kitePerfData[symbol]){\r\n      prefStyle.backgroundColor=kitePerfData[symbol].color;\r\n    }\r\n    if(inHolding==true){\r\n      prefStyle.backgroundColor = 'lightgray';\r\n    }\r\n\r\n    return (\r\n      <tr onClick={this.openStockInfo} rowId={tableId?(tableId+\"-\"+symbol):symbol}>\r\n        {!isSeperator &&   <td style={prefStyle}>{kitedata.ticks[symbol].name}</td> }\r\n        {!isSeperator &&   <td className={changeClass} >{(kitedata.ticks[symbol].change).toFixed(2)}</td> }\r\n        {!isSeperator &&   <td>{kitedata.ticks[symbol].lastTradedPrice}</td> }              \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass GlobalindexList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.rowOrder=[4,1,2,3,6,7,8,11,12,13];\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      investingdata\r\n    }=this.props;\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { this.rowOrder.map((order,index)=> <WatchListRow key={investingdata.index[order][0]+index} investingdata={investingdata} data={investingdata.index[order]} />)}\r\n             \r\n            </tbody>\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default GlobalindexList;\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      data\r\n    }=this.props;\r\n\r\n\r\n    let changeClass =data[13].startsWith(\"-\") ?'red':'green';\r\n    \r\n      return (\r\n        <tr>\r\n          <td>{data[0]}</td> \r\n          <td className={changeClass} >{data[13]}</td>            \r\n         </tr>\r\n      );\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass HoldingList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      positionsdata,\r\n      holdingsdata,\r\n       onTableRowclick,\r\n       margin,\r\n       kitedata,\r\n       BSEtoNSEsymbolsMapping\r\n    }=this.props;\r\n\r\n\r\n  if(holdingsdata && holdingsdata.data){      \r\n      for( let i=0;i< holdingsdata.data.length; i++){\r\n        if(BSEtoNSEsymbolsMapping[holdingsdata.data[i].tradingsymbol]){\r\n          holdingsdata.data[i].tradingsymbol = BSEtoNSEsymbolsMapping[holdingsdata.data[i].tradingsymbol];\r\n        }\r\n        let hobj = holdingsdata.data[i];\r\n          if(kitedata.ticks[hobj.tradingsymbol]){\r\n            hobj.last_price =  kitedata.ticks[hobj.tradingsymbol].lastTradedPrice;\r\n          }          \r\n      }\r\n  }\r\n  if(positionsdata && positionsdata.data){\r\n    for( let i=0;i< positionsdata.data.net.length; i++){\r\n          let pobj = positionsdata.data.net[i];\r\n          if(kitedata.ticks[pobj.tradingsymbol]){\r\n            pobj.last_price =  kitedata.ticks[pobj.tradingsymbol].lastTradedPrice;\r\n            pobj.pnl = pobj.sell_value + (pobj.buy_quantity - pobj.sell_quantity)*pobj.last_price - pobj.buy_value;\r\n          }             \r\n    }\r\n  }\r\n\r\n\r\n\r\n\t//update total position\r\n\tlet totalHoldQty=0;let totalPositionAddQty=0;let totalPositionSellQty=0; let dayPNLMIS=0;let dayPNLCNC=0;\tlet dayPNL=0;\r\n  let tvalue=0;let misTvalue=0;let cncTvalue=0;\r\n\r\n\tif(holdingsdata && holdingsdata.data && positionsdata && positionsdata.data){\r\n\t\t\t\r\n\t\t\tfor( let i=0;i< holdingsdata.data.length; i++){\r\n\t\t\t\tlet hobj = holdingsdata.data[i];\r\n\t\t\t\ttotalHoldQty = totalHoldQty + (hobj.quantity + hobj.t1_quantity);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(positionsdata.data.net){\r\n\t\t\t\tfor( let i=0;i< positionsdata.data.net.length; i++){\r\n\t\t\t\t\tlet pobj = positionsdata.data.net[i];\r\n\t\t\t\t\tif(pobj.product == 'CNC'){\r\n\t\t\t\t\t\tif(pobj.quantity > 0){\r\n\t\t\t\t\t\t\ttotalPositionAddQty = totalPositionAddQty + pobj.quantity;\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttotalPositionSellQty = totalPositionSellQty + pobj.quantity;\t\r\n\t\t\t\t\t\t}\t\t\r\n\r\n            dayPNLCNC += pobj.pnl;\r\n            cncTvalue += pobj.value;\r\n\t\t\t\t\t}else if(pobj.product == 'MIS'){\r\n            dayPNLMIS+= pobj.pnl;\r\n            misTvalue += pobj.value;\r\n          }\t\t\t\t\t\r\n          dayPNL += pobj.pnl;\r\n          tvalue += pobj.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\tholdingsdata.data.sort(function(a, b){return a.day_change_percentage-b.day_change_percentage});\r\n\r\n\r\n  positionsdata.data.net.sort(function(a, b){\r\n    if(a.product == 'MIS' && b.product=='MIS'){\r\n      if(a.quantity != 0 && b.quantity != 0) return a.pnl - b.pnl;\r\n      else return b.quantity - a.quantity;    \r\n    }else if(a.product == 'MIS' && b.product=='CNC'){\r\n       return -1; \r\n    }else if(a.product == 'CNC' && b.product=='MIS'){\r\n       return 1; \r\n    }else { //CNC-CNC\r\n        if(a.quantity !=0 && b.quantity!=0)\r\n            return b.quantity - a.quantity;\r\n        else if(a.quantity == 0)\r\n            return 1;\r\n        else if(b.quantity == 0)\r\n            return -1;\r\n        else\r\n          return 0;  \r\n    }\r\n  });\r\n\r\n\r\n    let PL=0;\r\n    let currentValue=0;\r\n    let totalInvestment=0;\r\n    for( let i=0;i< holdingsdata.data.length; i++){\r\n    \tlet data = holdingsdata.data[i];\r\n\t\tcurrentValue = currentValue + (data.quantity + data.t1_quantity)*data.last_price;\r\n\t\ttotalInvestment = totalInvestment + (data.quantity + data.t1_quantity)*data.average_price;\r\n    }\r\n    PL = Math.round(currentValue - totalInvestment);\r\n\r\n    let plClass = PL<0 ?'red':'green';\r\n    document.title=Math.round(PL/1000) +\"K ( \"+(PL*100/totalInvestment).toFixed(2)+\"%) \"\r\n\r\n    return (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Change</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <tr key='summary' >\r\n              \t<td colSpan='2' className='summaryRow'>\r\n              \t <span className='totalValue'>{(currentValue/100000).toFixed(2)}</span>L&nbsp;&nbsp;&nbsp;<span className={plClass}>{`${Math.round(PL)}(${(PL*100/totalInvestment).toFixed(2)}%)` }</span>{margin && <span>&nbsp;{(margin.data.equity.net/1000).toFixed(1)}K</span>}\r\n              \t</td> \r\n              </tr>\r\n\r\n              <tr key='position' >\r\n              \t<td colSpan='2' className='positionRow'>\r\n              \t <span>{totalHoldQty}&nbsp;|{totalPositionAddQty}&nbsp;|{totalPositionSellQty}&nbsp;&nbsp;=&nbsp;{(totalHoldQty+totalPositionAddQty)}</span>\r\n              \t</td> \r\n              </tr>\r\n\r\n\r\n              <tr key='daypositionsummary' >\r\n                <td colSpan='2' className='summaryRow'>\r\n                 <span className={ dayPNL<0 ?'red':'green'}>{(dayPNL/1000).toFixed(2)}K</span>&nbsp;&nbsp;&nbsp;\r\n                 <span className='bracketValue'>&nbsp;<span className={ dayPNLCNC<0 ?'red':'green'}>{`${(dayPNLCNC).toFixed(2)}` }</span>C</span>&nbsp;&nbsp;                 \r\n                 <span className='bracketValue'>&nbsp;<span className={ dayPNLMIS<0 ?'red':'green'}>{`${Math.round(dayPNLMIS)}` }</span>M</span>\r\n                </td> \r\n              </tr>\r\n\r\n              <tr key='dayposition' >\r\n                <td colSpan='2' className='positionRow'>\r\n                 <span>{cncTvalue.toFixed(0)}&nbsp;|&nbsp;{misTvalue.toFixed(0)}&nbsp;&nbsp;&nbsp;=&nbsp;{(tvalue.toFixed(0))}</span>\r\n                </td> \r\n              </tr>\r\n\r\n              { positionsdata.data.net.map((data,index)=> <PositionWatchListRow  onTableRowclick={onTableRowclick}  key={'POS-'+index+ data.tradingsymbol} data={data} />) }\r\n\r\n              <tr></tr>\r\n\r\n              <tr key='summary-row-2' >\r\n                <td colSpan='2' className='summaryRow'>\r\n                 <span className='totalValue'>{(currentValue/100000).toFixed(2)}</span>L&nbsp;&nbsp;&nbsp;<span className={plClass}>{`${Math.round(PL)}(${(PL*100/totalInvestment).toFixed(2)}%)` }</span>\r\n                </td> \r\n              </tr>              \r\n\r\n             { holdingsdata.data.map((data,index)=> <WatchListRow  onTableRowclick={onTableRowclick} key={'HOLD-'+index+ data.tradingsymbol} data={data} />) }\r\n             \r\n            </tbody>\r\n\r\n\r\n        </table>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default HoldingList;\r\n\r\n\r\n\r\n\r\n\r\nclass PositionWatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.data.tradingsymbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n  data\r\n    }=this.props;\r\n\r\n\r\n\r\n    let dayChangeClass  = data.pnl <0 ?'red':'green';\r\n\r\n      return (\r\n        <tr rowId={'POS-'+data.tradingsymbol} onClick={this.openStockInfo} className={data.quantity==0?'lavender':''}>\r\n        <td style={{position:'relative'}} >{data.tradingsymbol}&nbsp;<span className={'holdQty ' + (data.quantity<0?'red':'green')}>({data.quantity})</span><span className='productType'>{data.product}</span></td>\r\n        <td>\r\n        <span className='last_price'>{data.last_price.toFixed(2)}</span>&nbsp;&nbsp;<span style={{fontWeight:'bold'}} className={'holdDayChg ' + dayChangeClass}>{ data.pnl.toFixed(2)}</span>\r\n        <br></br>\r\n        <span className='positionValue'>{Math.round((data.value)/1000) }k</span>\r\n\r\n        </td>\r\n        </tr>\r\n      );\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.data.tradingsymbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n\tdata\r\n    }=this.props;\r\n\r\n    let profit = \t(data.quantity + data.t1_quantity)*data.last_price - (data.quantity + data.t1_quantity)*data.average_price;\r\n\r\n\r\n    let dayChangeClass  = data.day_change_percentage <0 ?'red':'green';\r\n    let plClass = profit<0 ?'red':'green';\r\n\r\n      return (\r\n        <tr rowId={'HOLD-'+data.tradingsymbol} onClick={this.openStockInfo}>\r\n        <td>{data.tradingsymbol}<span className='holdQty'>({data.quantity + data.t1_quantity})</span>&nbsp;&nbsp;<span className='holdValue'>({Math.round((data.quantity + data.t1_quantity)*data.last_price/1000) })</span></td>\r\n        <td>\r\n        <span className='last_price'>{data.last_price.toFixed(2)}</span>&nbsp;&nbsp;<span className={'holdDayChg ' + dayChangeClass}>{ data.day_change_percentage.toFixed(2)}</span>\r\n        <br></br>\r\n        <span className={'holdPL '+plClass}>{Math.round(profit)}</span>&nbsp;&nbsp;<span className={'holdPLPec '+plClass}>{ (profit*100/((data.quantity + data.t1_quantity)*data.average_price)).toFixed(2)}%</span>\r\n\r\n        </td>\r\n        </tr>\r\n      );\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport toaster from \"toasted-notes\";\r\nimport \"toasted-notes/src/styles.css\"; \r\n\r\n\r\nlet isShowNotification = true;\r\n\r\nexport const  placeBuyLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport const  placeBuyMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport const  placeBuySLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillCNCSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeSellSLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillCNCSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const  placeMISBuyLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellLimitOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISLimitOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\nexport const  placeMISBuyMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\nexport const  placeMISBuySLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'BUY';\r\n\tfillMISSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\nexport  const placeMISSellSLMarketOrder=(data,onSuccess,onErrror)=>{\r\n\tdata.transaction_type = 'SELL';\r\n\tfillMISSLMarketOrderDetails(data);\r\n\tplaceOrder(data,onSuccess,onErrror);\r\n}\r\n\r\n\r\nconst fillCNCLimitOrderDetails=(data)=>{\r\n\tdata.order_type = 'LIMIT';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillCNCMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'MARKET';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillCNCSLMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'SL-M';\r\n\tdata.product = 'CNC';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst fillMISLimitOrderDetails=(data)=>{\r\n\tdata.order_type = 'LIMIT';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\n\r\nconst fillMISMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'MARKET';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.trigger_price = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst fillMISSLMarketOrderDetails=(data)=>{\r\n\tdata.order_type = 'SL-M';\r\n\tdata.product = 'MIS';\r\n\tdata.validity = 'DAY';\r\n\tdata.disclosed_quantity = 0;\r\n\tdata.squareoff = 0;\r\n\tdata.stoploss = 0;\r\n\tdata.trailing_stoploss = 0;\r\n\tdata.variety = 'regular';\r\n\tdata.user_id = 'DA6170';\r\n}\r\n\r\nconst showToastMsg=(content)=>{\r\n\tif(isShowNotification){\r\n\t    toaster.notify(content, {\r\n\t      position: \"top-right\", // top-left, top, top-right, bottom-left, bottom, bottom-right\r\n\t      duration: 3000 // This notification will not automatically close\r\n\t    });\t\t\r\n\t}\r\n}\r\n\r\nexport const showNotification=(isShow)=>{\r\n\tisShowNotification = isShow;\r\n}\r\n\r\nconst placeOrder=(data,onSuccess,onErrror)=>{\r\n\r\n\tconst  formattedVals = [];\r\n    for(let prop in data){\r\n        formattedVals.push(prop + \"=\" + data[prop]);\r\n    }\r\n    const body = formattedVals.join(\"&\");\r\n    \r\n      fetch('https://kite.zerodha.com/oms/orders/regular',\r\n      \t{\r\n\t      \tmethod: 'POST',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t},\r\n\t      \tbody:body\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n\t\t\t\tshowToastMsg((<span className={'green'}>{data.tradingsymbol} &nbsp;&nbsp;O_ID->{jsonData.data.order_id}</span>));        \t\t\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t\tshowToastMsg((<span className={'red'}>{data.tradingsymbol} &nbsp;&nbsp; ->{jsonData.message}</span>));   \r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n\r\n   \t\tshowToastMsg((<span className={data.transaction_type=='BUY'?'green':'red'}>{data.tradingsymbol} &nbsp;&nbsp;{data.product} &nbsp;Q->{data.quantity}</span>));\t\r\n}\r\n\r\n\r\n\r\nexport const getMargin=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/user/margins',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\n\r\nexport const getPosition=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/portfolio/positions',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\nexport const getHolding=(onSuccess,onErrror)=>{\r\n\r\n      fetch('https://kite.zerodha.com/oms/portfolio/holdings',\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n\r\n\r\n\r\nexport const getFullQuote=(queryString,onSuccess,onErrror)=>{\r\n\r\n      fetch('https://api.kite.trade/quote?'+queryString,\r\n      \t{\r\n\t      \tmethod: 'GET',\r\n\t      \theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t})\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \t//console.info(jsonData);\r\n        \tif(jsonData.status == 'success'){\r\n        \t\tonSuccess(jsonData);\r\n        \t}else if(jsonData.status == 'error'){\r\n        \t\tonErrror(jsonData);\r\n        \t}        \t\t\r\n        })\r\n        .catch((error) => {        \t\r\n          console.error(error);\r\n          onErrror(error);\r\n        });\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport {placeBuyLimitOrder,placeSellLimitOrder,placeBuyMarketOrder,placeSellMarketOrder,placeBuySLMarketOrder,placeSellSLMarketOrder,placeMISBuyLimitOrder,placeMISSellLimitOrder,placeMISBuyMarketOrder,placeMISSellMarketOrder,getPosition,placeMISBuySLMarketOrder,placeMISSellSLMarketOrder} from './OrderUtil';\r\n\r\n\r\nclass OrderWindow extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);\r\n\t    let orderWindowView = {buyView:true,sellView:true,orderType:\"LIMIT\",productType:\"CNC\"};\r\n\t    orderWindowView = localStorage.getItem(\"orderWindowView.json\")!=undefined ?JSON.parse(localStorage.getItem(\"orderWindowView.json\")):orderWindowView;\t    \r\n\t    this.state={orderWindowView:orderWindowView};    \r\n\r\n\t\tthis.textInputBuyQty  = null;\r\n\t\tthis.textInputSellQty = null;\t    \r\n\t  }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif(prevProps.symbol != this.props.symbol){\r\n\t\t\tthis.fillInputWithLatestPrice();\r\n\t\t}\r\n\t}\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\r\n\t  \tthis.setState({orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol,orderStatusStyle:{},buyQuantity:'',buyPrice:depth.buy[0].price,sellQuantity:'',sellPrice:depth.sell[0].price});\r\n\r\n\t  \tthis.setFocusonOrderWindow();\r\n\r\n  \t}\r\n\r\n\r\n  }\r\n\r\n setFocusonOrderWindow=()=>{\r\n\t\t// setTimeout(() => {\r\n\t\t//       \tif(this.textInputBuyQty ){\r\n\t\t//   \t\t\tthis.textInputBuyQty.select();\r\n\t\t// \t  \t}else if(this.textInputSellQty ){\r\n\t\t// \t  \t\tthis.textInputSellQty.select();\r\n\t\t// \t  \t}\r\n\t\t//   }, 0);\r\n\r\n      \tif(this.textInputBuyQty ){\r\n  \t\t\tthis.textInputBuyQty.select();\r\n\t  \t}else if(this.textInputSellQty ){\r\n\t  \t\tthis.textInputSellQty.select();\r\n\t  \t}\r\n }\r\n\r\n\r\n updaetOrderStatus=(orderStatus)=>{\r\n \tthis.setState({orderStatus:orderStatus});\r\n }\r\n\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      buyQuantity,\r\n      buyPrice,\r\n      sellQuantity,\r\n      sellPrice,\r\n      orderStatus,\r\n      orderStatusStyle\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n\r\n  \tif(evt.target.name == 'buyQuantity'){\r\n  \t\tbuyQuantity=evt.target.value;\r\n  \t\tthis.setState({buyQuantity:buyQuantity,orderStatusStyle:{color:'green'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+buyQuantity+\" )  ( P-> \"+buyPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'buyPrice'){\r\n  \t\t buyPrice=evt.target.value;\r\n  \t\tthis.setState({buyPrice:buyPrice,orderStatusStyle:{color:'green'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+buyQuantity+\" )  ( P-> \"+buyPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'sellQuantity'){\r\n  \t\tsellQuantity=evt.target.value;\r\n  \t\tthis.setState({sellQuantity:sellQuantity,orderStatusStyle:{color:'red'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+sellQuantity+\" )  ( P-> \"+sellPrice+\" )\"});\r\n  \t}else if(evt.target.name == 'sellPrice'){\r\n  \t\tsellPrice=evt.target.value;\r\n  \t\tthis.setState({sellPrice:sellPrice,orderStatusStyle:{color:'red'},orderStatus:kitedata.ticks[symbol].exchange+'::'+symbol +\" ( Q-> \"+sellQuantity+\" )  ( P-> \"+sellPrice+\" )\"});\r\n  \t}\r\n\r\n\r\n  }\r\n\r\n\r\ntoogleBuyView=()=>{\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.buyView=!orderWindowView.buyView;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\t\r\n}\r\n\r\n\r\ntoogleSellView=()=>{\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.sellView=!orderWindowView.sellView;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\r\n}\r\n\r\n\r\nonOnderTypeChange=(evt)=>{\r\n  if(evt.target.name=='orderType'){\r\n    let orderType = evt.target.value;\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.orderType=orderType;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\r\n  }\r\n}\r\n\r\n\r\nonProductTypeChange=(evt)=>{\r\n  if(evt.target.name=='productType'){\r\n  \tlet productType = evt.target.value;\r\n\tlet orderWindowView = this.state.orderWindowView;\r\n\torderWindowView.productType=productType;\r\n\tthis.setState({orderWindowView:orderWindowView});\r\n\tlocalStorage.setItem(\"orderWindowView.json\", JSON.stringify(orderWindowView));\t\r\n  }\r\n}\r\n\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n\tthis.setState({orderStatus:data.data.order_id});\r\n//\tthis.setFocusonOrderWindow();\r\n\tthis.props.updateMarginData();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n\tthis.setState({orderStatus:data.message});\r\n//\tthis.setFocusonOrderWindow();\r\n\tthis.props.updateMarginData();\r\n}\r\n\r\n\r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      buyQuantity,\r\n      buyPrice,\r\n      orderWindowView\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n    const {\tproductType,\r\n    \t\torderType\r\n    } = orderWindowView;\r\n\r\n\r\n    if(isNaN(buyQuantity) || isNaN(buyPrice) || isNaN(Number.parseInt(buyQuantity))){\r\n    \twindow.alert('Invalid input');\r\n    \treturn;\r\n    }\r\n\r\n\r\n    if(productType == \"CNC\"){\r\n\r\n\t   if(orderType==\"MARKET\"){\r\n\t      placeBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n\t   } else if(orderType==\"LIMIT\"){\r\n\t      placeBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);   \r\n\t   }else if(orderType==\"SL_MARKET\"){\r\n\t      placeBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,trigger_price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n\t   }\r\n\r\n    }else if(productType == \"MIS\"){\r\n\t   if(orderType==\"MARKET\"){\r\n\t      placeMISBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n\t   } else if(orderType==\"LIMIT\"){\r\n\t      placeMISBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n\t   } else if(orderType==\"SL_MARKET\"){\r\n\t      placeMISBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:buyPrice,trigger_price:buyPrice,quantity:buyQuantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n\t   }\r\n    }\r\n\r\n    this.setState({buyQuantity:'',sellQuantity:''});\r\n\t\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      sellQuantity,\r\n      sellPrice,\r\n      orderWindowView\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n\r\n    const {\tproductType,\r\n    \t\torderType\r\n    } = orderWindowView;\r\n\r\n\r\n    if(isNaN(sellQuantity) || isNaN(sellPrice) || isNaN(Number.parseInt(sellQuantity))){\r\n    \twindow.alert('Invalid input');\r\n    \treturn;\r\n    }\r\n\r\n\r\n    if(productType == \"CNC\"){\r\n\t   if(orderType==\"MARKET\"){\r\n\t      placeSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n\t   }else if(orderType==\"LIMIT\"){\r\n\t      placeSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n\t   }else if(orderType==\"SL_MARKET\"){\r\n\t      placeSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,trigger_price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n\t   } \r\n\r\n    }else if(productType == \"MIS\"){\r\n\t   if(orderType==\"MARKET\"){\r\n\t      placeMISSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n\t   }else if(orderType==\"LIMIT\"){\r\n\t      placeMISSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n\t   }else if(orderType==\"SL_MARKET\"){\r\n\t      placeMISSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:sellPrice,trigger_price:sellPrice,quantity:sellQuantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n\t   } \r\n    }\r\n\r\n\tthis.setState({buyQuantity:'',sellQuantity:''});\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\t \t\r\n\t    const{\r\n\t      kitedata,\r\n\t      symbol\r\n\t    }=this.props;\r\n\r\n\r\n\t    const{\r\n\t      buyQuantity,\r\n\t      buyPrice,\r\n\t      sellQuantity,\r\n\t      sellPrice,\r\n\t      orderStatus,\r\n\t      orderStatusStyle,\r\n\t      orderWindowView\r\n\t    }=this.state;\r\n\r\n\r\n\t    let depth = kitedata.ticks[symbol].depth;\t\r\n\r\n\r\n\t    return (\r\n\t\t\t\t<div className=\"orderView\">\r\n\t\t\t\t<button className=\"favButton orderToggleBtn\"  onClick={this.toogleSellView} type=\"button\">SW</button>\r\n\t\t\t\t<button className=\"favButton orderToggleBtn\"  onClick={this.toogleBuyView} type=\"button\">BW</button>\r\n\r\n\t\t\t\t<div className=\"line\"></div>\t\t\r\n\t\t\t\t\r\n\t\t\t{\t(orderWindowView.buyView || orderWindowView.sellView) && depth &&\r\n\r\n\t\t\t\t<div className=\"orderSelection\">\r\n\r\n\t\t\t        <div className=\"productTypeSelec orderType\">      \r\n\t\t\t          <input type=\"radio\" name=\"productType\" onClick={this.onProductTypeChange} id=\"PRODUCT_TYPE_CNC\" checked={orderWindowView.productType==\"CNC\"?true:false} value=\"CNC\"/><label style={{fontWeight:orderWindowView.productType==\"CNC\"?'bold':'normal'}}  for=\"PRODUCT_TYPE_CNC\">CNC</label>\r\n\t\t\t          <input type=\"radio\" name=\"productType\" onClick={this.onProductTypeChange} id=\"PRODUCT_TYPE_MIS\" checked={orderWindowView.productType==\"MIS\"?true:false} value=\"MIS\"/><label style={{fontWeight:orderWindowView.productType==\"MIS\"?'bold':'normal'}}  for=\"PRODUCT_TYPE_MIS\">MIS</label>\r\n\t\t\t        </div>\r\n\r\n\r\n\t\t\t        <div className=\"orderType\">      \r\n\t\t\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_MARKET\" checked={orderWindowView.orderType==\"MARKET\"?true:false} value=\"MARKET\"/><label style={{fontWeight:orderWindowView.orderType==\"MARKET\"?'bold':'normal'}} for=\"ORDER_TYPE_MARKET\">M</label>\r\n\t\t\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_LIMIT\" checked={orderWindowView.orderType==\"LIMIT\"?true:false} value=\"LIMIT\"/><label  style={{fontWeight:orderWindowView.orderType==\"LIMIT\"?'bold':'normal'}} for=\"ORDER_TYPE_LIMIT\">L</label>\r\n\t\t\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_SL_MARKET\" checked={orderWindowView.orderType==\"SL_MARKET\"?true:false} value=\"SL_MARKET\"/><label style={{fontWeight:orderWindowView.orderType==\"SL_MARKET\"?'bold':'normal'}}  for=\"ORDER_TYPE_SL_MARKET\">SL_M</label>\r\n\t\t\t        </div>\r\n\r\n\r\n\t\t\t        <div className=\"line\"></div>\r\n\t\t        </div>\r\n\t\t    }    \r\n\r\n\t\t\t\t<div style={orderStatusStyle} className=\"orderStatusView\">{orderStatus}</div>\r\n\t\t\t\t<br/>\r\n\t\t\t\r\n\t\t\t{orderWindowView.buyView && depth &&\r\n\t\t\t\t<div className=\"buyOrderView\" onKeyUp={event=>{ if(event.keyCode === 13) { this.sendBuyOrderRequest();}}}>\r\n\t\t\t\t\t \r\n\t\t\t\t\t  <label for=\"buyQuantity\">Q:</label>\r\n\t\t\t\t\t  <input type=\"number\"   ref={elem => (this.textInputBuyQty = elem)} onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"buyQuantity\" step={1} name=\"buyQuantity\" min=\"1\" max=\"1000\" value={buyQuantity}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <label for=\"buyPrice\">P:</label>\r\n\t\t\t\t\t  <input type=\"number\" onClick={event => event.target.select()}  onInput={this.onInputValueChange} className=\"buyPrice\" step={0.2} name=\"buyPrice\" min=\"1\" max=\"10000\" value={buyPrice}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <button className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{orderWindowView.sellView && depth &&\r\n\r\n\t\t\t\t<div className=\"sellOrderView\" onKeyUp={event=>{ if(event.keyCode === 13) { this.sendSellOrderRequest();}}} >\r\n\t\t\t\t\r\n\t\t\t\t\t  <label for=\"sellQuantity\">Q:</label>\r\n\t\t\t\t\t  <input type=\"number\"   ref={elem => (this.textInputSellQty = elem)} onClick={event => event.target.select()}  onInput={this.onInputValueChange}  className=\"sellQuantity\" step={1} name=\"sellQuantity\" min=\"1\" max=\"1000\" value={sellQuantity}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <label for=\"sellPrice\">P:</label>\r\n\t\t\t\t\t  <input type=\"number\"  onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"sellPrice\" step={0.2} name=\"sellPrice\" min=\"1\" max=\"10000\" value={sellPrice}></input>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <button className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default OrderWindow;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport OrderWindow from './OrderWindow';\r\n\r\nclass StockInfo extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state={};\r\n  }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchHistoricalData();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n     if (prevProps.stockInfo.symbol !== this.props.stockInfo.symbol) {\r\n       this.fetchHistoricalData();\r\n       this.setState({isShowGraph:false});\r\n     }\r\n   }\r\n\r\n    onColorInput=(evt)=>{    \t\r\n\r\n\t    const{\r\n\t      stockInfo,\r\n\t      updateKitePerfData\r\n\t    }=this.props;\r\n\r\n\t\tupdateKitePerfData(stockInfo.symbol,'color',evt.target.value);\r\n    }\r\n\r\n\r\n\r\n fetchHistoricalData =()=>{\r\n \tlet ticker = this.props.kitedata.ticks[this.props.stockInfo.symbol];\r\n\r\n\t\t let fromdate = new Date();\r\n\t\t fromdate.setDate(fromdate.getDate()-2000);\r\n\r\n      fetch('https://api.kite.trade/instruments/historical/'+ticker.token+'/day?from='+fromdate.toISOString().split('T')[0]+'&to='+new Date().toISOString().split('T')[0],\r\n      {\r\n      \tmethod: 'GET',\r\n      \theaders: {\r\n\t\t\t\t\"X-Kite-Version\":\"3\",\r\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t\t\t\"authorization\": window.authKey\r\n\t\t\t}\r\n      \t}\r\n      \t)\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tthis.setState({hCandles:jsonData.data.candles});\r\n        }.bind(this))\r\n        .catch((error) => {\r\n          console.error(error)\r\n        });\r\n\r\n}\r\n\r\n\r\n\r\n  render() {\r\n \t\r\n    const{\r\n      hCandles,\r\n      isShowGraph\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      updateKitePerfData,\r\n      stockInfo,\r\n      hideStokInfo,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      showFundamentalsDialog,\r\n      updateMarginData,\r\n      quoteData,\r\n      isOpenGraph,\r\n      positionsdata,\r\n      holdingsdata\r\n    }=this.props;\r\n\r\n    const{\r\n      symbol,\r\n      tableId\r\n    }=stockInfo;\r\n\r\n\r\n    let positions = undefined;\r\n\tif(holdingsdata && holdingsdata.data && positionsdata && positionsdata.data){\r\n\t\tlet CNCPosition = positionsdata.data.net.find(obj=>obj.tradingsymbol==symbol && obj.product=='CNC');\r\n\t\tlet MISPosition = positionsdata.data.net.find(obj=>obj.tradingsymbol==symbol && obj.product=='MIS');\r\n\t\tlet HOLDPosition= holdingsdata.data.find(obj=>obj.tradingsymbol==symbol);\r\n\r\n\t\tif(CNCPosition || MISPosition || HOLDPosition){\r\n\t\t\tpositions={};\r\n\t\t\tif(CNCPosition){\r\n\t\t\t\tpositions.cnc={qty:CNCPosition.quantity,pnl:CNCPosition.pnl.toFixed(0),value:Math.round((CNCPosition.value)/1000)};\r\n\t\t\t}\r\n\t\t\tif(MISPosition){\r\n\t\t\t\tpositions.mis={qty:MISPosition.quantity,pnl:MISPosition.pnl.toFixed(0),value:Math.round((MISPosition.value)/1000)};\r\n\t\t\t}\r\n\t\t\tif(HOLDPosition){\r\n\t\t\t\tlet qty = HOLDPosition.quantity + HOLDPosition.t1_quantity;\r\n\t\t\t\tlet profit = \t(HOLDPosition.quantity + HOLDPosition.t1_quantity)*HOLDPosition.last_price - (HOLDPosition.quantity + HOLDPosition.t1_quantity)*HOLDPosition.average_price;\r\n\t\t\t\tpositions.hold={qty:qty,pnl:profit.toFixed(0),value:Math.round(qty*HOLDPosition.last_price/1000)};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\nlet d1,d2,d3,w1,w2,m1,m6,y1,y2,y3,y4,y5;\r\n\r\nif(hCandles){\r\n\tlet data=hCandles;\r\n\tlet totalTick = data.length-1;\r\n\tlet close = data[totalTick][4];\r\n\r\n\td1 = Number.parseInt(-(data[totalTick-1][4]-close)*100/data[totalTick-1][4]);\r\n    d2=Number.parseInt(-(data[totalTick-2][4]-close)*100/data[totalTick-2][4]);\r\n    d3=Number.parseInt(-(data[totalTick-3][4]-close)*100/data[totalTick-3][4]);\r\n    w1=Number.parseInt(-(data[totalTick-5][4]-close)*100/data[totalTick-5][4]);\r\n    w2=Number.parseInt(-(data[totalTick-10][4]-close)*100/data[totalTick-10][4]);\r\n\r\n\tif(totalTick-23 >0 ){\r\n\t\tm1= Number.parseInt(-(data[totalTick-23][4]-close)*100/data[totalTick-23][4]);\r\n\t}\r\n\t    \r\n\tif(totalTick-140 >0 ){\r\n\t    m6=Number.parseInt(-(data[totalTick-140][4]-close)*100/data[totalTick-140][4]);\r\n\t}\r\n\r\n\r\n\tif(totalTick-269 >0 ){\r\n\t    y1=Number.parseInt(-(data[totalTick-269][4]-close)*100/data[totalTick-269][4]);\r\n\t}\r\n\r\n\tif(totalTick-540 >0 ){\r\n\t    y2=Number.parseInt(-(data[totalTick-540][4]-close)*100/data[totalTick-540][4]);\r\n\t}\r\n\r\n\tif(totalTick-807 >0 ){\r\n\t    y3=Number.parseInt(-(data[totalTick-807][4]-close)*100/data[totalTick-807][4]);\r\n\t}\r\n\r\n\tif(totalTick-1076 >0 ){\r\n\t    y4=Number.parseInt(-(data[totalTick-1076][4]-close)*100/data[totalTick-1076][4]);\r\n\t}\r\n\r\n\tif(totalTick-1150 >0 ){\r\n\t    y5=Number.parseInt(-(data[0][4]-close)*100/data[0][4]);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n    let hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/'+kitedata.ticks[symbol].exchange+'/'+kitedata.ticks[symbol].tradingsymbol+'/'+kitedata.ticks[symbol].token\r\n////<td colSpan=\"2\"><a rel='noreferrer' onClick={this.showFundamentalsDialog} target='_blank' href={hrefGraph}>{kitedata.ticks[symbol].tradingsymbol}</a></td> \r\n\tlet depth = kitedata.ticks[symbol].depth;\r\n\r\n\r\n\tlet LC;let UC;\r\n\tif(quoteData){\r\n\t\tlet quote = quoteData[kitedata.ticks[symbol].exchange+\":\"+symbol];\r\n\t\tif(quote){\r\n\t\t\tLC = quote.lower_circuit_limit;\r\n\t\t\tUC = quote.upper_circuit_limit;\r\n\t\t}\r\n\t}\r\n\r\n\r\n    return (\r\n    \t<div className='stockInfo' >\r\n    \t{  isShowGraph && <iframe  className='stockInfoFraph' src={hrefGraph}></iframe> }\r\n    \t<p onDoubleClick={hideStokInfo} className='name'>{kitedata.ticks[symbol].name}</p>\r\n\r\n    <div className=\"infoNPosition\">\t\r\n    \t<table className='stockInfoTable'>\r\n\t\t  <tbody>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td colSpan=\"2\" style={{cursor:'pointer',textDecoration:'underline'}} onClick={(evt)=>showFundamentalsDialog(symbol)} ><a rel='noreferrer' > </a>{kitedata.ticks[symbol].tradingsymbol}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>LTP</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].lastTradedPrice}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Chg%</td> \r\n\t\t\t  \t<td className={kitedata.ticks[symbol].change<0?'red':'green'}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td> \r\n\t\t  \t</tr>\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Up%</td> \r\n\t\t\t  \t<td>{((kitedata.ticks[symbol].lastTradedPrice - kitedata.ticks[symbol].lowPrice)*100/kitedata.ticks[symbol].lowPrice).toFixed(2)}%</td> \r\n\t\t  \t</tr>\t\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>Down%</td> \r\n\t\t\t  \t<td>{((kitedata.ticks[symbol].highPrice - kitedata.ticks[symbol].lastTradedPrice)*100/kitedata.ticks[symbol].highPrice).toFixed(2)}%</td> \r\n\t\t  \t</tr>\t\r\n\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>OP</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].openPrice}</td> \r\n\t\t  \t</tr>\r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>CL</td> \r\n\t\t\t  \t<td>{kitedata.ticks[symbol].closePrice}</td> \r\n\t\t  \t</tr>\r\n\r\n\t\t  { LC && \r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>LC</td> \r\n\t\t\t  \t<td>{LC}</td> \r\n\t\t  \t</tr>\r\n\t\t  }\r\n\r\n\t\t  { UC && \r\n\t\t  \t<tr> \r\n\t\t\t  \t<td>UC</td> \r\n\t\t\t  \t<td>{UC}</td> \r\n\t\t  \t</tr>\r\n\t\t  }\r\n\r\n\r\n\t\t  \t<tr className=\"grpah-prefButton\"> \r\n\t\t\t  \t<td colSpan=\"2\"><input onInput={this.onColorInput} type=\"color\" className=\"favcolor\" name=\"favcolor\" value=\"#ff0000\"></input>\r\n\t\t\t  \t<button className=\"favButton\"   onClick={(evt)=>{this.setState({isShowGraph:!isShowGraph})}} type=\"button\">G</button></td> \r\n\t\t  \t</tr>\r\n\t\t  </tbody>\r\n\t\t</table>\t\r\n\r\n\t\t{positions && <table className=\"positionInfo\">\r\n\r\n\t\t\t  <tbody>\t\t\t  \r\n\t\t\t \t{positions.mis && <tr><td>M</td><td>{positions.mis.qty}</td><td>{positions.mis.value}k</td><td style={{color:(positions.mis.pnl>0?'green':'red')}} >{positions.mis.pnl}</td></tr> }\r\n\t\t\t \t{positions.cnc &&  <tr><td>C</td><td>{positions.cnc.qty}</td><td>{positions.cnc.value}k</td>  <td style={{color:(positions.cnc.pnl>0?'green':'red')}}>{positions.cnc.pnl}</td></tr>}\r\n\t\t\t \t{positions.hold &&  <tr><td>H</td><td>{positions.hold.qty}</td><td>{positions.hold.value}k</td><td style={{color:(positions.hold.pnl>0?'green':'red')}}>{positions.hold.pnl}</td></tr>}\r\n\t\t\t  </tbody>\r\n\r\n\t\t\t</table>\t\r\n\t\t}\r\n\r\n\t</div>\t\r\n\r\n\r\n\t{hCandles &&\r\n\t    \t<table className='stockInfoTable historyTable'>\r\n\t\t\t  <tbody>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1D</td><td>{d1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2D</td><td>{d2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>3D</td><td>{d3}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1W</td><td>{w1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2W</td><td>{w2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1M</td><td>{m1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>6M</td><td>{m6}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>1Y</td><td>{y1}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>2Y</td><td>{y2}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>3Y</td><td>{y3}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>4Y</td><td>{y4}</td> \r\n\t\t\t\t</tr>\r\n\t\t\t  \t<tr> \r\n\t\t\t\t  \t<td>5Y</td><td>{y5}</td> \r\n\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t  </tbody>\r\n\t\t\t</table>\t\r\n\r\n\t}\r\n\t    \t\r\n\r\n\t\t<br/>\r\n\t\t\r\n\r\n\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'0');}} type=\"button\">A 0</button>\r\n\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'MIS');}} type=\"button\">MIS</button>\r\n\t    {tableId!=undefined &&\t<button className=\"favButton red\"   onClick={(evt)=>{removeFromFavList(symbol,tableId);}} type=\"button\">R {tableId}</button> }\r\n\r\n\r\n\t\t<OrderWindow updateMarginData={updateMarginData} kitedata={kitedata} symbol={symbol} />\r\n\r\n\r\n\t\t<br/><br/>\r\n\t\t<div style={{fontWeight: 'bold'}}>H: <span className='HLVdiv'>{kitedata.ticks[symbol].highPrice}</span>&nbsp;&nbsp;L: <span className='HLVdiv'>{kitedata.ticks[symbol].lowPrice}</span>&nbsp;&nbsp;&nbsp;V: <span className='HLVdiv'>{kitedata.ticks[symbol].volumeTradedToday}</span></div>\r\n{ depth && depth.buy.length == 5 &&  depth.sell.length==5 &&\r\n\r\n\t\t<table className=\"bidTable\">\r\n\t\t  <tbody>\r\n\t\t  \r\n\t\t  <tr></tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[0].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[0].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[0].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[0].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[1].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[1].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[1].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[1].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[2].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[2].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[2].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[2].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[3].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[3].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[3].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[3].quantity}</td>\r\n\t\t  </tr>\r\n\r\n\t\t  <tr>\r\n\t\t\t  <td className='blue'>{depth.buy[4].price}</td>\r\n\t\t\t  <td className='blue'>{depth.buy[4].quantity}</td>\r\n\t\t\t  <td className='red'>{depth.sell[4].price}</td>\r\n\t\t\t  <td className='red'>{depth.sell[4].quantity}</td>\r\n\t\t  </tr>\t\t  \t\t  \t\t  \r\n\t\t <tr></tr>\r\n\t\t  <tr>\r\n\t\t\t  <td colSpan=\"2\" className='blue'>{kitedata.ticks[symbol].totalBuyQuantity}</td>\r\n\t\t\t  <td></td>\r\n\t\t\t  <td colSpan=\"2\" className='red'>{kitedata.ticks[symbol].totalSellQuantity}</td>\r\n\t\t\t  <td></td>\r\n\t\t  </tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n    \t</div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default StockInfo;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {placeMISBuyLimitOrder,placeMISSellLimitOrder,placeMISBuyMarketOrder,placeMISSellMarketOrder,getPosition,placeMISBuySLMarketOrder,placeMISSellSLMarketOrder} from './OrderUtil';\r\n\r\n\r\n\r\nclass BasketOrderDialog extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);  \r\n\r\n      let orderWindowView = {buyView:true,sellView:true};\r\n      orderWindowView = localStorage.getItem(\"basketOrderWindowView\")!=undefined ?JSON.parse(localStorage.getItem(\"basketOrderWindowView\")):orderWindowView;      \r\n\r\n      this.rowfRefs ={};\r\n\r\n      this.state={orderWindowView:orderWindowView,isHideDialog:false,orderType:\"MARKET\",totaOrderRequest:undefined,totalFillOrderRequest:undefined};    \r\n\r\n\t  }\r\n\r\n  toogleBuyView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.buyView=!orderWindowView.buyView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n\r\n    localStorage.setItem(\"basketOrderWindowView\", JSON.stringify(orderWindowView));    \r\n  }\r\n\r\n\r\n  toogleSellView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellView=!orderWindowView.sellView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n\r\n    localStorage.setItem(\"basketOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n  onPositionSuccess=(data)=>{\r\n    this.setState({positionsdata:data});    \r\n  }\r\n\r\n  onPositionError=(data)=>{\r\n    this.updateOrderStatus('Error in fetching position');\r\n  }\r\n\r\n  fetchPositionData=(data)=>{\r\n    getPosition(this.onPositionSuccess,this.onPositionError);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPositionData();\r\n    this.updateOrderStatus('MARGIN ORDRES');\r\n    this.interval = setInterval(this.fetchPositionData, 2000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.interval );\r\n  }\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\tupdateOrderStatus=(data)=>{\r\n\t\tthis.setState({orderStatus:data})\r\n\t}\r\n\r\n showDialog=(data)=>{\r\n    this.setState({isHideDialog:false})\r\n  }\r\n\r\n updateFillOrderRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n    if(totalOrderRequest !=undefined){\r\n      totalFillOrderRequest++;\r\n      this.setState({totalFillOrderRequest:totalFillOrderRequest});  \r\n      if(totalFillOrderRequest == totalOrderRequest){\r\n        this.setState({totalOrderRequest:undefined,totalFillOrderRequest:undefined});  \r\n      }\r\n    }    \r\n  }\r\n\r\n\r\ncheckFoPendingRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  let noOffendingOrderRequest = 0;      \r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      noOffendingOrderRequest += rowRef.getPendingOrderRequest();\r\n  }\r\n\r\n  if(totalOrderRequest != undefined || noOffendingOrderRequest != 0){\r\n      window.alert('Request pending -> All '+noOffendingOrderRequest +' Bulk : '+(totalOrderRequest-totalFillOrderRequest) );\r\n      return true;\r\n  }\r\n  return false;          \r\n}\r\n\r\n\r\ntotalSelectedRows=()=>{\r\n  let totalOrderRequest=0;\r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      if(rowRef.isCheckBoxChecked()){\r\n        totalOrderRequest++;\r\n      } \r\n  }\r\n  return totalOrderRequest;\r\n}\r\n\r\n\r\nplaceBuyOrderForselectedRow=()=>{          \r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n  let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"BUY order for all selected rows confirm : \"+totalOrderRequest); \r\n  if(isOk && totalOrderRequest>0){\r\n      this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n      for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendBuyOrderRequest();\r\n        } \r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nplaceSellOrderForselectedRow=(data)=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"SELL order for all selected rows confirm : \"+totalOrderRequest);\r\n  if(isOk && totalOrderRequest>0){\r\n    this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendSellOrderRequest();\r\n        } \r\n    }    \r\n  }\r\n}\r\n\r\n\r\nonSQOFFClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n   let  totalOrderRequest= this.totalSelectedRows();\r\n   let isSoffOnlySelectedRows=false;\r\n   if(totalOrderRequest != 0){\r\n      isSoffOnlySelectedRows = window.confirm('SQ only selected rows:'+totalOrderRequest);\r\n   }\r\n\r\n  const perc = window.prompt('selected position '+(isSoffOnlySelectedRows?totalOrderRequest:' ALL ') +' Percetage to SQ OFF ->');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(isSoffOnlySelectedRows && !rowRef.isCheckBoxChecked()){\r\n          continue;\r\n        }\r\n        totalValue+=rowRef.fillQtyValueOnSqOffClick(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\n\r\nonTpriceClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }\r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n  const perc = window.prompt('Position selected '+totalOrderRequest+' Stop Loss %');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n         if(rowRef.isCheckBoxChecked()){\r\n            totalValue+=rowRef.fillPriceValueOnTpriceClick(perc);\r\n         }        \r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\nfillQtyForValue=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  const value = window.prompt('Build Position '+totalOrderRequest+' for amount ->');\r\n  let totalValue=0;\r\n  if(value!=null && value!=\"\" && !isNaN(value) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          totalValue+=rowRef.fillQtyForValue(value);\r\n        }         \r\n    }\r\n    this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nuncheckPositionWithCNCnMIS=()=>{\r\n    let count=0;\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.uncheckPositionWithCNCnMIS()){\r\n          count++;\r\n        }            \r\n    } \r\n    this.updateOrderStatus('Uncheckd Rows :'+ count);\r\n}\r\n\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('#basketOrderDialog tr[rowid=\"MIS_ORDER-'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('#basketOrderDialog tr[rowid=\"MIS_ORDER-'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nonOnderTypeChange=(evt)=>{\r\n  if(evt.target.name=='orderType'){\r\n     this.setState({orderType:evt.target.value});\r\n  }\r\n}\r\n\r\n\r\nsetSortOrder=(key)=>{\r\n  let value = this.state[key];\r\n  this.setState({isSortPosition:false,isSortOnValue:false,isSortOnPriceChange:false,isSortOnMISQty:false,isSortOnDayQty:false});\r\n  let s1 = {};\r\n  s1[key] = !value;\r\n  this.setState(s1);\r\n}\r\n\r\n\r\n\r\nselectRows=(kiteBasketOrderData)=>{\r\n  let start=undefined;\r\n  let end=undefined;\r\n\r\n  for(let i=0;i<kiteBasketOrderData.length;i++){\r\n      let rowRef  = this.rowfRefs['MIS-'+kiteBasketOrderData[i]];\r\n      if(rowRef.isCheckBoxChecked()){\r\n        if(start == undefined){\r\n          start = kiteBasketOrderData[i];\r\n        }else{\r\n          end = kiteBasketOrderData[i];\r\n          break;\r\n        }\r\n      }\r\n  }\r\n\r\n  let startIndex = kiteBasketOrderData.indexOf(start);\r\n  let endIndex = kiteBasketOrderData.indexOf(end);\r\n\r\n  if(start == undefined || end== undefined){\r\n    window.alert('Select start & end both');\r\n    return;\r\n  }\r\n\r\n  \r\n  let count=0;\r\n  for(let i=startIndex;i<=endIndex;i++){\r\n      let rowRef  = this.rowfRefs['MIS-'+kiteBasketOrderData[i]];\r\n      rowRef.markCheckBox(true);\r\n      count++;\r\n  }\r\n\r\n  this.updateOrderStatus(start +'   --->  '+end +'  --> ' +count);\r\n\r\n}\r\n\r\n\r\nuncheckAllRow=()=>{\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        rowRef.markCheckBox(false);  \r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let{\r\n      kiteBasketOrderData,\r\n    }=this.props;\r\n\r\n    const{\r\n      kitedata,\r\n      hideBasketOrderDialog,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick,\r\n//      positionsdata,  //poll from server \r\n      updateMarginData\r\n    }=this.props;\r\n\r\n    const{\r\n    \torderStatus,\r\n      orderWindowView,\r\n      isHideDialog,\r\n      positionsdata, //poll from client \r\n      orderType,\r\n      isSortPosition,\r\n      isSortOnValue,\r\n      isSortOnPriceChange,\r\n      isSortOnDayQty,\r\n      isSortOnMISQty,      \r\n      totalOrderRequest,\r\n      totalFillOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    let positionMap={};\r\n    let openMIS =0;\r\n    let totalMIS =0;    \r\n    if(positionsdata){\r\n\r\n      for(let i=0;i<positionsdata.data.net.length;i++){\r\n        if(positionsdata.data.net[i].product == 'MIS' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n          positionMap[positionsdata.data.net[i].tradingsymbol]=positionsdata.data.net[i];\r\n        }      \r\n      }\r\n\r\n      for(let i=0;i<positionsdata.data.net.length;i++){\r\n        if(positionsdata.data.net[i].product == 'CNC' && positionMap[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n          positionMap[positionsdata.data.net[i].tradingsymbol].dayCNC=positionsdata.data.net[i]; // store CNC day position\r\n        }      \r\n      }\r\n\r\n\r\n      if(isSortPosition){\r\n            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n            kiteBasketOrderDataCopy.sort(function(a, b){\r\n              let v1 = (positionMap[a] && positionMap[a].quantity!=0 ) ?positionMap[a].pnl :999999;\r\n              let v2 = (positionMap[b] && positionMap[b].quantity!=0 ) ?positionMap[b].pnl :999999;\r\n              return v1-v2;\r\n            });\r\n            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n\r\n      }else if(isSortOnValue){\r\n            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n            kiteBasketOrderDataCopy.sort(function(a, b){\r\n              let v1 = (positionMap[a] && positionMap[a].quantity!=0 )?positionMap[a].value :-99999999;\r\n              let v2 = (positionMap[b] && positionMap[b].quantity!=0 )?positionMap[b].value :-99999999;\r\n              return v2-v1;\r\n            });\r\n            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n      }else if(isSortOnPriceChange){\r\n\r\n        if(this.previosChangeSortedOrder == undefined){\r\n            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n            kiteBasketOrderDataCopy.sort(function(a, b){\r\n              let v1 =kitedata.ticks[a].change;\r\n              let v2 =kitedata.ticks[b].change;\r\n              return v1-v2;\r\n            });\r\n            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n            this.previosChangeSortedOrder = kiteBasketOrderDataCopy;\r\n        }else{\r\n          kiteBasketOrderData = this.previosChangeSortedOrder;\r\n        }\r\n\r\n      }else if(isSortOnDayQty){\r\n              let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n              kiteBasketOrderDataCopy.sort(function(a, b){\r\n                let v1 = positionMap[a] && positionMap[a].dayCNC?positionMap[a].dayCNC.quantity :0;\r\n                let v2 = positionMap[b] && positionMap[b].dayCNC?positionMap[b].dayCNC.quantity :0;\r\n                if(v1==0) v1 = -9999999; \r\n                if(v2==0) v2 = -9999999; \r\n                return v2-v1;\r\n              });\r\n              kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n        }else if(isSortOnMISQty){\r\n              let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n              kiteBasketOrderDataCopy.sort(function(a, b){\r\n                let v1 = positionMap[a] ?positionMap[a].quantity :0;\r\n                let v2 = positionMap[b] ?positionMap[b].quantity :0;\r\n                if(v1==0) v1 = -9999999; \r\n                if(v2==0) v2 = -9999999;                \r\n                return v2-v1;\r\n              });\r\n              kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n        }          \r\n  \r\n\r\n    for(let i=0;i<positionsdata.data.net.length;i++){\r\n      if(positionsdata.data.net[i].product == 'MIS' ){\r\n        totalMIS++;\r\n        if(positionsdata.data.net[i].quantity !=0){\r\n          openMIS++;\r\n        }        \r\n      }      \r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n    let buyButtonText = 'BUY'; let sellButtonText = 'SELL'\r\n    if(totalOrderRequest!=undefined){\r\n        buyButtonText = `B(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n        sellButtonText = `S(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n    }\r\n\r\n    \r\n\r\n\r\n\t \t\r\n\t    return (\r\n\t      <div id='basketOrderDialog' style={{display:(isHideDialog?'none':'block')}} className=\"modal\">       \r\n\t        <div style={{width:'930px'}} className=\"modal-content\">\r\n\t          <div  className=\"orderStatusView\">{orderStatus} <div className=\"openPosition\">({openMIS}/{totalMIS})</div></div>\t\r\n\t          <span onClick={hideBasketOrderDialog} className=\"close\">&times;</span>\r\n\t          <div className='basket-orders'>\r\n\t          \r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th onClick={(evt)=>{this.selectRows(kiteBasketOrderData);}}  onDoubleClick={(evt)=>{this.uncheckAllRow()}}>Select</th>\r\n                <th>Name</th>\r\n                <th>PnL</th>\r\n                <th>Q(M)</th>\r\n                <th onDoubleClick={(evt)=>{this.uncheckPositionWithCNCnMIS();}}>Q(H)</th>\r\n                <th>Value</th>\r\n                <th>Change</th>\r\n                <th>LTP</th>\r\n                <th>Qty</th>\r\n                <th>Price</th>\r\n             {orderWindowView.buyView &&  <th>BUY</th>\t\t}\t\t \r\n\t\t\t\t     {orderWindowView.sellView &&    <th>SELL</th> }\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            \r\n             { kiteBasketOrderData.map((symbol,index)=> <BasketListRow updateFillOrderRequest={this.updateFillOrderRequest} fetchPositionData={this.fetchPositionData} updateMarginData={updateMarginData} positionsdata={positionMap[symbol]} ref={ele => this.rowfRefs['MIS-'+symbol] = ele}  orderType={orderType} orderWindowView={orderWindowView} onTableRowclick={onTableRowclick} addToFavList={addToFavList} removeFromFavList={removeFromFavList} tableId={tableId} updateOrderStatus={this.updateOrderStatus} key={'MIS-'+symbol} kitedata={kitedata}  symbol={symbol} />)}\r\n             \r\n            </tbody>\r\n\r\n\r\n        </table>\r\n\r\n\t         </div>\r\n        <button className=\"favButton\"  onClick={(evt)=>{this.setState({isHideDialog:true})}} type=\"button\">H</button>   \r\n        <button className=\"favButton\"  onClick={this.toogleSellView} type=\"button\">S</button>\r\n        <button className=\"favButton\"  onClick={this.toogleBuyView} type=\"button\">B</button>\r\n\r\n        \r\n        <div style={{marginLeft: '10px'}} className=\"dropdown\">\r\n          <button style={{fontSize:'15px',backgroundColor:((isSortPosition || isSortOnValue || isSortOnPriceChange || isSortOnMISQty || isSortOnDayQty)?'red':'initial')}} className=\"dropbtn\">Srt</button>\r\n          <div className=\"dropdown-content\" style={{bottom: '0px'}}>\r\n            <a style={{backgroundColor:(isSortPosition?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortPosition');}}>{'Loss'}</a>\r\n            <a style={{backgroundColor:(isSortOnValue?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnValue');}}>{'Total Value'}</a>\r\n            <a style={{backgroundColor:(isSortOnPriceChange?'red':'initial')}} onClick={(evt)=>{this.previosChangeSortedOrder=undefined;this.setSortOrder('isSortOnPriceChange');}}>{'Change'}</a>\r\n            <a style={{backgroundColor:(isSortOnDayQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnDayQty');}}>{'Q(H)'}</a>\r\n            <a style={{backgroundColor:(isSortOnMISQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnMISQty');}}>{'Q(M)'}</a>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n        <button className=\"favButton\"  onClick={this.onSQOFFClick} type=\"button\">SQFF</button>\r\n        <button className=\"favButton\"  onClick={this.onTpriceClick} type=\"button\">Tpri</button>\r\n\r\n        <button className=\"favButton\"  onClick={this.fillQtyForValue} type=\"button\">Fill Qty</button>\r\n\r\n\r\n        <div style={{marginLeft: '10px'}} className=\"dropdown\">\r\n          <button className=\"dropbtn\">Mark</button>\r\n          <div className=\"dropdown-content\" style={{bottom: '0px'}}>\r\n            <a >{'Chg% < X '}</a>\r\n            <a >{'Chg% > X '}</a>\r\n            <a >{'Chg% [x,y]'}</a>\r\n            <a >{'Profit% < X '}</a>\r\n            <a >{'Profit% > X '}</a>            \r\n            <a >{'Profit [x,y]'}</a>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"orderType\">      \r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_MARKET\" checked={orderType==\"MARKET\"?true:false} value=\"MARKET\"/><label for=\"ORDER_TYPE_MARKET\">M</label>\r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_LIMIT\" checked={orderType==\"LIMIT\"?true:false} value=\"LIMIT\"/><label for=\"ORDER_TYPE_LIMIT\">L</label>\r\n          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_SL_MARKET\" checked={orderType==\"SL_MARKET\"?true:false} value=\"SL_MARKET\"/><label for=\"ORDER_TYPE_SL_MARKET\">SL_M</label>\r\n        </div>\r\n\r\n        <select className=\"selectSymbolsBasket\" onChange={this.onSymbolSelect}>\r\n             { kiteBasketOrderData.map((symbol,index)=> <option value={symbol}>{symbol}</option>)}\r\n        </select>\r\n\r\n\r\n        {orderWindowView.buyView && <button  className=\"builkOrderBtn favButton buyButton\"  onClick={this.placeBuyOrderForselectedRow} type=\"button\">{buyButtonText}</button> }\r\n        {orderWindowView.sellView &&    <button  className=\"builkOrderBtn favButton sellButton\"  onClick={this.placeSellOrderForselectedRow} type=\"button\">{sellButtonText}</button> }\r\n\r\n\r\n\r\n\r\n\r\n\t       </div>\r\n\t      </div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default BasketOrderDialog;\r\n\r\n\r\n\r\n\r\nclass BasketListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={isRowEnable:false,pendingOrderRequest:0};\r\n  }\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\r\n\r\nuncheckPositionWithCNCnMIS=()=>{\r\n    const{\r\n      positionsdata     \r\n    }=this.props;\r\n\r\n    let dayQtyCNC=0;let dayQtyMIS=0;\r\n    if(positionsdata && positionsdata.dayCNC){\r\n      dayQtyCNC = positionsdata.dayCNC.quantity;\r\n    }\r\n\r\n    if(positionsdata){\r\n      dayQtyMIS = positionsdata.quantity;\r\n    }\r\n\r\n    if( dayQtyCNC < 0){\r\n      this.markCheckBox(false);\r\n      return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\n\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\t  \tthis.setState({quantity:0,price:kitedata.ticks[symbol].lastTradedPrice});\r\n  \t}\r\n\r\n  }\r\n\r\n\r\n  fillQtyForValue=(value)=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n    let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice; \r\n    let quantity =  Number.parseInt(value/lastTradedPrice);\r\n    this.setState({quantity:quantity});\r\n    return quantity*lastTradedPrice;\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable\r\n    }=this.state;\r\n\r\n  \tif(evt.target.name == 'quantity'){\r\n  \t\tquantity=evt.target.value;\r\n  \t\tthis.setState({quantity:quantity});\r\n  \t}else if(evt.target.name == 'price'){\r\n  \t\t price=evt.target.value;\r\n  \t\tthis.setState({price:price});\r\n  \t}else if(evt.target.name == 'checkbox'){\r\n      isRowEnable=evt.target.checked;\r\n      this.setState({isRowEnable:isRowEnable});      \r\n    }\r\n\r\n  }\r\n\r\n\r\n fillQtyValueOnSqOffClick=(perc)=>{\r\n\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let quantity = Number.parseInt(Math.abs((positionsdata.quantity*perc/100)));      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n\r\n    return orderValue;\r\n  }\r\n\r\n\r\nfillPriceValueOnTpriceClick=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      let priceChange = (lastTradedPrice*perc)/100; \r\n\r\n      if(positionsdata.quantity >= 0){\r\n          price = lastTradedPrice - priceChange; //sell stop losss trigger\r\n      }else {\r\n          price = lastTradedPrice + priceChange; //Buy stop losss trigger\r\n      }\r\n      this.setState({price:(price).toFixed(1)});\r\n      \r\n      orderValue = quantity*price;\r\n    }\r\n    return orderValue;\r\n}\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    updateMarginData();\r\n    fetchPositionData();\r\n\tupdateOrderStatus(data.data.order_id);\r\n\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n  updateMarginData();\r\n  fetchPositionData();\r\n\tupdateOrderStatus(data.message);\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}  \r\n\r\nmarkCheckBox=(enable)=>{\r\n // this.checkBoxRef.checked=enable;\r\n  this.setState({isRowEnable:enable});\r\n}  \r\n\r\nisCheckBoxChecked=()=>{\r\n  return this.state.isRowEnable == true;\r\n}  \r\n\r\ngetPendingOrderRequest=()=>{\r\n  return this.state.pendingOrderRequest ;\r\n}  \r\n\r\n\r\ngetOrderValue=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n  return Math.abs(quantity) * price;\r\n}  \r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeMISBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);\r\n   } else if(orderType==\"LIMIT\"){\r\n      placeMISBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> LIMIT -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   } else if(orderType==\"SL_MARKET\"){\r\n      placeMISBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> SL-MARKET -> MIS ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   }\r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeMISSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"LIMIT\"){\r\n      placeMISSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> LIMIT -> MIS ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"SL_MARKET\"){\r\n      placeMISSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> SL-MARKET -> MIS ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   } \r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n}\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol);\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick, \r\n      orderWindowView,\r\n      positionsdata     \r\n    }=this.props;\r\n\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n\r\n    let checkboxstyle={};\r\n    if(isRowEnable){\r\n      checkboxstyle.backgroundColor='grey';\r\n    } \r\n    if(positionsdata && positionsdata.quantity > 0){\r\n      checkboxstyle.borderLeft='20px solid lightgreen';\r\n    }else if(positionsdata && positionsdata.quantity < 0){\r\n      checkboxstyle.borderLeft='20px solid red';\r\n    }else {\r\n      checkboxstyle.borderLeft='20px solid white';\r\n    }     \r\n\r\n     let rowstyle={};\r\n     if(pendingOrderRequest!=0){\r\n        rowstyle.backgroundColor='gold';\r\n     }\r\n\r\n    //ref={ele => this.checkBoxRef = ele}\r\n\r\n    let dayQtyCNC=0;let dayQtyMIS=0;\r\n    if(positionsdata && positionsdata.dayCNC){\r\n      dayQtyCNC = positionsdata.dayCNC.quantity;\r\n    }\r\n\r\n    if(positionsdata){\r\n      dayQtyMIS = positionsdata.quantity;\r\n    }\r\n\r\n    let dqCNCClass = dayQtyCNC<0 ?'red':'green';\r\n    let dqMISClass = dayQtyMIS<0 ?'red':'green';\r\n\r\n    return (\r\n      <tr style={rowstyle} rowId={'MIS_ORDER-'+symbol}>\r\n        <td onClick={(evt)=>{this.setState({isRowEnable:!isRowEnable})}} style={checkboxstyle}><input tabIndex={\"-1\"} style={{width:'20px',height: '20px'}}    onChange={this.onInputValueChange} type=\"checkbox\" name='checkbox' checked={isRowEnable}></input></td>  \r\n  \t\t\t<td onDoubleClick={(evt)=>{addToFavList(symbol,'MIS');}} >{symbol}<span className='exchangeSuffix'>&nbsp;&nbsp;{kitedata.ticks[symbol].exchange}</span></td>    \r\n        <td className={positionsdata && positionsdata.pnl<0?'red':'green'}>{positionsdata ?positionsdata.pnl.toFixed(1):'' }</td>   \r\n\r\n        <td className={dqMISClass}>{dayQtyMIS==0?'':dayQtyMIS}</td>  \r\n        <td className={dqCNCClass +\" holdingQty\"}>{dayQtyCNC==0?'':dayQtyCNC}</td>  \r\n        <td><span className='misValue'>{(positionsdata&& positionsdata.quantity!=0 )?(Math.round((positionsdata.value)/1000)+'k'):'' }</span></td>\r\n\r\n        <td onClick={this.openStockInfo} className={changeClass}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td>    \r\n  \t\t\t<td >{kitedata.ticks[symbol].lastTradedPrice}</td>    \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\"   autoComplete=\"off\" onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"quantity\" step={1} name=\"quantity\" min=\"1\" max=\"1000\" value={quantity}></input>\r\n  \t\t\t</td>         \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\" tabIndex={\"-1\"} autoComplete=\"off\" onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"price\" step={0.2} name=\"price\" min=\"1\" max=\"10000\" value={price}></input>\r\n  \t\t\t</td> \t\t\r\n\r\n  \t\t\t{orderWindowView.buyView && <td><button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'green'}} className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button></td> }\r\n  \t\t\t{orderWindowView.sellView && <td> <button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'#e86666'}} className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button></td>}\r\n      \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass Fundamentals extends React.Component {\r\n  constructor(props) {\r\n    super(props);    \r\n    this.state={};\r\n  }\r\n\r\n\r\n\r\nrender() {\r\n \t\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      hideFundamentalsDialog\r\n    }=this.props;\r\n\r\n  let hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/'+kitedata.ticks[symbol].exchange+'/'+kitedata.ticks[symbol].tradingsymbol+'/'+kitedata.ticks[symbol].token\r\n\tlet hrefFunda = 'https://stocks.tickertape.in/'+symbol+'?broker=kite';\r\n\r\n\r\n \treturn (\r\n\t      <div className=\"modal\">       \r\n\t        <div style={{width:'1200px'}} className=\"modal-content\">\r\n\t        <span onClick={hideFundamentalsDialog} className=\"close\">&times;</span>\r\n\r\n\r\n\r\n        <div className='fundamental-dialog'>\r\n\r\n        <iframe className='graphFrame' src={hrefGraph}></iframe>\r\n        \r\n        <iframe style={{height:'1000px'}} className='graphFrame' src={'https://www.screener.in/company/'+(symbol.endsWith('-BE')?symbol.replace('-BE',''):symbol)+'/consolidated/'}></iframe>\r\n\r\n        <iframe className='fundamentalFrame' src={hrefFunda}></iframe>\r\n\r\n        \r\n\r\n\r\n          </div>\r\n\r\n\t    \t</div>\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Fundamentals;\r\n","\r\n\r\nimport React from 'react';\r\nimport './App.css';\r\n\r\n\r\n\r\nclass CurrentTime extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={};\r\n  }\r\n\r\n\r\ncomponentDidMount() {\r\n  this.timeInterval =  setInterval(this.startTime,500);\r\n}\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.timeInterval );\r\n  }\r\n\r\ncheckTime=(i)=>{\r\n  if (i < 10) {\r\n    i = \"0\" + i;\r\n  }\r\n  return i;\r\n}\r\n\r\n\r\nstartTime=(event)=>{\r\n  let today = new Date();\r\n  let h = today.getHours();\r\n  let m = today.getMinutes();\r\n  let s = today.getSeconds();\r\n  // add a zero in front of numbers<10\r\n  m = this.checkTime(m);\r\n  s = this.checkTime(s);\r\n  this.timeInterval = setTimeout(function() {\r\n    this.startTime()\r\n  }.bind(this), 500);\r\n\r\n  this.setState({currentTime:(h + \":\" + m + \":\" + s)});\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n    const{\r\n      currentTime\r\n    }=this.state;\r\n\r\n     \r\n    return (\r\n           <div className='currentTime'>{currentTime}</div>\r\n         )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default CurrentTime;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { IoIosSearch } from 'react-icons/io'\r\n\r\n\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={searchValue:undefined};\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n\t\tsearchValue\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n  \tif(evt.target.name == 'searchInput'){\r\n  \t\tsearchValue=evt.target.value.toUpperCase();\r\n  \t\tlet rowMap={};\r\n\r\n  \t\tif(searchValue.length>2){\r\n\r\n\t  \t\tlet matchs = document.querySelectorAll('tr[rowid*=\"'+ searchValue +'\"]');\r\n\t  \t\tif(matchs && matchs.length>0){\r\n\t  \t\t\tfor(let i=0;i<matchs.length;i++){\r\n\t  \t\t\t\tlet rowId = matchs[i].attributes.rowid.value.replace('1-','').replace('2-','').replace('3-','').replace('0-','').replace('RES-','').replace('MIS-','').replace('POS-','').replace('HOLD-','').replace('MIS_ORDER-','');\r\n\t  \t\t\t\tif(kitedata.ticks[rowId]){\r\n\t  \t\t\t\t\trowMap[rowId]=kitedata.ticks[rowId].name;\r\n\t  \t\t\t\t}  \t\t\t\t\r\n\t  \t\t\t}\r\n\t  \t\t}\r\n\r\n  \t\t}\r\n\r\n  \t\tif(kitedata.ticks[searchValue]){\r\n  \t\t\tonTableRowclick(searchValue);\r\n  \t\t}\r\n  \t\tthis.setState({searchValue:searchValue,rowMap:rowMap});\r\n  \t\t\r\n  \t}\r\n\r\n  }  \r\n\r\n  render() {\r\n\r\n\r\n    let{\r\n\t\tsearchValue,\r\n\t\trowMap\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n    return (\r\n    \t<div className=\"dropdown\">\r\n          <button className=\"dropbtn\"><IoIosSearch className=\"appicon\"/></button>\r\n          <div className=\"dropdown-content searchList\">\r\n\r\n\t\t  <input list=\"searchDataList\" className='searchInput' type=\"text\"  name=\"searchInput\" ref={elem => (this.searchInput = elem)} onClick={event => event.target.select()}  onInput={this.onInputValueChange}  value={searchValue}></input>\r\n\t\t  <datalist id=\"searchDataList\">\r\n\t\t    {rowMap && Object.keys(rowMap).map((data,index)=> <option value={data}>{rowMap[data]}</option>)}\r\n\t\t  </datalist>\r\n\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Search;\r\n\r\n","\r\nimport React from 'react';\r\nimport './App.css';\r\nimport WatchList from './WatchList';\r\n\r\nclass AllStocksScreener extends React.Component {\r\n  constructor(props) {\r\n    super(props); \r\n\r\n    let kitedata = props.kitedata;\r\n\r\n\t  let tempSortedTicks = Object.keys(kitedata.ticks);\r\n\t  let sortedTicks = [];\r\n\t  for(let i=0;i<tempSortedTicks.length;i++){\r\n\t    if(kitedata.ticks[tempSortedTicks[i]].exchange == 'NFO') continue;\r\n\t    sortedTicks.push(tempSortedTicks[i]);\r\n\t  }  \r\n\r\n\t  sortedTicks.sort(function(t1, t2){return kitedata.ticks[t2].change - kitedata.ticks[t1].change});\r\n\r\n     this.state={symbolList:sortedTicks};\r\n  }\r\n\r\n\r\nonTableRowclick=(data,tableId)=>{\r\n\r\n    const{\r\n      kitedata,\t\r\n      onTableRowclick,\r\n    }=this.props;\r\n\r\n\r\n    onTableRowclick(data,tableId,false);\r\n\r\n    // tvc or ciq\r\n    let hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/'+kitedata.ticks[data].exchange+'/'+kitedata.ticks[data].tradingsymbol+'/'+kitedata.ticks[data].token\r\n    this.setState({hrefGraph:hrefGraph,symbol:data});    \r\n}\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('.allStocksScreener tr[rowid=\"'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('.allStocksScreener tr[rowid=\"'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n\r\n    this.onTableRowclick(evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nrender() {\r\n \t\r\n    const{\r\n      kitedata,\r\n      onTableRowclick,\r\n      showToast,\r\n      addToFavList\r\n    }=this.props;\r\n\r\n\r\n    const{\r\n      symbolList,\r\n      hrefGraph,\r\n      symbol\r\n    }=this.state;\r\n\r\n\r\n\r\n \treturn (\r\n\t      <div className=\"allStocksScreener\">       \r\n\t      \t{kitedata && <div className='tableContainer watchlistclass'><WatchList  onTableRowclick={this.onTableRowclick} kitedata={kitedata} symbolList={symbolList}/></div>}\r\n\r\n\t      \t\r\n\t\t\t{hrefGraph && <iframe className='screenerFrame' src={hrefGraph}></iframe> }\r\n\r\n\r\n\r\n\t\t<div className=\"screenerToolbar\">\t\r\n\t\t\t<div >S: {symbol}</div>\r\n\t\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'0');}} type=\"button\">A 0</button>\r\n\t\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'MIS');}} type=\"button\">MIS</button>\t\t\t\r\n      <select className=\"\" onChange={this.onSymbolSelect}>\r\n             { symbolList.map((symbol,index)=> <option key={index} value={symbol}>{symbol}</option>)}\r\n      </select>\r\n\t\t</div>\t\t\r\n\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default AllStocksScreener;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport WatchList from './WatchList';\r\n\r\nclass AllSectorScreener extends React.Component {\r\n  constructor(props) {\r\n    super(props); \r\n    this.state={};\r\n  }\r\n\r\n\r\n\r\ncomponentDidMount() {\r\n\tthis.fetchAllKiteSectorList();\r\n}\r\n\r\n\r\n\r\n\r\nfetchAllKiteSectorList=()=>{\r\n\r\n\r\n\r\n\r\n      fetch(window.domain+'kiteAllSector.json?v='+(new Date().getTime()))\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n         this.kiteSectorList = jsonData;\r\n\t    const{\r\n\t      kitedata,  \r\n\t    }=this.props;\r\n         for(let i=0;i< this.kiteSectorList.length;i++){\r\n        \t this.kiteSectorList[i].list.sort((t1, t2)=>{\r\n        \t \tlet v1 = kitedata.ticks[t1]?kitedata.ticks[t1].change:-100;\r\n        \t \tlet v2 = kitedata.ticks[t2]?kitedata.ticks[t2].change:-100;\r\n\r\n        \t \treturn v2 - v1})\r\n\r\n        \t ; \t\r\n         }\r\n\t \t\r\n\r\n         this.setState({kiteSectorList:this.kiteSectorList});\r\n        }.bind(this))\r\n        .catch((error) => {\r\n          console.error(error)\r\n       })\r\n}\r\n\r\n\r\nonTableRowclick=(data,tableId)=>{\r\n\r\n    const{\r\n      onTableRowclick,\r\n    }=this.props;\r\n\r\n    onTableRowclick(data,tableId,false);\r\n    this.setState({symbol:data});    \r\n}\r\n\r\n\r\nrender() {\r\n \t\r\n    const{\r\n      kitedata,\r\n      onTableRowclick,\r\n      addToFavList      \r\n    }=this.props;\r\n\r\n\r\n\r\n\r\n    const{\r\n      symbol,\r\n      kiteSectorList\r\n    }=this.state;\r\n\r\n\r\n\r\n\r\n\r\n \treturn (\r\n\t      <div className=\"allSectorScreener\">       \r\n\t      \t{kitedata && kiteSectorList && \r\n\r\n\r\n\t      \tkiteSectorList.map((data,index)=>{ return <div key={index} className='tableContainer watchlistclass'><WatchList  onTableRowclick={this.onTableRowclick} kitedata={kitedata} symbolList={data.list} tableName={data.sector}/></div> })\t}\r\n\r\n\t      \t\r\n\t\t\t<div className=\"screenerToolbar\">\t\r\n\t\t\t\t<div >S: {symbol}</div>\r\n\t\t\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'0');}} type=\"button\">A 0</button>\r\n\t\t\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'MIS');}} type=\"button\">MIS</button>\t\t\t\r\n\t\t\t</div>\t\t\r\n\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default AllSectorScreener;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport WatchList from './WatchList';\r\n\r\nclass PerformanceScreener extends React.Component {\r\n  constructor(props) {\r\n    super(props); \r\n    let kitedata = props.kitedata;\r\n\tthis.symbolList = Object.keys(kitedata.ticks);\r\n\tthis.performanceHistory = localStorage.getItem(\"performanceHistory\")!=undefined ?JSON.parse(localStorage.getItem(\"performanceHistory\")):{};\r\n\tthis.state={};\r\n  }\r\n\r\n\r\n\r\ncomponentDidMount() {\r\n\tthis.fetchPerformanceTicksData();\r\n}\r\n\r\n\r\nformatData =(jsonData)=>{\r\n\tthis.performanceHistory =  jsonData;\r\n\r\n\tlet performance = {};\r\n\tlet keys = Object.keys(this.performanceHistory.ticks);\r\n\tfor(let i=0;i<keys.length;i++){\r\n\t\tlet hCandles = JSON.parse(this.performanceHistory.ticks[keys[i]]).data.candles;\r\n\t\tperformance[keys[i]] =  {};\r\n\t\tperformance[keys[i]].tradingsymbol =  keys[i];\r\n\r\n\r\n\r\n\t\tlet d1,d2,d3,d4,d5,d6,w1,w2,w3,w4,m1,m2,m3,m4,m5,m6,y1,y2,y3,y4,y5;\r\n\r\n\t\tif(hCandles){\r\n\t\t\tlet data=hCandles;\r\n\t\t\tlet totalTick = data.length-1;\r\n\t\t\tlet close = data[totalTick][4];\r\n\r\n\t\t\td1=Number.parseInt(-(data[totalTick-1][4]-close)*100/data[totalTick-1][4]);\r\n\t\t    d2=Number.parseInt(-(data[totalTick-2][4]-close)*100/data[totalTick-2][4]);\r\n\t\t    d3=Number.parseInt(-(data[totalTick-3][4]-close)*100/data[totalTick-3][4]);\r\n\t\t    d4=Number.parseInt(-(data[totalTick-4][4]-close)*100/data[totalTick-4][4]);\r\n\t\t    d5=Number.parseInt(-(data[totalTick-5][4]-close)*100/data[totalTick-5][4]);\r\n\t\t    d6=Number.parseInt(-(data[totalTick-6][4]-close)*100/data[totalTick-6][4]);\r\n\r\n\t\t    w1=Number.parseInt(-(data[totalTick-5][4]-close)*100/data[totalTick-5][4]);\r\n\t\t    w2=Number.parseInt(-(data[totalTick-10][4]-close)*100/data[totalTick-10][4]);\r\n\t\t    w3=Number.parseInt(-(data[totalTick-15][4]-close)*100/data[totalTick-15][4]);\r\n\t\t    w4=Number.parseInt(-(data[totalTick-20][4]-close)*100/data[totalTick-20][4]);\r\n\r\n\r\n\t\t\tif(totalTick-23 >0 ){\r\n\t\t\t\tm1= Number.parseInt(-(data[totalTick-23][4]-close)*100/data[totalTick-23][4]);\r\n\t\t\t}\r\n\t\t\tif(totalTick-46 >0 ){\r\n\t\t\t\tm2= Number.parseInt(-(data[totalTick-46][4]-close)*100/data[totalTick-46][4]);\r\n\t\t\t}\r\n\t\t\tif(totalTick-69 >0 ){\r\n\t\t\t\tm3= Number.parseInt(-(data[totalTick-69][4]-close)*100/data[totalTick-69][4]);\r\n\t\t\t}\r\n\t\t\tif(totalTick-95 >0 ){\r\n\t\t\t\tm4= Number.parseInt(-(data[totalTick-95][4]-close)*100/data[totalTick-95][4]);\r\n\t\t\t}\r\n\t\t\tif(totalTick-123 >0 ){\r\n\t\t\t\tm5= Number.parseInt(-(data[totalTick-123][4]-close)*100/data[totalTick-123][4]);\r\n\t\t\t}\t\t\t    \r\n\t\t\tif(totalTick-140 >0 ){\r\n\t\t\t    m6=Number.parseInt(-(data[totalTick-140][4]-close)*100/data[totalTick-140][4]);\r\n\t\t\t}\r\n\r\n\t\t\tif(totalTick-269 >0 ){\r\n\t\t\t    y1=Number.parseInt(-(data[totalTick-269][4]-close)*100/data[totalTick-269][4]);\r\n\t\t\t}\r\n\r\n\t\t\tif(totalTick-540 >0 ){\r\n\t\t\t    y2=Number.parseInt(-(data[totalTick-540][4]-close)*100/data[totalTick-540][4]);\r\n\t\t\t}\r\n\r\n\t\t\tif(totalTick-807 >0 ){\r\n\t\t\t    y3=Number.parseInt(-(data[totalTick-807][4]-close)*100/data[totalTick-807][4]);\r\n\t\t\t}\r\n\r\n\t\t\tif(totalTick-1076 >0 ){\r\n\t\t\t    y4=Number.parseInt(-(data[totalTick-1076][4]-close)*100/data[totalTick-1076][4]);\r\n\t\t\t}\r\n\r\n\t\t\tif(totalTick-1150 >0 ){\r\n\t\t\t    y5=Number.parseInt(-(data[0][4]-close)*100/data[0][4]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tperformance[keys[i]]['d1'] =  d1;\r\n\t\tperformance[keys[i]]['d2'] =  d2;\r\n\t\tperformance[keys[i]]['d3'] =  d3;\r\n\t\tperformance[keys[i]]['d4'] =  d4;\r\n\t\tperformance[keys[i]]['d5'] =  d5;\r\n\t\tperformance[keys[i]]['d6'] =  d6;\r\n\t\tperformance[keys[i]]['w1'] =  w1;\r\n\t\tperformance[keys[i]]['w2'] =  w2;\r\n\t\tperformance[keys[i]]['w3'] =  w3;\r\n\t\tperformance[keys[i]]['w4'] =  w4;\r\n\t\tperformance[keys[i]]['m1'] =  m1;\r\n\t\tperformance[keys[i]]['m2'] =  m2;\r\n\t\tperformance[keys[i]]['m3'] =  m3;\r\n\t\tperformance[keys[i]]['m4'] =  m4;\r\n\t\tperformance[keys[i]]['m5'] =  m5;\r\n\t\tperformance[keys[i]]['m6'] =  m6;\r\n\t\tperformance[keys[i]]['y1'] =  y1;\r\n\t\tperformance[keys[i]]['y2'] =  y2;\r\n\t\tperformance[keys[i]]['y3'] =  y3;\r\n\t\tperformance[keys[i]]['y4'] =  y4;\r\n\t\tperformance[keys[i]]['y5'] =  y5;\r\n\r\n\r\n\t}\r\n\r\n\r\n\tthis.setState({performanceHistory:performance,symbolList:Object.keys(performance)});\r\n}\r\n\r\nfetchPerformanceTicksData =()=>{\r\n\r\n      fetch(window.domain+'performaneHistorykite.json?v='+(new Date().getTime()))\r\n        .then(response => response.json())\r\n        .then(function(jsonData){\r\n        \tthis.formatData(jsonData);\r\n        }.bind(this))\r\n        .catch((error) => {\r\n          console.error(error)\r\n        })\r\n        \r\n}\r\n\r\n\r\nonTableRowclick=(data,tableId)=>{\r\n\r\n    const{\r\n      kitedata,\t\r\n      onTableRowclick,\r\n    }=this.props;\r\n\r\n\r\n    onTableRowclick(data,tableId,false);\r\n\r\n    // tvc or ciq\r\n    let hrefGraph = 'https://kite.zerodha.com/chart/ext/tvc/'+kitedata.ticks[data].exchange+'/'+kitedata.ticks[data].tradingsymbol+'/'+kitedata.ticks[data].token\r\n    this.setState({hrefGraph:hrefGraph,symbol:data});    \r\n}\r\n\r\n\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('.performanceScreener tr[rowid=\"'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('.performanceScreener tr[rowid=\"'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n\r\n    this.onTableRowclick(evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nsortonKey=(key)=>{\r\n\r\n    const{\r\n\t\tperformanceHistory,\r\n\t\tsymbolList\r\n    }=this.state;\r\n\r\n\r\n    symbolList.sort((t1, t2)=>{\r\n      let v1 = performanceHistory[t1][key]!=undefined?performanceHistory[t1][key]:-9999 ;\r\n      let v2 = performanceHistory[t2][key]!=undefined?performanceHistory[t2][key]:-9999 ;\r\n      return v2 - v1;\r\n    }); \r\n}\r\n\r\n\r\n\r\nrender() {\r\n \t\r\n    const{\r\n      kitedata,\r\n      showToast,\r\n      addToFavList\r\n    }=this.props;\r\n\r\n\r\n    const{\r\n\t\tperformanceHistory,\r\n\t\tsymbol,\r\n\t\threfGraph,\r\n\t\tsymbolList\r\n    }=this.state;\r\n\r\n\r\n\r\n \treturn (\r\n\t      <div className=\"performanceScreener\">       \r\n\r\n\t\t  { performanceHistory &&  \r\n\r\n\t\t  \t<div>Time: {this.performanceHistory.time?this.performanceHistory.time:'no data'}\r\n\r\n\t\t\t  \t<div className='tableContainer watchlistclass'>\r\n\t\t\t          <table>\r\n\t\t\t            <thead>\r\n\t\t\t            \t<tr><th>Name</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('d1')}}>d1</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('d2')}}>d2</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('d3')}}>d3</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('d4')}}>d4</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('d5')}}>d5</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('d6')}}>d6</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('w1')}}>w1</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('w2')}}>w2</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('w3')}}>w3</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('w4')}}>w4</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('m1')}}>m1</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('m2')}}>m2</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('m3')}}>m3</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('m4')}}>m4</th>\r\n\t\t\t            \t<th   onClick={(evt)=>{this.sortonKey('m5')}}>m5</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('m6')}}>m6</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('y1')}}>y1</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('y2')}}>y2</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('y3')}}>y3</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('y4')}}>y4</th>\r\n\t\t\t            \t<th  onClick={(evt)=>{this.sortonKey('y5')}}>y5</th>\r\n\t\t\t            \t</tr>\r\n\t\t\t            </thead>\r\n\r\n\t\t\t            <tbody>\t\t            \r\n\t\t\t             \t{ symbolList.map((symbol,index)=> <WatchListRow  onTableRowclick={this.onTableRowclick} key={symbol+index} kitedata={kitedata}  performanceData={performanceHistory[symbol]} />)}\t\t            \r\n\r\n\t\t\t            </tbody>\r\n\r\n\t\t\t        </table>\r\n\t\t\t   \t</div>\r\n\r\n\t\t\t   \t{hrefGraph && <iframe className='screenerFrame' src={hrefGraph}></iframe> }\r\n\t\t   </div>\r\n\r\n\r\n\t\t  }\r\n\r\n\r\n\t\t\t<div className=\"screenerToolbar\">\t\r\n\t\t\t\t<div >S: {symbol}</div>\r\n\t\t\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'0');}} type=\"button\">A 0</button>\r\n\t\t\t\t<button className=\"favButton green\"   onClick={(evt)=>{addToFavList(symbol,'MIS');}} type=\"button\">MIS</button>\t\t\t\r\n\t\t\t    <select className=\"\" onChange={this.onSymbolSelect}>\r\n\t\t\t             { this.symbolList.map((symbol,index)=> <option key={index} value={symbol}>{symbol}</option>)}\r\n\t\t\t    </select>\r\n\t\t\t</div>\t\t\r\n\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default PerformanceScreener;\r\n\r\n\r\n\r\n\r\n\r\nclass WatchListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  onTableRowclick=()=>{\r\n    this.props.onTableRowclick(this.props.performanceData.tradingsymbol,this.props.tableId);\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      performanceData,\r\n      onTableRowclick\r\n    }=this.props;\r\n\r\n\r\n    return (\r\n      <tr onClick={this.openStockInfo} onClick={this.onTableRowclick} rowId={performanceData.tradingsymbol}>\r\n        <td >{performanceData.tradingsymbol}</td> \r\n        <td style={{color:(performanceData.d1>0?'green':'red')}}>{performanceData.d1}</td> \r\n        <td style={{color:(performanceData.d2>0?'green':'red')}}>{performanceData.d2}</td>  \r\n        <td style={{color:(performanceData.d3>0?'green':'red')}}>{performanceData.d3}</td>  \r\n        <td style={{color:(performanceData.d4>0?'green':'red')}}>{performanceData.d4}</td>  \r\n        <td style={{color:(performanceData.d5>0?'green':'red')}}>{performanceData.d5}</td>  \r\n        <td style={{color:(performanceData.d6>0?'green':'red')}}>{performanceData.d6}</td>  \r\n\r\n\r\n        <td style={{color:(performanceData.w1>0?'green':'red')}}>{performanceData.w1}</td>  \r\n        <td style={{color:(performanceData.w2>0?'green':'red')}}>{performanceData.w2}</td>  \r\n        <td style={{color:(performanceData.w3>0?'green':'red')}}>{performanceData.w3}</td>  \r\n        <td style={{color:(performanceData.w4>0?'green':'red')}}>{performanceData.w4}</td>  \r\n\r\n        <td style={{color:(performanceData.m1>0?'green':'red')}}>{performanceData.m1}</td>  \r\n        <td style={{color:(performanceData.m2>0?'green':'red')}}>{performanceData.m2}</td>  \r\n        <td style={{color:(performanceData.m3>0?'green':'red')}}>{performanceData.m3}</td>  \r\n        <td style={{color:(performanceData.m4>0?'green':'red')}}>{performanceData.m4}</td>  \r\n        <td style={{color:(performanceData.m5>0?'green':'red')}}>{performanceData.m5}</td>  \r\n        <td style={{color:(performanceData.m6>0?'green':'red')}}>{performanceData.m6}</td>  \r\n\r\n        <td style={{color:(performanceData.y1>0?'green':'red')}}>{performanceData.y1}</td>  \r\n        <td style={{color:(performanceData.y2>0?'green':'red')}}>{performanceData.y2}</td>  \r\n        <td style={{color:(performanceData.y3>0?'green':'red')}}>{performanceData.y3}</td>               \r\n        <td style={{color:(performanceData.y4>0?'green':'red')}}>{performanceData.y4}</td>  \r\n        <td style={{color:(performanceData.y5>0?'green':'red')}}>{performanceData.y5}</td>  \r\n        <td style={{color:(performanceData.y6>0?'green':'red')}}>{performanceData.y6}</td>  \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}","\r\nimport React from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass TradingviewScreener extends React.Component {\r\n  constructor(props) {\r\n    super(props); \r\n    this.state={srcUrl:'https://www.screener.in'};\r\n  }\r\n\r\n\r\n//  All time high https://www.screener.in/screen/raw/?sort=Return+on+capital+employed&order=desc&source=225544&query=Current+price+%3E+High+price+all+time+*+.90+AND%0D%0AMarket+Capitalization+%3E+300\r\n// 52 week  https://www.screener.in/screen/raw/?sort=&order=&source=194743&query=Down+from+52w+high+%3C10%25+AND%0D%0AMarket+Capitalization+%3E300\r\n// Growth  https://www.screener.in/screen/raw/?sort=short_name&order=asc&source=86&query=Net+Profit+latest+quarter+%3E+Net+Profit+preceding+quarter+AND%0D%0ANet+Profit+preceding+quarter+%3E+Net+profit+2quarters+back+AND%0D%0ANet+profit+2quarters+back+%3E+Net+profit+3quarters+back+AND%0D%0AMarket+Capitalization+%3E+300%0D%0A&latest=on\r\n//Dividend https://www.screener.in/screens/3/Highest-Dividend-Yield-Shares/?sort=Dividend+yield&order=desc\r\n//Debt free https://www.screener.in/screen/raw/?sort=Return+on+equity&order=desc&source=27897&query=Debt+%3D0+and+%0D%0ASales+growth++and+%0D%0AMarket+Capitalization+%3E300&latest=on\r\n//High-ROE-Stock https://www.screener.in/screens/136413/High-ROE-Stocks/\r\n//52w-doublers https://www.screener.in/screens/1937/52w-doublers/\r\n\r\n\r\n// UsIndex  https://www.investing.com/markets/united-states\r\n\r\n\r\nsetUrl=(key)=>{\r\n\r\n\tswitch (key){\r\n\r\n\t\tcase 'ATH':\r\n\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screen/raw/?sort=Return+on+capital+employed&order=desc&source=225544&query=Current+price+%3E+High+price+all+time+*+.90+AND%0D%0AMarket+Capitalization+%3E+300'});\r\n\t\t\t\tbreak;\r\n\t\tcase '52WH':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screen/raw/?sort=&order=&source=194743&query=Down+from+52w+high+%3C10%25+AND%0D%0AMarket+Capitalization+%3E300'});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\tcase 'Growth':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screen/raw/?sort=short_name&order=asc&source=86&query=Net+Profit+latest+quarter+%3E+Net+Profit+preceding+quarter+AND%0D%0ANet+Profit+preceding+quarter+%3E+Net+profit+2quarters+back+AND%0D%0ANet+profit+2quarters+back+%3E+Net+profit+3quarters+back+AND%0D%0AMarket+Capitalization+%3E+300%0D%0A&latest=on'});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\tcase 'Dividend':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screens/3/Highest-Dividend-Yield-Shares/?sort=Dividend+yield&order=desc'});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\tcase 'Debtfree':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screen/raw/?sort=Return+on+equity&order=desc&source=27897&query=Debt+%3D0+and+%0D%0ASales+growth++and+%0D%0AMarket+Capitalization+%3E300&latest=on'});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\tcase 'High-ROE':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screens/136413/High-ROE-Stocks/'});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\tcase '52w-doublers':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.screener.in/screens/1937/52w-doublers/'});\r\n\t\t\t\t\tbreak;\r\n\t\tcase 'NSE Index':\r\n\t\t\t\t\tthis.setState({srcUrl:'https://www.nseindia.com/market-data/live-equity-market?symbol=NIFTY%2050'});\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\tdefault:\r\n\t\t\t\tthis.setState({srcUrl:'https://www.screener.in'});\r\n\t\t\t\t\r\n\r\n}\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nrender() { \t\r\n \treturn (\r\n\t      <div className=\"allStocksScreener\">     \r\n\t      \t<button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('ATH');}} type=\"button\">ATH</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('52WH');}} type=\"button\">52Wh</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('Growth');}} type=\"button\">Growth</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('Dividend');}} type=\"button\">Dividend</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('Debtfree');}} type=\"button\">Debtfree</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('High-ROE');}} type=\"button\">High-ROE</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('52w-doublers');}} type=\"button\">52w-doublers</button>\r\n\t        <button  className=\"favButton screenerButton\"  onClick={(evt)=>{this.setUrl('NSE Index');}} type=\"button\">NSE Index</button>\r\n\r\n\t      \t<iframe className='tradingviewFrame' src={this.state.srcUrl}></iframe>\r\n\t     </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default TradingviewScreener;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport AllStocksScreener from './AllStocksScreener';\r\nimport AllSectorScreener from './AllSectorScreener';\r\nimport PerformanceScreener from './PerformanceScreener';\r\nimport TradingviewScreener from './TradingviewScreener';\r\n\r\n\r\n\r\nimport { AiOutlineFundView } from 'react-icons/ai'\r\n\r\nclass Screener extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);\r\n\t    this.state={isShowScreener:false};\r\n\t  }\r\n\r\n\r\n\r\n\tescFunction=(event)=>{\r\n\t    if(event.keyCode === 27) {\r\n\t    \tthis.hideScreener();\r\n\t    }\r\n\t}\r\n\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t  \tdocument.addEventListener(\"keyup\", this.escFunction, false);\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n\t\tdocument.removeEventListener(\"keyup\", this.escFunction, false);\r\n\t}\r\n\r\n\r\n\r\n\tshowScreener=(showScreener)=>{\r\n\t\tthis.setState({isShowScreener:true,isShowAllStockScreener:false,isShowAllSectorScreener:false,isShowPerformanceScreener:false,isTradingview:false});\r\n\t\tlet newSate = {};\r\n\t\tnewSate[showScreener]=true;\r\n\t\tthis.setState(newSate);\r\n\t}\r\n\r\n\thideScreener=()=>{\r\n\t\tthis.setState({isShowScreener:false});\r\n\t}\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      onTableRowclick,\r\n      showToast,\r\n      addToFavList\r\n    }=this.props;\r\n\r\n\r\n\r\n    const{\r\n      isShowScreener,\r\n      isShowAllStockScreener,\r\n      isShowAllSectorScreener,\r\n      isShowPerformanceScreener,\r\n      isTradingview\r\n    }=this.state;\r\n\r\n\r\n\r\n\r\n    return (\r\n    \t<div className=\"screener\">\r\n\t    \t<div className=\"dropdown\">\r\n\t          <button className=\"dropbtn\"><AiOutlineFundView className=\"appicon\"/></button>\r\n\t          <div className=\"dropdown-content screenerList\">\r\n\r\n\t\t           <a onClick={(evt)=>{this.showScreener('isShowAllStockScreener');;}}>All Stocks</a>\r\n\t\t           <a onClick={(evt)=>{this.showScreener('isShowAllSectorScreener');;}}>All Sectors</a>\r\n\t\t           <a onClick={(evt)=>{this.showScreener('isShowPerformanceScreener');}}>Performance</a>\r\n\t\t           <a onClick={(evt)=>{this.showScreener('isTradingview');}}>Screener</a>\r\n\t\t           \r\n\r\n\t          </div>\r\n\t        </div>\r\n\r\n\r\n\t\t\t{ isShowScreener == true &&        \r\n\t\t\t      <div className=\"modal\">       \r\n\t\t\t        <div className=\"modal-content\">\r\n\t\t\t        <span onClick={(evt)=>{this.hideScreener()}} className=\"close\">&times;</span>\r\n\r\n\t\t\t\t\t    <div className='screener-dialog'>\r\n\r\n\t\t\t\t\t    { isShowAllStockScreener &&\t<AllStocksScreener addToFavList={addToFavList} kitedata={kitedata} onTableRowclick={onTableRowclick}   />   }\t \r\n\r\n\r\n\t\t\t\t\t    { isShowAllSectorScreener && <AllSectorScreener addToFavList={addToFavList} kitedata={kitedata} onTableRowclick={onTableRowclick}   />   }\t \r\n\r\n\r\n\t\t\t\t\t    { isShowPerformanceScreener && <PerformanceScreener addToFavList={addToFavList} kitedata={kitedata} onTableRowclick={onTableRowclick}   />   }\t \r\n\r\n\r\n\t\t\t\t\t    { isTradingview && <TradingviewScreener  />   }\t \r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t        </div>\r\n\r\n\t\t\t    \t</div>\r\n\t\t\t     </div>\r\n\r\n\t\t\t}     \r\n\r\n\r\n\t\t</div>\r\n\r\n\r\n    )\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default Screener;\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {getHolding,placeMISBuyLimitOrder,placeMISSellLimitOrder,placeMISBuyMarketOrder,placeMISSellMarketOrder,getPosition,placeMISBuySLMarketOrder,placeMISSellSLMarketOrder,\r\nplaceBuyLimitOrder,placeSellLimitOrder,placeBuyMarketOrder,placeSellMarketOrder,placeBuySLMarketOrder,placeSellSLMarketOrder\r\n} from './OrderUtil';\r\n\r\n\r\nclass HoldingOrderDialog extends React.Component {\r\n\t  constructor(props) {\r\n\t    super(props);  \r\n\r\n      let orderWindowView = {buyView:true,sellView:true,sellBuyCNCMISView:false};\r\n      orderWindowView = localStorage.getItem(\"holdingOrderWindowView\")!=undefined ?JSON.parse(localStorage.getItem(\"holdingOrderWindowView\")):orderWindowView;      \r\n\r\n      let holdingOrder = localStorage.getItem(\"holdingRowOrder\")!=undefined ?JSON.parse(localStorage.getItem(\"holdingRowOrder\")):[];      \r\n\r\n      this.rowfRefs ={};\r\n\r\n      this.state={orderWindowView:orderWindowView,isHideDialog:false,orderType:\"MARKET\",totaOrderRequest:undefined,totalFillOrderRequest:undefined,holdingOrder:holdingOrder};    \r\n\r\n\t  }\r\n\r\n  toogleBuyView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.buyView=!orderWindowView.buyView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n    localStorage.setItem(\"holdingOrderWindowView\", JSON.stringify(orderWindowView));    \r\n  }\r\n\r\n  toogleSellView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellView=!orderWindowView.sellView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n    localStorage.setItem(\"holdingOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n\r\n  toogleSellBuyCNCMISView=()=>{\r\n    let orderWindowView = this.state.orderWindowView;\r\n    orderWindowView.sellBuyCNCMISView=!orderWindowView.sellBuyCNCMISView;\r\n    this.setState({orderWindowView:orderWindowView});\r\n    localStorage.setItem(\"holdingOrderWindowView\", JSON.stringify(orderWindowView));  \r\n  }\r\n\r\n\r\n\r\n  saveHoldingRowOrder=(symbol)=>{\r\n    let holdingOrder = this.state.holdingOrder;\r\n    let indertPos = holdingOrder.indexOf(symbol);\r\n    if(indertPos > 0){\r\n    \tholdingOrder.splice(indertPos,1);\r\n    }\r\n    holdingOrder.unshift(symbol);\r\n    this.setState({holdingOrder:holdingOrder});\r\n    localStorage.setItem(\"holdingRowOrder\", JSON.stringify(holdingOrder));    \r\n  }\r\n\r\n\r\n\r\n  onPositionSuccess=(data)=>{\r\n    this.setState({positionsdata:data});    \r\n  }\r\n  onPositionError=(data)=>{\r\n   this.updateOrderStatus('Error in fetching position');\r\n  }\r\n  fetchPositionData=(data)=>{\r\n    getPosition(this.onPositionSuccess,this.onPositionError);\r\n  }\r\n\r\n  onHoldingSuccess=(data)=>{\r\n    this.setState({holdingsdata:data});    \r\n  }\r\n  onHoldingError=(data)=>{\r\n   this.updateOrderStatus('Error in fetching holding');\r\n  }\r\n  fetchHoldingData=(data)=>{\r\n    getHolding(this.onHoldingSuccess,this.onHoldingError);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.fetchPositionData();\r\n    this.fetchHoldingData();\r\n    this.updateOrderStatus('HOLDINGS');\r\n    this.interval = setInterval(this.fetchPositionData, 2000);\r\n    this.holdinginterval=setInterval(this.fetchHoldingData,2000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval( this.interval );\r\n    clearInterval( this.holdinginterval );\r\n    clearTimeout(this.misTimeout);\r\n  }\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\tupdateOrderStatus=(data)=>{\r\n\t\tthis.setState({orderStatus:data})\r\n\t}\r\n\r\n\tshowDialog=(data)=>{\r\n    \tthis.setState({isHideDialog:false})\r\n  \t}\r\n\r\n\r\n updateFillOrderRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n    if(totalOrderRequest !=undefined){\r\n      totalFillOrderRequest++;\r\n      this.setState({totalFillOrderRequest:totalFillOrderRequest});  \r\n      if(totalFillOrderRequest == totalOrderRequest){\r\n        this.setState({totalOrderRequest:undefined,totalFillOrderRequest:undefined});  \r\n      }\r\n    }    \r\n  }\r\n\r\n\r\ncheckFoPendingRequest=()=>{\r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  let noOffendingOrderRequest = 0;      \r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      noOffendingOrderRequest += rowRef.getPendingOrderRequest();\r\n  }\r\n\r\n  if(totalOrderRequest != undefined || noOffendingOrderRequest != 0){\r\n      window.alert('Request pending -> All '+noOffendingOrderRequest +' Bulk : '+(totalOrderRequest-totalFillOrderRequest) );\r\n      return true;\r\n  }\r\n  return false;          \r\n}\r\n\r\n\r\ntotalSelectedRows=()=>{\r\n  let totalOrderRequest=0;\r\n  for (let key of Object.keys(this.rowfRefs)) {\r\n      let rowRef  = this.rowfRefs[key];\r\n      if(rowRef.isCheckBoxChecked()){\r\n        totalOrderRequest++;\r\n      } \r\n  }\r\n  return totalOrderRequest;\r\n}\r\n\r\n\r\nplaceBuyOrderForselectedRow=()=>{          \r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n  let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"BUY order for all selected rows confirm : \"+totalOrderRequest); \r\n  if(isOk && totalOrderRequest>0){\r\n      this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n      for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendBuyOrderRequest();\r\n        } \r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nplaceSellOrderForselectedRow=(data)=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n    let {totalOrderRequest,\r\n        totalFillOrderRequest} = this.state;\r\n  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  let isOk = window.confirm(\"SELL order for all selected rows confirm : \"+totalOrderRequest);\r\n  if(isOk && totalOrderRequest>0){\r\n    this.setState({totalOrderRequest:totalOrderRequest,totalFillOrderRequest:0});\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          rowRef.sendSellOrderRequest();\r\n        } \r\n    }    \r\n  }\r\n}\r\n\r\n\r\nonSQOFFClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n   let  totalOrderRequest= this.totalSelectedRows();\r\n   let isSoffOnlySelectedRows=false;\r\n   if(totalOrderRequest != 0){\r\n      isSoffOnlySelectedRows = window.confirm('SQ only selected rows:'+totalOrderRequest);\r\n   }\r\n\r\n  const perc = window.prompt('selected position '+(isSoffOnlySelectedRows?totalOrderRequest:' ALL ') +' Percetage to SQ OFF ->');\r\n\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 20){\r\n  \twindow.alert(\"HOLDINGS SQOFF ALERT > 20% doing nothing\");\r\n  \treturn;  \t\r\n  }else if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 10){\r\n  \twindow.alert(\"HOLDINGS SQOFF ALERT > 10%\");\r\n  }\r\n\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(isSoffOnlySelectedRows && !rowRef.isCheckBoxChecked()){\r\n          continue;\r\n        }\r\n        totalValue+=rowRef.fillQtyValueOnSqOffClick(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\n\r\nonTpriceClick=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }\r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n  const perc = window.prompt('Position selected '+totalOrderRequest+' Stop Loss %');\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n         if(rowRef.isCheckBoxChecked()){\r\n            totalValue+=rowRef.fillPriceValueOnTpriceClick(perc);\r\n         }        \r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n}\r\n\r\n\r\nfillQtyForValue=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n\r\n  let  totalOrderRequest= this.totalSelectedRows();\r\n\r\n  const value = window.prompt('Build Position '+totalOrderRequest+' for amount ->');\r\n  let totalValue=0;\r\n  if(value!=null && value!=\"\" && !isNaN(value) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(rowRef.isCheckBoxChecked()){\r\n          totalValue+=rowRef.fillQtyForValue(value);\r\n        }         \r\n    }\r\n    this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n  }\r\n\r\n}\r\n\r\n\r\nexitSoldPosition=()=>{\r\n   if(this.checkFoPendingRequest()){\r\n      return;\r\n   }       \r\n   let  totalOrderRequest= this.totalSelectedRows();\r\n   let isSoffOnlySelectedRows=false;\r\n   if(totalOrderRequest != 0){\r\n      isSoffOnlySelectedRows = window.confirm('Exit only selected rows:'+totalOrderRequest);\r\n   }\r\n\r\n  const perc = window.prompt('Exit position '+(isSoffOnlySelectedRows?totalOrderRequest:' ALL ') +' Percetage to Exit(%) ->');\r\n\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 100){\r\n  \twindow.alert(\"Exit % ALERT > 100% doing nothing\");\r\n  \treturn;  \t\r\n  }else if(perc!=null && perc!=\"\" && !isNaN(perc) && perc > 50){\r\n  \twindow.alert(\"Exit %  ALERT > 50%\");\r\n  }\r\n\r\n  let totalValue=0;\r\n  if(perc!=null && perc!=\"\" && !isNaN(perc) ){\r\n    for (let key of Object.keys(this.rowfRefs)) {\r\n        let rowRef  = this.rowfRefs[key];\r\n        if(isSoffOnlySelectedRows && !rowRef.isCheckBoxChecked()){\r\n          continue;\r\n        }\r\n        totalValue+=rowRef.exitSoldPosition(perc);\r\n    }\r\n  }\r\n  this.updateOrderStatus('Order Value -> '+ (totalValue/1000).toFixed(1)+\"K\");\r\n\r\n}\r\n\r\n\r\n\r\nonSymbolSelect=(evt)=>{\r\n  let element = document.querySelectorAll('#holdingOrderDialog tr[rowid=\"HOLDING_ORDER-'+ evt.target.value +'\"]');\r\n  if(element && element.length>0){\r\n    element[0].scrollIntoView();\r\n    element[0].classList.remove('blinkRow');\r\n    setTimeout((value)=>{document.querySelectorAll('#holdingOrderDialog tr[rowid=\"HOLDING_ORDER-'+ value +'\"]')[0].classList.add('blinkRow')},50,evt.target.value);\r\n  }  \r\n}\r\n\r\n\r\nonOnderTypeChange=(evt)=>{\r\n  if(evt.target.name=='orderType'){\r\n     this.setState({orderType:evt.target.value});\r\n  }\r\n}\r\n\r\nsetSortOrder=(key)=>{\r\n\tlet value = this.state[key];\r\n \tthis.setState({isSortPosition:false,isSortOnValue:false,isSortOnPriceChange:false,isSortOnMISQty:false,isSortOnDayQty:false});\r\n \tlet s1 = {};\r\n \ts1[key] = !value;\r\n\tthis.setState(s1);\r\n}\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      BSEtoNSEsymbolsMapping,\r\n      hideHoldingOrderDialog,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick,\r\n //   positionsdata,  \t//poll from server \r\n//\t  holdingsdata,\t \t//poll from server \r\n      updateMarginData\r\n    }=this.props;\r\n\r\n    const{\r\n      orderStatus,\r\n      orderWindowView,\r\n      isHideDialog,\r\n      positionsdata, \t//poll from client \r\n      holdingsdata, \t\t//poll from client \r\n      orderType,\r\n      isSortPosition,\r\n      isSortOnValue,\r\n      isSortOnPriceChange,\r\n      isSortOnDayQty,\r\n      isSortOnMISQty,\r\n      totalOrderRequest,\r\n      totalFillOrderRequest,\r\n      holdingOrder\r\n    }=this.state;\r\n\r\n    let kiteBasketOrderData=[];\r\n    let positionMap={};\r\n    let closeCNC =0;\r\n    let totalCNC =0;    \r\n\r\n\r\n    if(positionsdata && holdingsdata){\r\n\r\n    \tfor(let i=0;i<holdingsdata.data.length;i++){\r\n        if(BSEtoNSEsymbolsMapping[holdingsdata.data[i].tradingsymbol]){\r\n          holdingsdata.data[i].tradingsymbol = BSEtoNSEsymbolsMapping[holdingsdata.data[i].tradingsymbol];\r\n        }\r\n    \t \tpositionMap[holdingsdata.data[i].tradingsymbol]={holding:holdingsdata.data[i]}\r\n    \t}\t\t\r\n\r\n\t    for(let i=0;i<positionsdata.data.net.length;i++){\r\n\t\t\t if(positionsdata.data.net[i].product == 'CNC' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n\t\t\t \tif(positionMap[positionsdata.data.net[i].tradingsymbol] == undefined){\r\n\t\t\t \t\tpositionMap[positionsdata.data.net[i].tradingsymbol]={dayCNC:positionsdata.data.net[i]}\r\n\t\t\t \t}else{\r\n\t\t\t \t\tpositionMap[positionsdata.data.net[i].tradingsymbol].dayCNC=positionsdata.data.net[i];\r\n\t\t\t \t}\r\n\t        }      \r\n\t    }\r\n\r\n\t    for(let i=0;i<positionsdata.data.net.length;i++){\r\n\t        if(positionsdata.data.net[i].product == 'MIS' && kitedata.ticks[positionsdata.data.net[i].tradingsymbol]!=undefined){\r\n\t        \tif(positionMap[positionsdata.data.net[i].tradingsymbol] != undefined){\r\n\t        \t\tpositionMap[positionsdata.data.net[i].tradingsymbol].dayMIS=positionsdata.data.net[i];\r\n\t        \t}\t          \r\n\t        }      \r\n\t    }\r\n\r\n\t    kiteBasketOrderData = Object.keys(positionMap);\r\n\t    let saveRowOrder=[];\r\n\t    for(let i=0;i<holdingOrder.length;i++){\r\n\t    \tif(positionMap[holdingOrder[i]] !=undefined){\r\n\t    \t\tsaveRowOrder.push(holdingOrder[i]);\r\n\t    \t}\r\n\t    }\r\n\t    for(let i=0;i<kiteBasketOrderData.length;i++){\r\n\t    \tif(saveRowOrder.indexOf(kiteBasketOrderData[i]) == -1){\r\n\t    \t\tsaveRowOrder.push(kiteBasketOrderData[i]);\r\n\t    \t}\r\n\t    }\r\n\t    kiteBasketOrderData = saveRowOrder;\r\n\r\n\t    totalCNC = kiteBasketOrderData.length;\t\r\n\t    for(let i=0;i<kiteBasketOrderData.length;i++){\r\n\t    \tlet combinedPosition = positionMap[kiteBasketOrderData[i]];\r\n     \t\tif(combinedPosition.holding && ((combinedPosition.holding.quantity + combinedPosition.holding.t1_quantity) == 0)){\r\n     \t\t\tcloseCNC++;\r\n     \t\t}\t\r\n\t    }\r\n\r\n\r\n\t    if(isSortPosition){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].holding?(positionMap[a].holding.quantity + positionMap[a].holding.t1_quantity)*positionMap[a].holding.last_price - (positionMap[a].holding.quantity + positionMap[a].holding.t1_quantity)*positionMap[a].holding.average_price:0;\r\n\t              let v2 = positionMap[b].holding?(positionMap[b].holding.quantity + positionMap[b].holding.t1_quantity)*positionMap[b].holding.last_price - (positionMap[b].holding.quantity + positionMap[b].holding.t1_quantity)*positionMap[b].holding.average_price:0;\r\n\t              v1 =isNaN(v1)?0:v1;\r\n\t              v2 =isNaN(v2)?0:v2;\r\n\t              return v1-v2;\r\n\t            });        \r\n\t      }else if(isSortOnValue){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].holding?(positionMap[a].holding.quantity + positionMap[a].holding.t1_quantity)*positionMap[a].holding.last_price:0;\r\n\t              let v2 = positionMap[b].holding?(positionMap[b].holding.quantity + positionMap[b].holding.t1_quantity)*positionMap[b].holding.last_price:0;\r\n\t              return v2-v1;\r\n\t            });\r\n\r\n\t      }else if(isSortOnPriceChange){\r\n\t        if(this.previosChangeSortedOrder == undefined){\r\n\t            let kiteBasketOrderDataCopy = [...kiteBasketOrderData]\r\n\t            kiteBasketOrderDataCopy.sort(function(a, b){\r\n\t              let v1 =kitedata.ticks[a].change;\r\n\t              let v2 =kitedata.ticks[b].change;\r\n\t              return v1-v2;\r\n\t            });\r\n\t            kiteBasketOrderData = kiteBasketOrderDataCopy;\r\n\t            this.previosChangeSortedOrder = kiteBasketOrderDataCopy;\r\n\t        }else{\r\n\t          kiteBasketOrderData = this.previosChangeSortedOrder;\r\n\t        }\r\n\t      }else if(isSortOnDayQty){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].dayCNC?positionMap[a].dayCNC.quantity :0;\r\n\t              let v2 = positionMap[b].dayCNC?positionMap[b].dayCNC.quantity :0;\r\n\t              if(v1==0) v1 = -9999999; \r\n\t              if(v2==0) v2 = -9999999; \r\n\r\n\t              return v2-v1;\r\n\t            });\r\n\t      }else if(isSortOnMISQty){\r\n\t            kiteBasketOrderData.sort(function(a, b){\r\n\t              let v1 = positionMap[a].dayMIS?positionMap[a].dayMIS.quantity :0;\r\n\t              let v2 = positionMap[b].dayMIS?positionMap[b].dayMIS.quantity :0;\r\n\t              if(v1==0) v1 = -9999999; \r\n\t              if(v2==0) v2 = -9999999; \t              \r\n\t              return v2-v1;\r\n\t            });\r\n\t      }      \r\n\r\n\r\n    }\r\n\r\n\r\n    let buyButtonText = 'BUY'; let sellButtonText = 'SELL'\r\n    if(totalOrderRequest!=undefined){\r\n        buyButtonText = `B(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n        sellButtonText = `S(${totalOrderRequest}/${totalFillOrderRequest})`;\r\n    }\r\n\r\n\r\n\t \t\r\n\t    return (\r\n\t      <div id='holdingOrderDialog' style={{display:(isHideDialog?'none':'block')}} className=\"modal\">       \r\n\t        <div style={{width:'960px'}} className=\"modal-content\">\r\n\t          <div  className=\"orderStatusView\">{orderStatus} <div className=\"openPosition\">({totalCNC - closeCNC}/{totalCNC})</div></div>\t\r\n\t          <span onClick={hideHoldingOrderDialog} className=\"close\">&times;</span>\r\n\t          <div className='basket-orders holding-orders'>\t          \r\n\t\t          <table>\r\n\t\t            <thead>\r\n\t\t              <tr>\r\n\t\t                <th>Select</th>\r\n\t\t                <th>Name</th>\t\t              \r\n\t\t                <th>PnL(%)</th>\r\n\t\t                <th>Value</th>\r\n\t\t                <th>Q(H)</th>\r\n\t\t                <th>Q(D)</th>\r\n\t\t                <th>Q(M)</th>\t\t                \r\n\t\t                <th>Chg%</th>\r\n\t\t                <th>LTP</th>\r\n\t\t                <th>Qty</th>\r\n\t\t                <th>Price</th>\r\n\t\t             \t{orderWindowView.buyView &&  \t<th>BUY</th>  }\t\t \r\n\t\t\t\t\t\t{orderWindowView.sellView &&    <th>SELL</th> }\r\n\t\t\t\t\t\t{orderWindowView.sellBuyCNCMISView &&  <th>S-B</th> }\r\n\t\t\t\t\t\t\r\n\t\t              </tr>\r\n\t\t            </thead>\r\n\r\n\t\t            <tbody>\r\n\t\t            \r\n\t\t             { kiteBasketOrderData.map((symbol,index)=> <HoldingListRow saveHoldingRowOrder={this.saveHoldingRowOrder} updateFillOrderRequest={this.updateFillOrderRequest} fetchPositionData={this.fetchPositionData} fetchHoldingData={this.fetchHoldingData} updateMarginData={updateMarginData} positionsdata={positionMap[symbol]} ref={ele => this.rowfRefs['HOLDING_ORDER-'+symbol] = ele}  orderType={orderType} orderWindowView={orderWindowView} onTableRowclick={onTableRowclick} addToFavList={addToFavList} removeFromFavList={removeFromFavList} tableId={tableId} updateOrderStatus={this.updateOrderStatus} key={'HOLDING_ORDER-'+symbol} kitedata={kitedata}  symbol={symbol} />)}\r\n\t\t             \r\n\t\t            </tbody>\r\n\t\t        </table>\r\n\t         </div>\r\n\r\n\t        <button className=\"favButton\"  onClick={(evt)=>{this.setState({isHideDialog:true})}} type=\"button\">H</button>   \r\n\t        <button className=\"favButton\"  onClick={this.toogleSellView} type=\"button\">S</button>\r\n\t        <button className=\"favButton\"  onClick={this.toogleBuyView} type=\"button\">B</button>\r\n\t        <button className=\"favButton\"  onClick={this.toogleSellBuyCNCMISView} type=\"button\">S-B</button>\r\n\r\n\r\n\t        \r\n\t        <div style={{marginLeft: '10px'}} className=\"dropdown\">\r\n\t          <button style={{fontSize:'15px',backgroundColor:((isSortPosition || isSortOnValue || isSortOnPriceChange || isSortOnMISQty || isSortOnDayQty)?'red':'initial')}} className=\"dropbtn\">Srt</button>\r\n\t          <div className=\"dropdown-content\" style={{bottom: '0px'}}>\r\n\t            <a style={{backgroundColor:(isSortPosition?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortPosition');}}>{'Loss'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnValue?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnValue');}}>{'Total Value'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnPriceChange?'red':'initial')}} onClick={(evt)=>{this.previosChangeSortedOrder=undefined;this.setSortOrder('isSortOnPriceChange');}}>{'Change'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnDayQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnDayQty');}}>{'Q(D)'}</a>\r\n\t            <a style={{backgroundColor:(isSortOnMISQty?'red':'initial')}} onClick={(evt)=>{this.setSortOrder('isSortOnMISQty');}}>{'Q(M)'}</a>\r\n\t          </div>\r\n\t        </div>\r\n\r\n\t      \r\n\t        <button className=\"favButton\"  onClick={this.onSQOFFClick} type=\"button\">HOLD SQOFF</button>\r\n\t        <button className=\"favButton\"  onClick={this.onTpriceClick} type=\"button\">Tpri</button>\r\n\t        <button className=\"favButton\"  onClick={this.fillQtyForValue} type=\"button\">Fill Qty</button>\r\n\t        <button className=\"favButton\"  onClick={this.exitSoldPosition} type=\"button\">Exit S</button>\r\n\r\n\r\n\t        <div className=\"orderType\">      \r\n\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_MARKET\" checked={orderType==\"MARKET\"?true:false} value=\"MARKET\"/><label for=\"ORDER_TYPE_MARKET\">M</label>\r\n\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_LIMIT\" checked={orderType==\"LIMIT\"?true:false} value=\"LIMIT\"/><label for=\"ORDER_TYPE_LIMIT\">L</label>\r\n\t          <input type=\"radio\" name=\"orderType\" onClick={this.onOnderTypeChange} id=\"ORDER_TYPE_SL_MARKET\" checked={orderType==\"SL_MARKET\"?true:false} value=\"SL_MARKET\"/><label for=\"ORDER_TYPE_SL_MARKET\">SL_M</label>\r\n\t        </div>\r\n\r\n\t        <select className=\"selectSymbolsBasket\" onChange={this.onSymbolSelect}>\r\n\t             { kiteBasketOrderData.map((symbol,index)=> <option value={symbol}>{symbol}</option>)}\r\n\t        </select>\r\n\r\n\r\n\t        {orderWindowView.buyView && <button  className=\"builkOrderBtn favButton buyButton\"  onClick={this.placeBuyOrderForselectedRow} type=\"button\">{buyButtonText}</button> }\r\n\t        {orderWindowView.sellView && <button  className=\"builkOrderBtn favButton sellButton\"  onClick={this.placeSellOrderForselectedRow} type=\"button\">{sellButtonText}</button> }\r\n\r\n\r\n\t       </div>\r\n\t      </div>\r\n\t    )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default HoldingOrderDialog;\r\n\r\n\r\n\r\n\r\nclass HoldingListRow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={isRowEnable:false,pendingOrderRequest:0};\r\n  }\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fillInputWithLatestPrice();\r\n\t}  \r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\r\n\t}\r\n\r\n\t  componentWillUnmount(){\r\n\t    clearTimeout(this.misTimeout);\r\n\t  }\r\n\r\n\r\n  fillInputWithLatestPrice=()=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n  \tlet depth = kitedata.ticks[symbol].depth;\t\r\n\r\n  \tif(depth){\r\n\t  \tthis.setState({quantity:0,price:kitedata.ticks[symbol].lastTradedPrice});\r\n  \t}\r\n  }\r\n\r\n\r\n  fillQtyForValue=(value)=>{\r\n    const{\r\n      kitedata,\r\n      symbol\r\n    }=this.props;\r\n    let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice; \r\n    let quantity =  Number.parseInt(value/lastTradedPrice);\r\n    this.setState({quantity:quantity});\r\n    return quantity*lastTradedPrice;\r\n  }\r\n\r\n\r\n  onInputValueChange=(evt)=>{\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable\r\n    }=this.state;\r\n\r\n  \tif(evt.target.name == 'quantity'){\r\n  \t\tquantity=evt.target.value;\r\n  \t\tthis.setState({quantity:quantity});\r\n  \t}else if(evt.target.name == 'price'){\r\n  \t\t price=evt.target.value;\r\n  \t\tthis.setState({price:price});\r\n  \t}else if(evt.target.name == 'checkbox'){\r\n      isRowEnable=evt.target.checked;\r\n      this.setState({isRowEnable:isRowEnable});      \r\n    }\r\n\r\n  }\r\n\r\n\r\n fillQtyValueOnSqOffClick=(perc)=>{\r\n\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata && positionsdata.holding){\r\n      let quantity = Number.parseInt(Math.abs(((positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*perc/100)));      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n\r\n    return orderValue;\r\n  }\r\n\r\n\r\n exitSoldPosition=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata && positionsdata.dayCNC){\r\n      let quantity = positionsdata.dayCNC.quantity;\r\n      if(quantity < 0){\t\r\n      \tquantity = Number.parseInt(Math.abs(((quantity)*perc/100))); \r\n      }else{\r\n      \tquantity =0;\r\n      }      \r\n      this.setState({quantity:quantity});\r\n      if(quantity==0){\r\n        this.markCheckBox(false);\r\n      }else{\r\n        this.markCheckBox(true)\r\n      }\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      orderValue = quantity*lastTradedPrice;\r\n    }\r\n    return orderValue;\r\n }\r\n\r\n\r\n\r\nfillPriceValueOnTpriceClick=(perc)=>{\r\n    let{\r\n      positionsdata,\r\n      kitedata,\r\n      symbol      \r\n    }=this.props;\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n\r\n    let orderValue =0;\r\n    if(positionsdata){\r\n      let lastTradedPrice = kitedata.ticks[symbol].lastTradedPrice;\r\n      let priceChange = (lastTradedPrice*perc)/100; \r\n\r\n \t  price = lastTradedPrice - priceChange; //sell stop losss trigger\r\n\r\n      this.setState({price:(price).toFixed(1)});\r\n      \r\n      orderValue = quantity*price;\r\n    }\r\n    return orderValue;\r\n}\r\n\r\n\r\nonOrderSuccess=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      fetchHoldingData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    updateMarginData();\r\n    fetchPositionData();\r\n    fetchHoldingData();\r\n\tupdateOrderStatus(data.data.order_id);\r\n\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}\r\n\r\n\r\nonOrderError=(data)=>{\r\n    const{\r\n      updateOrderStatus,\r\n      updateMarginData,\r\n      fetchPositionData,\r\n      fetchHoldingData,\r\n      updateFillOrderRequest\r\n    }=this.props;\t\t\r\n\r\n    const{\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    updateMarginData();\r\n    fetchPositionData();\r\n    fetchHoldingData();\r\n\tupdateOrderStatus(data.message);\r\n\tthis.setState({quantity:0,isRowEnable:false,pendingOrderRequest:pendingOrderRequest-1});\r\n  this.markCheckBox(false);\r\n  updateFillOrderRequest();\r\n}  \r\n\r\nmarkCheckBox=(enable)=>{\r\n // this.checkBoxRef.checked=enable;\r\n  this.setState({isRowEnable:enable});\r\n}  \r\n\r\nisCheckBoxChecked=()=>{\r\n  return this.state.isRowEnable == true;\r\n}  \r\n\r\ngetPendingOrderRequest=()=>{\r\n  return this.state.pendingOrderRequest ;\r\n}  \r\n\r\n\r\ngetOrderValue=()=>{\r\n    const{\r\n      quantity,\r\n      price,\r\n    }=this.state;\r\n  return Math.abs(quantity) * price;\r\n}  \r\n\r\n\r\nsendCNCMISSellBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n   \t  //place CNC SELL order\t\r\n      placeSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n      this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+2}); // to avoid multiple orders\r\n\r\n      //place MIS BUY order \r\n      this.misTimeout = setTimeout(()=>{\r\n\t      placeMISBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n\t      updateOrderStatus(symbol +' -> BUY  -> MARKET -> MIS ->' +'        Q: '+ quantity + '   P: '+price);      \t\r\n      },1300);\r\n\r\n   }else{\r\n   \t\twindow.alert('ONLY MARKET ORDER ALLOWED');\r\n   } \r\n\r\n}\r\n\r\nsendBuyOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeBuyMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> MARKET -> CNC ->' +'        Q: '+ quantity + '   P: '+price);\r\n   } else if(orderType==\"LIMIT\"){\r\n      placeBuyLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'BUY',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> LIMIT -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   } else if(orderType==\"SL_MARKET\"){\r\n      placeBuySLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'BUY',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> BUY  -> SL-MARKET -> CNC ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   }\r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n\r\n}\r\n\r\nsendSellOrderRequest=()=>{\r\n\r\n    const{\r\n      quantity,\r\n      price,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      updateOrderStatus,\r\n      orderType\r\n    }=this.props;\r\n\r\n   if(orderType==\"MARKET\"){\r\n      placeSellMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'MARKET'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> MARKET -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"LIMIT\"){\r\n      placeSellLimitOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,quantity:quantity,transaction_type:'SELL',order_type:'LIMIT'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> LIMIT -> CNC ->' +'        Q: '+ quantity + '   P: '+price);    \r\n   }else if(orderType==\"SL_MARKET\"){\r\n      placeSellSLMarketOrder({exchange:kitedata.ticks[symbol].exchange,tradingsymbol:symbol,price:price,trigger_price:price,quantity:quantity,transaction_type:'SELL',order_type:'SL-M'},this.onOrderSuccess,this.onOrderError);\r\n      updateOrderStatus(symbol +' -> SELL  -> SL-MARKET -> CNC ->' +'        Q: '+ quantity + '   TP: '+price);\r\n   } \r\n\r\n   this.setState({quantity:0,pendingOrderRequest:pendingOrderRequest+1}); // to avoid multiple orders\r\n}\r\n\r\n\r\n  openStockInfo=()=>{\r\n    this.props.onTableRowclick(this.props.symbol);\r\n  }\r\n\r\n  render() {\r\n\r\n    const{\r\n      kitedata,\r\n      symbol,\r\n      tableId,\r\n      addToFavList,\r\n      removeFromFavList,\r\n      onTableRowclick, \r\n      orderWindowView,\r\n      positionsdata,\r\n      saveHoldingRowOrder     \r\n    }=this.props;\r\n\r\n\r\n    let{\r\n      quantity,\r\n      price,\r\n      isRowEnable,\r\n      pendingOrderRequest\r\n    }=this.state;\r\n\r\n\r\n    let changeClass  = '';\r\n    if( kitedata.ticks[symbol] ){\r\n      changeClass=kitedata.ticks[symbol].change<0 ?'red':'green';\r\n    }\r\n\r\n    let checkboxstyle={};\r\n    if(isRowEnable){\r\n      checkboxstyle.backgroundColor='grey';\r\n    } \r\n    \r\n\r\n     let rowstyle={};\r\n     if(pendingOrderRequest!=0){\r\n        rowstyle.backgroundColor='gold';\r\n     }\r\n\r\n    let profit  =  0;let profitPec  =  0;let holdingValue  =  0;let holdingQty=0;let dayQtyCNC=0;let dayQtyMIS=0;\r\n    if(positionsdata && positionsdata.holding){\r\n    \tprofit  = \t(positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.last_price - (positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.average_price;\r\n    \tprofitPec = (profit*100/((positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.average_price)).toFixed(0);\r\n    \tprofitPec = isNaN(profitPec)?0:profitPec;\r\n    \tholdingValue = (positionsdata.holding.quantity + positionsdata.holding.t1_quantity)*positionsdata.holding.last_price;\r\n    \tholdingQty = positionsdata.holding.quantity + positionsdata.holding.t1_quantity;\r\n    }\r\n\r\n    if(positionsdata && positionsdata.dayCNC){\r\n    \tdayQtyCNC = positionsdata.dayCNC.quantity;\r\n    }\r\n\r\n    if(positionsdata && positionsdata.dayMIS){\r\n    \tdayQtyMIS = positionsdata.dayMIS.quantity;\r\n    }\r\n\r\n    let plClass = profit<0 ?'red':'green';\r\n    let dqCNCClass = dayQtyCNC<0 ?'red':'green';\r\n    let dqMISClass = dayQtyMIS<0 ?'red':'green';\r\n\r\n\r\n    return (\r\n      <tr style={rowstyle} rowId={'HOLDING_ORDER-'+symbol}>\r\n        \t<td onClick={(evt)=>{this.setState({isRowEnable:!isRowEnable})}} style={checkboxstyle}><input tabIndex={\"-1\"} style={{width:'20px',height: '20px'}}    onChange={this.onInputValueChange} type=\"checkbox\" name='checkbox' checked={isRowEnable}></input></td>  \r\n  \t\t\t<td onDoubleClick={(evt)=>{saveHoldingRowOrder(symbol)}}>{symbol}</td>    \r\n  \t\t\t<td  className={plClass}>{(profit/1000).toFixed(2)}k&nbsp;<span className=\"holdPercGain\">({profitPec}%)</span></td>  \r\n  \t\t\t<td>{Math.round(holdingValue/1000)}k</td>  \r\n  \t\t\t<td>{holdingQty}</td>  \r\n  \t\t\t<td className={dqCNCClass}>{dayQtyCNC==0?'':dayQtyCNC}</td>  \r\n  \t\t\t<td className={dqMISClass}>{dayQtyMIS==0?'':dayQtyMIS}</td>    \r\n        \t<td onClick={this.openStockInfo} className={changeClass}>{(kitedata.ticks[symbol].change).toFixed(2)}%</td>    \r\n  \t\t\t<td >{kitedata.ticks[symbol].lastTradedPrice}</td>   \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\"   autoComplete=\"off\" onClick={event => event.target.select()} onInput={this.onInputValueChange} className=\"quantity\" step={1} name=\"quantity\" min=\"1\" max=\"1000\" value={quantity}></input>\r\n  \t\t\t</td>         \r\n  \t\t\t<td>\r\n  \t\t\t\t<input type=\"number\" tabIndex={\"-1\"} autoComplete=\"off\" onClick={event => event.target.select()}   onInput={this.onInputValueChange} className=\"price\" step={0.2} name=\"price\" min=\"1\" max=\"10000\" value={price}></input>\r\n  \t\t\t</td> \t\t\r\n  \t\t\t{orderWindowView.buyView && <td><button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'green'}} className = 'buyButton' onClick={this.sendBuyOrderRequest}> BUY </button></td> }\r\n  \t\t\t{orderWindowView.sellView && <td> <button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'#e86666'}} className='sellButton' onClick={this.sendSellOrderRequest}> SELL </button></td>}      \r\n\r\n  \t\t\t{orderWindowView.sellBuyCNCMISView && <td> <button style={{backgroundColor:(pendingOrderRequest!=0)?'grey':'yellow'}} className=\"sellBuyButton\" onClick={this.sendCNCMISSellBuyOrderRequest}> S->B </button></td>}      \r\n       </tr>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n","import React from 'react';\nimport './App.css';\n\nimport WatchList from './WatchList';\nimport GlobalindexList from './GlobalindexList';\nimport HoldingList from './HoldingList';\n\nimport StockInfo from './StockInfo';\n\nimport BasketOrderDialog from './BasketOrderDialog';\nimport FundamentalsDialog from './Fundamentals';\n\nimport toaster from \"toasted-notes\";\nimport \"toasted-notes/src/styles.css\"; \n\nimport CurrentTime from './CurrentTime';\n\nimport Search from './Search';\nimport Screener from './Screener';\n\n\nimport {getMargin,showNotification,getFullQuote} from './OrderUtil';\n\nimport HoldingOrderDialog from './HoldingOrderDialog';\n\nimport { IoMdAddCircle ,IoMdNotifications,IoMdNotificationsOff,IoMdRemove,IoMdTrash,IoIosAdd,IoIosCreate} from 'react-icons/io'\n\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n   \n\n   //\"{\"favSymbols\":[\"JAMNAAUTO\",\"ABFRL\",\"BAJFINANCE\",\"GRAUWEIL\",\"JMFINANCIL\",\"VIPIND\",\"HERITGFOOD\",\"GARFIBRES\",\"NESCO\",\"APLAPOLLO\",\"HESTERBIO\",\"SHOPERSTOP\",\"SARDAEN\",\"BHARATFORG\",\"WHIRLPOOL\",\"HAVELLS\",\"TEAMLEASE\",\"TRENT\",\"AVANTIFEED\",\"CHOLAFIN\",\"SBICARD\",\"RITES\",\"MINDAIND\",\"APEX\",\"HDFCAMC\",\"ECLERX\",\"NAUKRI\",\"CGCL\",\"CONTROLPR\",\"VMART\",\"NIITTECH\",\"SAKUMA\",\"ITI\",\"JINDALSTEL\",\"NAM-INDIA\",\"TIINDIA\",\"RUPA\",\"DLF\",\"IRCTC\",\"FINCABLES\",\"CUB\",\"MAITHANALL\",\"KRBL\",\"AXISBANK\",\"VBL\",\"PVR\",\"UPL\",\"APCOTEXIND\",\"SRF\",\"BORORENEW\",\"GMMPFAUDLR\",\"CENTURYPLY\",\"ISEC\",\"ALKYLAMINE\",\"TITAN\",\"TASTYBIT\",\"FILATEX\",\"ADFFOODS\",\"CAPLIPOINT\",\"GUJALKALI\",\"SUPREMEIND\",\"SUDARSCHEM\",\"SURYAROSNI\",\"SHAKTIPUMP\",\"GNA\",\"SRTRANSFIN\",\"MOTHERSUMI\",\"MINDACORP\",\"MEGH\",\"KPRMILL\",\"SUBROS\",\"JKPAPER\",\"CARBORUNIV\",\"KEC\",\"POLYCAB\",\"CCL\",\"ICICIBANK\",\"DCMSHRIRAM\",\"ENDURANCE\",\"PHOENIXLTD\",\"KALPATPOWR\",\"ORIENTREF\",\"ASTRAL\",\"SPICEJET\",\"KOTAKBANK\",\"RAJESHEXPO\",\"NITINSPIN\",\"AEGISCHEM\",\"TRIDENT\",\"INDIGO\",\"METROPOLIS\",\"APOLLOPIPE\",\"HONAUT\",\"GODREJCP\",\"INDHOTEL\",\"ASIANPAINT\",\"MUTHOOTCAP\",\"ZYDUSWELL\",\"ALKEM\",\"CHAMBLFERT\",\"INDOAMIN\",\"VIRINCHI\",\"GRANULES\",\"MAHSCOOTER\",\"AIAENG\",\"ORIENTELEC\",\"INOXLEISUR\",\"CANTABIL\",\"ATUL\",\"VGUARD\",\"POLYPLEX\",\"INFIBEAM\",\"FAIRCHEM\",\"ESCORTS\",\"PIDILITIND\",\"JBCHEPHARM\",\"JUBLFOOD\",\"GMBREW\",\"DAAWAT\",\"GODREJAGRO\",\"VINATIORGA\",\"SUNDRMFAST\",\"GODREJPROP\",\"AARTIIND\",\"SUVEN\",\"PIIND\",\"ASTEC\",\"STARPAPER\",\"CANFINHOME\",\"GODFRYPHLP\",\"TASTYBITE\",\"pvr\",\"del\",\"DELTACORP\",\"WELCORP\",\"VENKEYS\",\"upl\",\"spic\",\"PGHH\",\"PGHL\",\"atul\",\"star\",\"WSTCSTPAPR\",\"NRAIL\",\"AFFLE-BE\",\"LINDEINDIA\",\"SHILPAMED\",\"GLOBUSSPR\",\"BERGEPAINT\",\"NESTLEIND\",\"IPCALAB\",\"THYROCARE\",\"gnfc\",\"GNFC\",\"apex\",\"WATERBASE\",\"BIOCON\",\"bi\",\"BRITANNIA\",\"SKFINDIA\",\"BATAINDIA\",\"MCDOWELL-N\",\"abb\",\"ABBOTINDIA\",\"TCIEXP\",\"TATAMETALI\",\"NEOGEN-BE\",\"HAWKINCOOK\",\"VRLLOG\",\"HATSUN\",\"gmm\",\"GMM\",\"MARUTI\",\"DMART-BE\",\"ESSELPACK\",\"megh\",\"NOCIL\",\"UFLEX\",\"gna\",\"JSWSTEEL\",\"NMDC\",\"JAICORPLTD\",\"SEPERATOR\",\"SEPERATOR\",\"irctc\"],\"favSymbols1\":[\"RUPA\",\"krbl\",\"KPRMILL\",\"SUNDRMFAST\",\"CARBORUNIV\",\"KRBL\",\"TIINDIA\",\"TEAMLEASE\",\"NAUKRI\",\"vbl\",\"VBL\",\"INDIAMART\",\"METROPOLIS\",\"IRCTC\",\"JUBILANT\",\"GODFRYPHLP\",\"TCIEXP\",\"igl\",\"IGL\",\"MGL\",\"GARFIBRES\",\"ASTRAL\",\"ccl\",\"CCL\",\"ESCORTS\",\"INOXLEISUR\",\"WHIRLPOOL\",\"JBCHEPHARM\",\"BRITANNIA\",\"ABBOTINDIA\",\"AIAENG\",\"iolcp\",\"IOLCP\",\"SANOFI\",\"HATSUN\",\"TRENT\",\"hdfc\",\"HDFCAMC\",\"MUTHOOTFIN\",\"ASIANPAINT\",\"TRANSPEK\",\"RITES\",\"kei\",\"KEC\",\"KEI\",\"CAPLIPOINT\",\"ORIENTELEC\",\"HERITGFOOD\",\"ADFFOODS\",\"POLYPLEX\",\"RADICO\",\"ASALCBR\",\"HONAUT\",\"SYMPHONY\",\"ti\",\"TIMKEN\",\"MINDAIND\",\"HARITASEAT\",\"NIITTECH\",\"POLYCAB\",\"pvr\",\"PVR\",\"JUBLFOOD\",\"THYROCARE\",\"VIPIND\",\"srf\",\"atul\",\"GRANULES\",\"CANFINHOME\",\"BAJFINANCE\",\"itc\",\"ITC\",\"MIDHANI\",\"FINCABLES\",\"vmart\",\"VMART\",\"NESCO\",\"ALEMBICLTD\",\"CONTROLPR\",\"GMM\",\"MAHSCOOTER\",\"mgl\",\"SEPERATOR\",\"gmm\",\"ATUL\",\"SRF\",\"BALAMINES\",\"VINATIORGA\",\"FINEORG\",\"AARTIIND\",\"UPL\",\"ALKYLAMINE\",\"SUDARSCHEM\",\"NAVINFLUOR\",\"DEEPAKNTR\",\"FAIRCHEM\",\"DIAMINESQ\",\"MEGH\",\"SEPERATOR\",\"AVANTIFEED\",\"WATERBASE\",\"VENKEYS\",\"APEX\",\"apex\",\"SEPERATOR\",\"JKPAPER\",\"STARPAPER\",\"WSTCSTPAPR\",\"NRAIL\",\"ORIENTPPR\",\"RUCHIRA\",\"YASHPAKKA\",\"SEPERATOR\",\"DAAWAT\",\"megh\",\"EVERESTIND\",\"itdc\",\"ITDCEM\",\"rain\",\"RAIN\",\"MENONBE\",\"RICOAUTO\",\"ACE\",\"INDOAMIN\",\"TIMETECHNO\",\"PRAKASH\",\"AEGISCHEM\",\"AEGISLOG\",\"SPICEJET\",\"AVTNPL\",\"GENUSPOWER\",\"SHAKTIPUMP\",\"WELCORP\",\"DELTACORP\",\"SURYAROSNI\",\"EMMBI\",\"NITINSPIN\"],\"favSymbols2\":[\"RELIANCE\",\"HDFCBANK\",\"hdfc\",\"HDFC\",\"AXISBANK\",\"ICICIBANK\",\"KOTAKBANK\",\"CUB\",\"SBIN\",\"DCBBANK\",\"RBLBANK\",\"BANDHANBNK\",\"AUBANK\",\"INDUSINDBK\",\"YESBANK\",\"FEDERALBNK\",\"BANKBARODA\",\"SRTRANSFIN\",\"BAJFINANCE\",\"CANFINHOME\",\"CREDITACC\",\"HDFCLIFE\",\"HDFCAMC\",\"ISEC\",\"ICICIGI\",\"ICICIPRULI\",\"CHOLAFIN\",\"CHOLAHLDNG\",\"SBICARD\",\"SBILIFE\",\"PNB\",\"MFSL\",\"MASFIN\",\"MUTHOOTFIN\",\"MUTHOOTCAP\",\"CHEVIOT\",\"NAM-INDIA\",\"BAJAJFINSV\",\"BAJAJHLDNG\",\"IBULHSGFIN\",\"IBVENTURES\",\"AAVAS\",\"dlf\",\"SEPERATOR\",\"SEPERATOR\",\"DLF\",\"IBREALEST\",\"IBULISL\",\"SOBHA\",\"GODREJPROP\",\"SEPERATOR\",\"tcs\",\"SEPERATOR\",\"TCS\",\"INFY\",\"NIITTECH\",\"MASTEK\",\"MPHASIS\",\"SONATSOFTW\",\"SASKEN\",\"HEXAWARE\",\"iti\",\"ITI\",\"MINDTREE\",\"CYIENT\",\"SEPERATOR\",\"mrf\",\"SEPERATOR\",\"FRETAIL\",\"FLFL\",\"ABFRL\",\"RAYMOND\",\"TRIDENT\",\"SHOPERSTOP\",\"SEPERATOR\",\"SEPERATOR\",\"TAJGVK\",\"LEMONTREE\",\"INDHOTEL\",\"ORIENTHOT\",\"MHRIL\",\"SEPERATOR\",\"SEPERATOR\",\"GMM\",\"3MINDIA\",\"WHIRLPOOL\",\"ABBOTINDIA\",\"HONAUT\",\"NESTLEIND\",\"VBL\",\"PGHH\",\"SEPERATOR\",\"SEPERATOR\",\"PIIND\",\"SRF\",\"BALAMINES\",\"VINATIORGA\",\"FINEORG\",\"DEEPAKNTR\",\"TRANSPEK\",\"AARTIIND\",\"GUJALKALI\",\"UPL\",\"ALKYLAMINE\",\"JBCHEPHARM\",\"NAVINFLUOR\",\"SUDARSCHEM\",\"NEOGEN-BE\",\"FAIRCHEM\",\"DIAMINESQ\",\"MEGH\",\"ATUL\",\"SEPERATOR\",\"SEPERATOR\",\"LUPIN\",\"LALPATHLAB\",\"BIOCON\",\"CIPLA\",\"KOPRAN\",\"HESTERBIO\",\"ALKEM\",\"MARKSANS\",\"AUROPHARMA\",\"TORNTPHARM\",\"DRREDDY\",\"ALEMBICLTD\",\"NECLIFE\",\"ASTRAZEN\",\"GLAXO\",\"GRANULES\",\"JUBILANT\",\"METROPOLIS\",\"THYROCARE\",\"CAPLIPOINT\",\"MOREPENLAB\",\"SEPERATOR\",\"SEPERATOR\",\"KEI\",\"FINCABLES\",\"PRINCEPIPE\",\"ASTRAL\",\"FINPIPE\",\"SUPREMEIND\",\"NILKAMAL\",\"POLYCAB\",\"SEPERATOR\",\"SEPERATOR\",\"VEDL\",\"TATASTEEL\",\"TATAMETALI\",\"TINPLATE\",\"JAICORPLTD\",\"HINDZINC\",\"COALINDIA\",\"JSWSTEEL\",\"JINDALSTEL\",\"NMDC\",\"MAITHANALL\",\"NELCO-BE\",\"MOIL\",\"SEPERATOR\",\"SEPERATOR\",\"MARUTI\",\"ESCORTS\",\"MINDAIND\",\"HARITASEAT\",\"BAJAJ-AUTO\",\"M&M\",\"NRBBEARING\",\"AUTOAXLES\",\"WABCOINDIA\",\"MRF\",\"AIAENG\",\"apollo\",\"APOLLOTYRE\",\"BOSCHLTD\",\"AMARAJABAT\",\"EXIDEIND\",\"EICHERMOT\",\"ENDURANCE\",\"JAMNAAUTO\",\"JAYBARMARU\",\"SUBROS\",\"gna\",\"GNA\",\"MENONBE\",\"MOTHERSUMI\",\"SEPERATOR\",\"SEPERATOR\",\"AVANTIFEED\",\"WATERBASE\",\"VENKEYS\",\"APEX\",\"SEPERATOR\",\"SEPERATOR\",\"JKPAPER\",\"STARPAPER\",\"WSTCSTPAPR\",\"NRAIL\",\"ORIENTPPR\",\"RUCHIRA\",\"YASHPAKKA\"],\"favSymbols3\":[\"NIFTY 50\",\"NIFTY BANK\",\"nifty it\",\"INDIA VIX\",\"NIFTY IT\",\"NIFTY AUTO\",\"NIFTY PHARMA\",\"NIFTY FMCG\",\"NIFTY METAL\",\"NIFTY CONSUMPTION\",\"NIFTY NEXT 50\",\"NIFTY MIDCAP 100\",\"NIFTY SMLCAP 100\",\"SEPERATOR\",\"RELIANCE\",\"SEPERATOR\",\"NESTLEIND\",\"HINDUNILVR\",\"BRITANNIA\",\"ASIANPAINT\",\"DMART-BE\",\"INDIAMART\",\"vmart\",\"VMART\",\"3MINDIA\",\"TITAN\",\"GSKCONS\",\"PGHL\",\"PGHH\",\"ASTRAL\",\"KANSAINER\",\"ORIENTELEC\",\"BERGEPAINT\",\"GILLETTE\",\"JUBLFOOD\",\"pvr\",\"ABBOTINDIA\",\"MARICO\",\"NESCO\",\"itc\",\"ITC\",\"VSTIND\",\"GODFRYPHLP\",\"ntpc\",\"MARUTI\",\"RAYMOND\",\"SYMPHONY\",\"PAGEIND\",\"GODREJCP\",\"PVR\",\"BATAINDIA\",\"PIDILITIND\",\"PIIND\",\"HAVELLS\",\"DABUR\",\"AIAENG\",\"TTKPRESTIG\",\"VOLTAS\",\"WHIRLPOOL\",\"RELAXO\",\"BANKNIFTY20MAY19000CE\"],\"kitePerfData\":{\"INFIBEAM\":{\"color\":\"#ffffff\"},\"GRANULES\":{\"color\":\"#ffffff\"},\"RELIANCE\":{\"color\":\"#bfffff\"},\"HDFCBANK\":{\"color\":\"#bfffff\"},\"HDFC\":{\"color\":\"#bfffff\"},\"NIFTY 50\":{\"color\":\"#b6ebaf\"},\"NIFTY BANK\":{\"color\":\"#b6ebaf\"}},\"kiteBasketOrderData\":[\"NESCO\",\"ASTRAL\",\"VGUARD\",\"PHOENIXLTD\",\"JAMNAAUTO\",\"JUBLFOOD\",\"ABFRL\",\"INDUSINDBK\",\"BAJFINANCE\",\"SUPREMEIND\",\"CENTURYPLY\",\"VMART\",\"PVR\",\"TEAMLEASE\",\"RITES\",\"CARBORUNIV\",\"JMFINANCIL\",\"VIPIND\",\"INDHOTEL\",\"SHOPERSTOP\",\"UPL\",\"TIINDIA\",\"ASIANPAINT\",\"AIAENG\",\"ITC\",\"NIITTECH\",\"BHARATFORG\",\"APLAPOLLO\",\"MOTHERSUMI\",\"CHOLAFIN\",\"CUB\",\"ICICIBANK\",\"AXISBANK\",\"NAUKRI\",\"MINDAIND\",\"TRENT\",\"GODFRYPHLP\",\"ESCORTS\",\"ATUL\",\"ALKYLAMINE\",\"SRF\",\"VBL\",\"DLF\",\"KOTAKBANK\",\"SBICARD\",\"JINDALSTEL\",\"CCL\",\"INDIAMART\"]}\"\n\n    let favSymbols = localStorage.getItem(\"kite_favSymbols\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols\")):[];\n    let favSymbols1 = localStorage.getItem(\"kite_favSymbols1\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols1\")):[];\n    let favSymbols2 = localStorage.getItem(\"kite_favSymbols2\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols2\")):[];\n    let favSymbols3 = localStorage.getItem(\"kite_favSymbols3\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_favSymbols3\")):[];\n\n    let kitePerfData = localStorage.getItem(\"kitePerfData.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kitePerfData.json\")):[];\n\n    let kiteBasketOrderData = localStorage.getItem(\"kiteBasketOrderData.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteBasketOrderData.json\")):[];\n\n    this.kiteOldPriceData = localStorage.getItem(\"kiteOldChanges.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteOldChanges.json\")):[];\n    let resultCalenderData = localStorage.getItem(\"kite_resultCalender\")!=undefined ?JSON.parse(localStorage.getItem(\"kite_resultCalender\")):[];\n\n    this.state={isShowEditor:false,isShowResults:false,isShowMIS:false,isShowNotification:true,isShowGL:true,favSymbols:favSymbols,favSymbols1:favSymbols1,favSymbols2:favSymbols2,favSymbols3:favSymbols3,kitePerfData:kitePerfData,kiteBasketOrderData:kiteBasketOrderData,symbolSelector:{cursor:undefined,isAdd:true,isShow:false},isLoadOldPrice:false,resultCalenderData:resultCalenderData};\n\n    this.alertMap ={};\n\n    this.indexSymbols=['NIFTY 50','NIFTY BANK','INDIA VIX','NIFTY IT','NIFTY AUTO','NIFTY PHARMA','NIFTY FMCG','NIFTY METAL','NIFTY CONSUMPTION','NIFTY PSU BANK','NIFTY PVT BANK','NIFTY REALTY','NIFTY INFRA','NIFTY ENERGY','NIFTY NEXT 50','NIFTY MIDCAP 100','NIFTY SMLCAP 100'];\n\n  }\n\n\n\n\n\n\n\nshowToast=(content,symbol)=>{\n    if(this.state.isShowNotification){\n        if(this.alertMap.hasOwnProperty(symbol) &&  (( Date.now() - this.alertMap[symbol]) < 10*60*1000 )){\n          return;\n        }\n        toaster.notify(content, {\n          position: \"bottom-left\", // top-left, top, top-right, bottom-left, bottom, bottom-right\n          duration: 100000 // This notification will not automatically close\n        });\n        this.alertMap[symbol]=Date.now();\n    }\n}\n\n\n\nupdateMarginData=()=>{\n  getMargin(this.onMarginSuccess,this.onMarginError);\n}\n\nonMarginSuccess=(data)=>{\n  this.setState({margin:data}); \n}\nonMarginError=()=>{\n}\n\n\nshowBasketOrderDialog=()=>{\n  this.setState({isShowBasketOrderDialog:true});\n  if(this.basketOrderDialogRef){\n    this.basketOrderDialogRef.showDialog();\n  }\n}\n\nhideBasketOrderDialog=()=>{\n  this.setState({isShowBasketOrderDialog:undefined});\n}\n\n\n\n\nshowHoldingOrderDialog=()=>{\n  this.setState({isShowHoldingOrderDialog:true});\n  if(this.holdingOrderDialogRef){\n    this.holdingOrderDialogRef.showDialog();\n  }\n}\n\nhideHoldingOrderDialog=()=>{\n  this.setState({isShowHoldingOrderDialog:undefined});\n}\n\n\n\nhideStokInfo=()=>{\n  this.setState({stockInfo:undefined});\n}\n\n\nhideFundamentalsDialog=()=>{\n  this.setState({showFundamental:undefined});\n}\n\nshowFundamentalsDialog=(symbol)=>{\n  this.setState({showFundamental:symbol});\n}\n\n\nescFunction=(event)=>{\n    if(event.keyCode === 27) {\n      this.hideStokInfo();\n      this.hideBasketOrderDialog();\n      this.hideFundamentalsDialog();\n      this.hideHoldingOrderDialog();\n    }\n}\n\n\n\ncomponentDidMount() {\n  this.fetchAllKiteSymbolsList();\n  this.fetchBSEtoNSEmaapingList();\n  \n  this.resCalenderTimout=setTimeout(this.fetchRecentCalenderCSVFile,5000);\n\n  this.marketQuoteTimeout=setTimeout(this.fetchMarketQuote,5000);\n\n  this.updateMarginData();\n  this.refreshData();\n  this.refreshKiteTicksData();\n\n  this.interval = setInterval(this.refreshData, 1200);\n  this.kiteTickinterval = setInterval(this.refreshKiteTicksData, 800);\n  document.addEventListener(\"keyup\", this.escFunction, false);\n}\n\n  componentWillUnmount(){\n    document.removeEventListener(\"keyup\", this.escFunction, false);\n    clearInterval( this.interval );\n    clearInterval( this.kiteTickinterval );\n    clearTimeout( this.resCalenderTimout);\n    clearTimeout( this.fetchMarketQuote);\n  }\n\n\n refreshKiteTicksData =()=>{\n\n      fetch(window.domain+'kiteticks.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n\n         if(this.state.isLoadOldPrice){\n              this.kitedata = this.kiteOldPriceData\n         } else{\n            this.kitedata =  jsonData;\n         }\n         \n      //  this.createDummyTicks();\n\n        this.setState({kitedata:this.kitedata,investingdata:this.investingdata,positionsdata:this.positionsdata,holdingsdata:this.holdingsdata,kiteAllSymbols:this.kiteAllSymbols});\n\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n        \n}\n\n refreshData =()=>{\n\n      fetch(window.domain+'changes.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.investingdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n\n      fetch(window.domain+'positions.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.positionsdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n      fetch(window.domain+'holdings.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.holdingsdata = jsonData;\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n\n     //  this.setState({kitedata:this.kitedata,investingdata:this.investingdata,positionsdata:this.positionsdata,holdingsdata:this.holdingsdata,kiteAllSymbols:this.kiteAllSymbols});\n\n }\n\n\n\n\n\nrandomFloat=(min, max) =>{\n   return min + (max - min) * Math.random();\n}\ncreateDummyTicks=()=>{\n  let min =0;\n  let keys=Object.keys(this.kitedata.ticks);\n  let max = keys.length;\n\n  for(let i=0;i<10;i++){\n    let randomKey = min + Math.floor((max - min) * Math.random());\n    this.kitedata.ticks[keys[randomKey]].lastTradedPrice = this.randomFloat(0,500);\n    this.kitedata.ticks[keys[randomKey]].change = this.randomFloat(0,8);\n  }\n}\n\n\n\n\n onFetchMarketQuoteSuccess=(data)=>{\n   if(this.quoteData){\n      let keys = Object.keys(data.data);\n      for(let i=0;i<keys.length;i++){\n        this.quoteData[keys[i]]=data.data[keys[i]];\n      }\n   }else{\n      this.quoteData=data.data;\n   }\n }\n\n \n onFetchMarketQuoteError=(data)=>{\n  window.alert('Error to fetch Market Quotes');\n }\n\n fetchMarketQuote=()=>{\n  if(this.kitedata){\n      let ticks = this.kitedata.ticks;\n      let keys = Object.keys(ticks);\n      let queryString = '';\n      for(let i=0;i<keys.length;i++){\n        queryString += ('i='+ ticks[keys[i]].exchange +\":\" + ticks[keys[i]].tradingsymbol +'&');\n        if(i==499 || i==keys.length-1){\n          getFullQuote(queryString,this.onFetchMarketQuoteSuccess,this.onFetchMarketQuoteError);\n          queryString='';\n        }        \n      }      \n  }else{\n    window.alert('Unable to fetch Market Quotes');\n  }\n }\n\n  fetchBSEtoNSEmaapingList=()=>{\n      fetch(window.domain+'BSEtoNSEsymbolsMapping.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.BSEtoNSEsymbolsMapping = jsonData;\n         this.setState({BSEtoNSEsymbolsMapping:this.BSEtoNSEsymbolsMapping});\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n  }\n\n\n\n  fetchAllKiteSymbolsList=()=>{\n      fetch(window.domain+'kiteAllSymbols.json?v='+(new Date().getTime()))\n        .then(response => response.json())\n        .then(function(jsonData){\n         this.kiteAllSymbols = jsonData;\n         this.setState({kiteAllSymbols:this.kiteAllSymbols});\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n  }\n\n\n\n  fetchRecentCalenderCSVFile=()=>{\n      fetch(window.domain+'output/result-calendar.csv?v='+(new Date().getTime()))\n        .then(response => response.text())\n        .then(function(textData){\n          if(this.kitedata == undefined || this.holdingsdata == undefined){\n            window.alert('Upcoming results not loaded');\n            return;\n          }\n\n          let holdingMap = {};\n          for(let i=0;i<this.holdingsdata.data.length;i++){\n            holdingMap[this.holdingsdata.data[i].tradingsymbol]=true;\n          }\n\n\n         let rows = textData.split(\"\\n\") ;\n/*         \n         let todayDate = new Date();          \n         if(todayDate.getDay() == 6 || todayDate.getDay() == 0){\n           todayDate.setDate(todayDate.getDate()-3);\n         }else{\n           todayDate.setDate(todayDate.getDate()-1);\n         }\n*/\n         let recentResultCalender={};\n         for(let i=0;i<rows.length;i++){\n            if(rows[i].trim().length > 0){\n              let symbol =rows[i].trim().split(',')[0].toUpperCase();\n              let date = rows[i].trim().split(',')[1];\n              if(this.kitedata.ticks[symbol] !=undefined){\n                let rowDate = new Date(rows[i].trim().split(',')[1]);\n                //if(rowDate >= todayDate){\n                  if(recentResultCalender[date] ==undefined){\n                    recentResultCalender[date]=[];\n                  }\n                  recentResultCalender[date].push({symbol:symbol,date:new Date(date).toDateString(),inHolding:holdingMap[symbol]});\n              //  }\n              }\n            }\n         }\n         this.setState({recentResultCalender:recentResultCalender});\n\n        }.bind(this))\n        .catch((error) => {\n          console.error(error)\n        })\n  }\n\n\n \n  saveCurrentPrice=()=>{\n    localStorage.setItem(\"kiteOldChanges.json\", JSON.stringify(this.kitedata));   \n  }\n\n\n onTableRowclick=(data,tableId,isOpenGraph)=>{\n    let symbolSelector = this.state.symbolSelector; \n    if(symbolSelector.isShow && [0,1,2,3,'MIS','RES'].includes(tableId) ){\n      symbolSelector.cursor=data;\n      document.getElementById(\"portfolioInput\").value=tableId;\n    }\n    this.setState({stockInfo:{symbol:data,tableId:tableId,isOpenGraph:isOpenGraph},symbolSelector:symbolSelector});\n }\n\n\n\n onSelectorInput=(evt)=>{\n    let val = document.getElementById(\"inputSymbol\").value;    \n    \n\n    let tempMatch = this.state.kiteAllSymbols.allSymbols.filter(function(item){ return item.tradingsymbol.toUpperCase()==val.toUpperCase()});\n    if(tempMatch.length >0 || val.toUpperCase()=='SEPERATOR'){\n        let portfolioId = document.getElementById(\"portfolioInput\").value;\n        let isAdd = this.state.symbolSelector.isAdd;\n\n        if(['0','1','2','3','MIS','RES'].includes(portfolioId) ){\n          if(isAdd){\n            this.addToFavList(val,portfolioId);            \n          }else{\n            this.removeFromFavList(val,portfolioId);           \n          }         \n        }\n        document.getElementById(\"inputSymbol\").select();\n    }\n }\n\n\n\n  getFavSymbols=(listId)=>{\n    switch(listId){\n      case \"0\": return this.state.favSymbols;\n      case \"1\": return this.state.favSymbols1;\n      case \"2\": return this.state.favSymbols2;\n      case \"3\": return this.state.favSymbols3;\n      case \"MIS\": return this.state.kiteBasketOrderData;  //MIS\n      case \"RES\": return this.state.resultCalenderData;  //MIS\n      default:break;    \n    }\n  }\n\n  setFavSymbols=(listId,tempSymbols)=>{\n    switch(listId){\n      case \"0\":  this.setState({favSymbols:tempSymbols});localStorage.setItem(\"kite_favSymbols\", JSON.stringify(tempSymbols)); break;    \n      case \"1\":  this.setState({favSymbols1:tempSymbols});  localStorage.setItem(\"kite_favSymbols1\", JSON.stringify(tempSymbols)); break;\n      case \"2\":  this.setState({favSymbols2:tempSymbols});localStorage.setItem(\"kite_favSymbols2\", JSON.stringify(tempSymbols)); break;\n      case \"3\":  this.setState({favSymbols3:tempSymbols});localStorage.setItem(\"kite_favSymbols3\", JSON.stringify(tempSymbols)); break;\n      case \"MIS\": this.setState({kiteBasketOrderData:tempSymbols});localStorage.setItem(\"kiteBasketOrderData.json\", JSON.stringify(tempSymbols));break;\n      case \"RES\": this.setState({resultCalenderData:tempSymbols});localStorage.setItem(\"kite_resultCalender\", JSON.stringify(tempSymbols));break;\n      default: break;  \n    }\n  }\n\n\n\n  addToFavList=(data,listId)=>{\n\n    listId = listId==undefined?\"\":listId+\"\";\n    let tempSymbols = this.getFavSymbols(listId);    \n\n    if(data != 'SEPERATOR'){\n      tempSymbols = tempSymbols.filter(function(value, index){\n        return value != data;\n      });   \n    }\n\n    if(data == 'SEPERATOR' || this.state.kitedata.ticks[data]){\n      let cursorRowId = this.state.symbolSelector.cursor?this.state.symbolSelector.cursor:'';  \n      let indertPos = tempSymbols.indexOf(cursorRowId);\n      if(indertPos >= 0){\n        tempSymbols.splice(indertPos, 0, data);\n      }else{\n        tempSymbols.unshift(data);\n      }\n\n      this.setFavSymbols(listId,tempSymbols);       \n    }\n\n    if(data != 'SEPERATOR' && !this.state.kitedata.ticks[data]){\n      console.error(data);\n    }\n\n  }\n\n\n  removeFromFavList=(data,listId)=>{\n    listId = listId==undefined?\"\":listId+\"\";\n    let tempSymbols = this.getFavSymbols(listId);\n    \n    if(data != 'SEPERATOR'){\n      tempSymbols = tempSymbols.filter(function(value, index){\n        return value != data;\n      });\n    }else{\n      let cursorRowId = this.state.symbolSelector.cursor?this.state.symbolSelector.cursor:'';  \n      let deletePos = tempSymbols.indexOf(cursorRowId);\n      tempSymbols.splice(deletePos+1,1)\n      \n    }     \n    this.setFavSymbols(listId,tempSymbols);\n  }\n\n\n\n  updateKitePerfData=(tradingSymbol,porpKey,propValue)=>{\n\n    const{\n      kitePerfData\n    }=this.state;\n\n    if( kitePerfData[tradingSymbol] == undefined){\n       kitePerfData[tradingSymbol] = {};\n    }\n    kitePerfData[tradingSymbol][porpKey]=propValue;\n    localStorage.setItem(\"kitePerfData.json\", JSON.stringify(kitePerfData));\n\n    this.setState({kitePerfData:kitePerfData});\n  }\n\n\n  bringElementInView(selector){\n      if(document.querySelectorAll(selector) && document.querySelectorAll(selector)[0]){\n        document.querySelectorAll(selector)[0].scrollIntoView();  \n      }      \n  }\n\n\n handleChange=(content, delta, source, editor) =>{\n      localStorage.setItem('editorText',editor.getHTML());\n  }\n\n  render() {\n\n    const{\n      kitedata,\n      investingdata,\n      positionsdata,\n      holdingsdata,\n      favSymbols,\n      favSymbols1,\n      favSymbols2,\n      favSymbols3,\n      kitePerfData,\n      stockInfo,\n      isShowBasketOrderDialog,\n      isShowHoldingOrderDialog,\n      kiteBasketOrderData,\n      symbolSelector,\n      kiteAllSymbols,\n      showFundamental,\n      resultCalenderData,\n      margin,\n      isShowGL,\n      isShowMIS,\n      isShowResults,\n      recentResultCalender,\n      isShowEditor,\n      BSEtoNSEsymbolsMapping\n    }=this.state;\n\n\n\n\n    let gainers=[];\n    let loosers=[];\n\n\n    if(kitedata){\n      let tempSortedTicks = Object.keys(kitedata.ticks);\n      let sortedTicks = [];\n      for(let i=0;i<tempSortedTicks.length;i++){\n        if(kitedata.ticks[tempSortedTicks[i]].exchange == 'NFO') continue;\n        sortedTicks.push(tempSortedTicks[i]);\n      }  \n\n      if(isShowGL){\n        sortedTicks.sort(function(t1, t2){return kitedata.ticks[t2].change - kitedata.ticks[t1].change});\n        for (let i = 0; i < sortedTicks.length; i++) {\n            if(kitedata.ticks[sortedTicks[i]].change < 2)break;\n            gainers.push(sortedTicks[i]);\n        }\n\n        for (let i = sortedTicks.length-1; i >= 0; i--) {\n            if(kitedata.ticks[sortedTicks[i]].change > -2)break;\n              loosers.push(sortedTicks[i]);\n        }\n      }else{\n\n        sortedTicks.sort(function(t1, t2){\n          let v1 = (kitedata.ticks[t1].highPrice - kitedata.ticks[t1].lastTradedPrice)*100/kitedata.ticks[t1].highPrice;\n          let v2 = (kitedata.ticks[t2].highPrice - kitedata.ticks[t2].lastTradedPrice)*100/kitedata.ticks[t2].highPrice;\n          return v1 - v2;\n        });\n        for (let i = 0; i < sortedTicks.length; i++) {\n            let down = (kitedata.ticks[sortedTicks[i]].highPrice - kitedata.ticks[sortedTicks[i]].lastTradedPrice)*100/kitedata.ticks[sortedTicks[i]].highPrice;\n            if(down > 6)break;\n            gainers.push(sortedTicks[i]);\n        }\n\n        sortedTicks.sort(function(t1, t2){\n          let v1 = (kitedata.ticks[t1].lastTradedPrice - kitedata.ticks[t1].lowPrice)*100/kitedata.ticks[t1].lowPrice;\n          let v2 = (kitedata.ticks[t2].lastTradedPrice - kitedata.ticks[t2].lowPrice)*100/kitedata.ticks[t2].lowPrice;\n          return v1 - v2;\n        });\n         for (let i = 0; i < sortedTicks.length; i++) {\n            let up = (kitedata.ticks[sortedTicks[i]].lastTradedPrice - kitedata.ticks[sortedTicks[i]].lowPrice)*100/kitedata.ticks[sortedTicks[i]].lowPrice;\n            if(up > 6)break;\n            loosers.push(sortedTicks[i]);\n        }\n\n\n      }\n\n\n\n\n\n    }\n\n\n\n\n  let feedStatusStyle ={};\n  if(kitedata && investingdata ){\n        let servTime = investingdata.time;\n        let kiteTime = kitedata.time;\n        let date = new Date();\n        let clientTime = date.getHours()*60+date.getMinutes()\n        if(Math.abs(clientTime - servTime) > 5 || Math.abs(clientTime - kiteTime) > 5){\n          feedStatusStyle.display = \"block\";\n        }else{\n          feedStatusStyle.display = \"none\"\n        }\n  }\n\n\n\n\n    return (\n\n      <div>\n        <div style={feedStatusStyle} className='feed-status'></div>\n\n        {kitedata && holdingsdata && positionsdata &&  BSEtoNSEsymbolsMapping && <div className='tableContainer holding'><HoldingList BSEtoNSEsymbolsMapping={BSEtoNSEsymbolsMapping} kitedata={kitedata} margin={margin} onTableRowclick={this.onTableRowclick} positionsdata={positionsdata} holdingsdata={holdingsdata}/></div>}\n\n        {kitedata &&  investingdata &&\n          <div className='indexColumn'>\n            <div className='tableContainer niftyIndex'><WatchList  showToast={this.showToast} onTableRowclick={this.onTableRowclick}  kitePerfData={kitePerfData}  kitedata={kitedata} symbolList={this.indexSymbols}/></div>  \n            <div className='tableContainer index'><GlobalindexList  investingdata={investingdata} /></div>\n            <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={3}   onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols3}/></div>\n          </div>\n        }\n\n        {kitedata && <div className='tableContainer loser'><WatchList showToast={this.showToast} onTableRowclick={this.onTableRowclick} kitedata={kitedata} symbolList={loosers}/></div>}\n        {kitedata && <div className='tableContainer gainers'><WatchList   showToast={this.showToast} onTableRowclick= {this.onTableRowclick} kitedata={kitedata} symbolList={gainers}/></div>}\n       \n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={0} onTableRowclick={this.onTableRowclick}  kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  recentResultCalender={recentResultCalender} resultCalenderData={isShowResults?resultCalenderData:undefined}  kiteBasketOrderData={isShowMIS?kiteBasketOrderData:undefined}  showToast={this.showToast} tableId={1}  onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols1}/></div>}\n        {kitedata && <div className='tableContainer watchlistclass'><WatchList  showToast={this.showToast} tableId={2}   onTableRowclick={this.onTableRowclick} kitePerfData={kitePerfData} kitedata={kitedata} symbolList={favSymbols2}/></div>}\n\n\n        {stockInfo && <StockInfo isOpenGraph={stockInfo.isOpenGraph} positionsdata={positionsdata} holdingsdata={holdingsdata} quoteData={this.quoteData} updateMarginData={this.updateMarginData} showFundamentalsDialog={this.showFundamentalsDialog} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList} hideStokInfo={this.hideStokInfo} stockInfo={stockInfo} updateKitePerfData={this.updateKitePerfData} kitePerfData={kitePerfData} kitedata={kitedata}/> }\n\n        { isShowBasketOrderDialog && <BasketOrderDialog updateMarginData={this.updateMarginData} ref={(ref) => this.basketOrderDialogRef = ref} positionsdata={positionsdata} onTableRowclick={this.onTableRowclick} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList} kiteBasketOrderData={kiteBasketOrderData} hideBasketOrderDialog={this.hideBasketOrderDialog} kitedata={kitedata} /> }\n\n        { isShowHoldingOrderDialog && BSEtoNSEsymbolsMapping &&  <HoldingOrderDialog BSEtoNSEsymbolsMapping={BSEtoNSEsymbolsMapping} updateMarginData={this.updateMarginData} ref={(ref) => this.holdingOrderDialogRef = ref} positionsdata={positionsdata} holdingsdata={holdingsdata} onTableRowclick={this.onTableRowclick} addToFavList={this.addToFavList} removeFromFavList={this.removeFromFavList}  hideHoldingOrderDialog={this.hideHoldingOrderDialog} kitedata={kitedata} /> }\n\n\n        <CurrentTime />\n       \n\n\n        {showFundamental && <FundamentalsDialog symbol={showFundamental} hideFundamentalsDialog={this.hideFundamentalsDialog} kitedata={kitedata} /> }\n\n        { isShowEditor && <ReactQuill  theme=\"snow\" defaultValue={localStorage.getItem('editorText')} onChange={this.handleChange} /> }\n\n        <div className='tool-bar' >\n\n\n          <button type=\"button\"  onClick={this.saveCurrentPrice}>SAVE</button> \n          <button type=\"button\"  style={{backgroundColor:(this.state.isLoadOldPrice?'red':'initial')}} onClick={(evt)=>{ this.kiteOldPriceData = localStorage.getItem(\"kiteOldChanges.json\")!=undefined ?JSON.parse(localStorage.getItem(\"kiteOldChanges.json\")):[]; this.setState({isLoadOldPrice:!this.state.isLoadOldPrice});} } >{!this.state.isLoadOldPrice?'OLD':'NEW'}</button> \n          <br/>\n          <button type=\"button\" className=\"fontBold\" onClick={this.showBasketOrderDialog}>MIS</button>    \n          <Search kitedata={kitedata} onTableRowclick={this.onTableRowclick}  showToast={this.showToast} />\n          <Screener addToFavList={this.addToFavList} kitedata={kitedata} onTableRowclick={this.onTableRowclick}/>\n\n          <button type=\"button\"  onClick={(evt)=>{symbolSelector.isShow = !symbolSelector.isShow ; this.setState({symbolSelector:symbolSelector});}} >{symbolSelector.isShow?<IoMdRemove className=\"appicon\"/>:<IoMdAddCircle className=\"appicon\"/>}</button>\n\n          <button type=\"button\" style={{backgroundColor:(!this.state.isShowNotification?'red':'initial')}} onClick={(evt)=>{ showNotification(!this.state.isShowNotification); this.setState({isShowNotification:!this.state.isShowNotification}); } } >{this.state.isShowNotification?<IoMdNotifications className=\"appicon\"/>:<IoMdNotificationsOff className=\"appicon\"/>}</button> \n\n\n        <div className=\"dropdown\">\n          <button className=\"dropbtn\">SEC</button>\n          <div className=\"dropdown-content secFilter\" >\n\n            <a style={{backgroundColor:(isShowMIS?'green':'red')}} onClick={(evt)=>{ this.setState({isShowMIS:!isShowMIS}); if(!isShowMIS) setTimeout(this.bringElementInView,500,\"tr[rowid='MIS-MISSCRIPTS']\") }}>MIS</a>\n            <a style={{backgroundColor:(isShowResults?'green':'red')}} onClick={(evt)=>{ this.setState({isShowResults:!isShowResults}); if(!isShowResults) setTimeout(this.bringElementInView,500,\"tr[rowid='RES-RESCALENDER']\")}}>Result</a>\n            <a ></a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HDFCBANK']\")}}>Bank</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HINDUNILVR']\")}}>Fmcg</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-TCS']\")}}>IT</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-MARUTI']\")}}>Auto</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-AARTIIND']\")}}>Chemical</a>          \n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-DLF']\")}}>Real state</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-FRETAIL']\")}}>Retail</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-TAJGVK']\")}}>Hotel</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-GMM']\")}}>MNC</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-LUPIN']\")}}>Pharma</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-RADICO']\")}}>Alcohol</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-KEI']\")}}>Cable</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-VEDL']\")}}>Metal</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-HINDPETRO']\")}}>Oil</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-AVANTIFEED']\")}}>Food</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-JKPAPER']\")}}>Paper</a>\n            <a onClick={(evt)=>{this.bringElementInView(\"tr[rowid='2-ULTRACEMCO']\")}}>Cement</a>\n          </div>\n        </div>\n\n\n        <button style={{backgroundColor:(!isShowGL?'red':'initial')}} type=\"button\" onClick={(evt)=>{ this.setState({isShowGL:!this.state.isShowGL});} }>{isShowGL?'N-HL':'GL'}</button>    \n\n        <button type=\"button\" onClick={(evt)=>{this.setState({isShowEditor:!isShowEditor});}}><IoIosCreate className=\"appicon\"/></button>\n\n        <button type=\"button\" onClick={this.showHoldingOrderDialog}>HOLD</button>\n\n        \n         \n        \n\n        </div>\n\n\n\n{\n  symbolSelector.isShow && kiteAllSymbols &&\n      <div className=\"symbolSelector\">\n      \n        <button className=\"addRemove\" style={{backgroundColor:symbolSelector.isAdd?'green':'red'}} onClick={(evt)=>{symbolSelector.isAdd = !symbolSelector.isAdd ; this.setState({symbolSelector:symbolSelector});}} type=\"button\">{symbolSelector.isAdd?<IoIosAdd className=\"appicon\"/>:<IoMdTrash className=\"appicon\"/>}</button>\n          \n          <input type='text'  onInput={this.onSelectorInput} id='inputSymbol' list='inputdlist'></input>\n          <datalist id='inputdlist'>\n\n           { kiteAllSymbols.allSymbols.map((item,i)=> \n            { \n\n               if(item.exchange == 'NFO'){\n                if(item.name == 'NIFTY' || item.name == 'BANKNIFTY'){\n                  if(item.segment=='NFO-OPT'){\n                    let textName = item.name + \" \" + item.expiry.split(' ')[0] + \" \" + item.strike +\" \"+item.instrument_type +\" | \" + item.expiry.split(' ')[1] +\" \" + item.expiry.split(' ')[2];\n                     return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{textName}</option>);            \n                  }else if(item.segment=='NFO-FUT'){\n                    let textName = item.name + \" \" + item.expiry.split(' ')[0] + \" \" + item.expiry.split(' ')[1] +\" \"+item.instrument_type;\n                     return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{textName}</option>);            \n                  }\n                }                 \n              }else{\n                 return (<option key={item.tradingsymbol} value={item.tradingsymbol}>{item.name}</option>);  \n              }\n\n            })}\n\n            <option key='SEPERATOR' value=\"SEPERATOR\">SEPERATOR</option>\n          </datalist> \n          \n          <input type='text'  id='portfolioInput' list='portfolioList' ></input>\n          <datalist id='portfolioList'>\n            <option value={0}>0</option>\n            <option value={1}>1</option>\n            <option value={2}>2</option>\n            <option value={3}>3</option>\n            <option value={'MIS'}>MIS</option> \n            <option value={'RES'}>RES</option>     \n          </datalist>   \n          \n          <label className=\"cursor\">{symbolSelector.cursor}</label> \n        \n      </div>\n\n}\n\n\n\n      </div>\n\n\n    )\n  }\n\n}\n\n\nexport default App;\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}